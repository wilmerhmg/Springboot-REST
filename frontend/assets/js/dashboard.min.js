if(function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],i=r.deps,o=r.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=n(i[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";r.instance=c}(t),r.instance},r=t,i=function(e,t){r(e,[],function(){return t})};i("4",Array),i("5",Error),r("1",["4","5"],function(e,t){var n=function(e){return function(){return e}};return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=new e(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];var o=n.concat(r);return t.apply(null,o)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:n(!1),always:n(!0)}}),i("2",window),i("3a",Object),r("2n",["1","3a"],function(e,t){var n,r,i,o,a=e.never,s=e.always,l=function(){return c},c=(o={fold:function(e,t){return e()},is:a,isSome:a,isNone:s,getOr:i=function(e){return e},getOrThunk:r=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:i,orThunk:r,map:l,ap:l,each:function(){},bind:l,flatten:l,exists:a,forall:s,filter:l,equals:n=function(e){return e.isNone()},equals_:n,toArray:function(){return[]},toString:e.constant("none()")},t.freeze&&t.freeze(o),o),u=function(e){var t=function(){return e},n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:function(t){return u(t(e))},ap:function(t){return t.fold(l,function(t){return u(t(e))})},each:function(t){t(e)},bind:r,flatten:t,exists:r,forall:r,filter:function(t){return t(e)?i:c},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(a,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i};return{some:u,none:l,from:function(e){return null===e||void 0===e?c:u(e)}}}),i("3b",String),r("1i",["2n","4","5","3b"],function(e,t,n,r){var i,o=void 0===(i=t.prototype.indexOf)?function(e,t){return f(e,t)}:function(e,t){return i.call(e,t)},a=function(e,t){return o(e,t)>-1},s=function(e,n){for(var r=e.length,i=new t(r),o=0;o<r;o++){var a=e[o];i[o]=n(a,o,e)}return i},l=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},c=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},u=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r,e)&&n.push(o)}return n},d=function(t,n){for(var r=0,i=t.length;r<i;r++){if(n(t[r],r,t))return e.some(r)}return e.none()},f=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},p=t.prototype.push,h=function(e){for(var r=[],i=0,o=e.length;i<o;++i){if(!t.prototype.isPrototypeOf(e[i]))throw new n("Arr.flatten item "+i+" was not an array, input: "+e);p.apply(r,e[i])}return r},m=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},g=t.prototype.slice;return{map:s,each:l,eachr:c,partition:function(e,t){for(var n=[],r=[],i=0,o=e.length;i<o;i++){var a=e[i];(t(a,i,e)?n:r).push(a)}return{pass:n,fail:r}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],i=[],o=0,a=e.length;o<a;o++){var s=e[o],l=t(s);l!==n&&(r.push(i),i=[]),n=l,i.push(s)}return 0!==i.length&&r.push(i),r},indexOf:function(t,n){var r=o(t,n);return-1===r?e.none():e.some(r)},foldr:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return l(e,function(e){n=t(n,e)}),n},find:function(t,n){for(var r=0,i=t.length;r<i;r++){var o=t[r];if(n(o,r,t))return e.some(o)}return e.none()},findIndex:d,flatten:h,bind:function(e,t){var n=s(e,t);return h(n)},forall:m,exists:function(e,t){return d(e,t).isSome()},contains:a,equal:function(e,t){return e.length===t.length&&m(e,function(e,n){return e===t[n]})},reverse:function(e){var t=g.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var i=e.slice(r,r+t);n.push(i)}return n},difference:function(e,t){return u(e,function(e){return!a(t,e)})},mapToObject:function(e,t){for(var n={},i=0,o=e.length;i<o;i++){var a=e[i];n[r(a)]=t(a,i)}return n},pure:function(e){return[e]},sort:function(e,t){var n=g.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(t){return 0===t.length?e.none():e.some(t[0])},last:function(t){return 0===t.length?e.none():e.some(t[t.length-1])}}}),i("1j",document),r("65",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),r("4y",["65"],function(e){var t=function(t,n){for(var r=void 0!==n?n:e,i=0;i<t.length&&void 0!==r&&null!==r;++i)r=r[t[i]];return r},n=function(t,n){for(var r=void 0!==n?n:e,i=0;i<t.length;++i)o=r,a=t[i],void 0!==o[a]&&null!==o[a]||(o[a]={}),r=o[a];var o,a;return r};return{path:t,resolve:function(e,n){var r=e.split(".");return t(r,n)},forge:n,namespace:function(e,t){var r=e.split(".");return n(r,t)}}}),r("3c",["4y"],function(e){return{getOrDie:function(t,n){var r,i,o=(r=t,i=n,e.resolve(r,i));if(void 0===o)throw t+" not available on this browser";return o}}}),r("1k",["3c"],function(e){var t=function(){return e.getOrDie("URL")};return{createObjectURL:function(e){return t().createObjectURL(e)},revokeObjectURL:function(e){t().revokeObjectURL(e)}}}),i("1l",matchMedia),i("1m",navigator),r("b",["1k","1j","1l","1m","2"],function(e,t,n,r,i){var o,a,s,l,c,u,d,f,p,h,m,g,v,b=r,y=b.userAgent,w=function(e){return"matchMedia"in i&&n(e).matches};return o=i.opera&&i.opera.buildNumber,p=/Android/.test(y),s=(s=!(a=/WebKit/.test(y))&&!o&&/MSIE/gi.test(y)&&/Explorer/gi.test(b.appName))&&/MSIE (\w+)\./.exec(y)[1],l=-1!=y.indexOf("Trident/")&&(-1!=y.indexOf("rv:")||-1!=b.appName.indexOf("Netscape"))&&11,c=-1!=y.indexOf("Edge/")&&!s&&!l&&12,s=s||l||c,u=!a&&!l&&/Gecko/.test(y),d=-1!=y.indexOf("Mac"),f=/(iPad|iPhone)/.test(y),h="FormData"in i&&"FileReader"in i&&"URL"in i&&!!e.createObjectURL,m=w("only screen and (max-device-width: 480px)")&&(p||f),g=w("only screen and (min-width: 800px)")&&(p||f),v=-1!=y.indexOf("Windows Phone"),c&&(a=!1),{opera:o,webkit:a,ie:s,gecko:u,mac:d,iOS:f,android:p,contentEditable:!f||h||y.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=s,range:i.getSelection&&"Range"in i,documentMode:s&&!c?t.documentMode||7:10,fileApi:h,ceFalse:!1===s||s>8,canHaveCSP:!1===s||s>11,desktop:!m&&!g,windowsPhone:v}}),i("1n",clearInterval),i("1o",clearTimeout),i("1p",setInterval),i("1q",setTimeout),r("1d",[],function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(t,e(r,this),e(i,this))}function n(e){var t=this;return null===this._state?void this._deferreds.push(e):void s(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void a(e(n,t),e(r,this),e(i,this))}this._state=!0,this._value=t,o.call(this)}catch(e){i.call(this,e)}}function i(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;e<t;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}if(window.Promise)return window.Promise;var s=t.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(e,r){var i=this;return new t(function(t,o){n.call(i,new function(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}(e,r,t,o))})},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new t(function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}e[o]=a,0==--i&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},t}),r("15",["1n","1o","1j","1p","1q","2","1d"],function(e,t,n,r,i,o,a){var s,l=function(e,t){return"number"!=typeof t&&(t=0),i(e,t)},c=function(e,t){return"number"!=typeof t&&(t=1),r(e,t)},u=function(e,n){var r,i;return(i=function(){var i=arguments;t(r),r=l(function(){e.apply(this,i)},n)}).stop=function(){t(r)},i};return{requestAnimationFrame:function(e,t){return s?void s.then(e):void(s=new a(function(e){t||(t=n.body),function(e,t){var n,r=o.requestAnimationFrame,i=["ms","moz","webkit"];for(n=0;n<i.length&&!r;n++)r=o[i[n]+"RequestAnimationFrame"];r||(r=function(e){o.setTimeout(e,0)}),r(e,t)}(e,t)}).then(e))},setTimeout:l,setInterval:c,setEditorTimeout:function(e,t,n){return l(function(){e.removed||t()},n)},setEditorInterval:function(t,n,r){var i;return i=c(function(){t.removed?e(i):n()},r)},debounce:u,throttle:u,clearInterval:function(t){return e(t)},clearTimeout:function(e){return t(e)}}}),r("o",["1j","2","b","15"],function(e,t,n,r){"use strict";var i=/^(?:mouse|contextmenu)|click/,o={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},a=function(){return!1},s=function(){return!0},l=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},c=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},u=function(t,r){var l,c,u,d,f,p,h=r||{};for(l in t)o[l]||(h[l]=t[l]);if(h.target||(h.target=h.srcElement||e),n.experimentalShadowDom&&(h.target=(c=t,u=h.target,f=u,(d=c.path)&&d.length>0&&(f=d[0]),c.deepPath&&(d=c.deepPath())&&d.length>0&&(f=d[0]),f)),t&&i.test(t.type)&&void 0===t.pageX&&void 0!==t.clientX){var m=h.target.ownerDocument||e,g=m.documentElement,v=m.body;h.pageX=t.clientX+(g&&g.scrollLeft||v&&v.scrollLeft||0)-(g&&g.clientLeft||v&&v.clientLeft||0),h.pageY=t.clientY+(g&&g.scrollTop||v&&v.scrollTop||0)-(g&&g.clientTop||v&&v.clientTop||0)}return h.preventDefault=function(){h.isDefaultPrevented=s,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},h.stopPropagation=function(){h.isPropagationStopped=s,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},h.stopImmediatePropagation=function(){h.isImmediatePropagationStopped=s,h.stopPropagation()},!1==((p=h).isDefaultPrevented===s||p.isDefaultPrevented===a)&&(h.isDefaultPrevented=a,h.isPropagationStopped=a,h.isImmediatePropagationStopped=a),void 0===h.metaKey&&(h.metaKey=!1),h},d=function(e,t,i){var o=e.document,a={type:"ready"};if(i.domLoaded)t(a);else{var s=function(){return"complete"===o.readyState||"interactive"===o.readyState&&o.body},u=function(){i.domLoaded||(i.domLoaded=!0,t(a))},d=function(){s()&&(c(o,"readystatechange",d),u())},f=function(){try{o.documentElement.doScroll("left")}catch(e){return void r.setTimeout(f)}u()};!o.addEventListener||n.ie&&n.ie<11?(l(o,"readystatechange",d),o.documentElement.doScroll&&e.self===e.top&&f()):s()?u():l(e,"DOMContentLoaded",u),l(e,"load",u)}},f=function(){var n,r,i,o,a,s=this,f={};r="mce-data-"+(+new Date).toString(32),o="onmouseenter"in e.documentElement,i="onfocusin"in e.documentElement,a={mouseenter:"mouseover",mouseleave:"mouseout"},n=1,s.domLoaded=!1,s.events=f;var p=function(e,t){var n,r,i,o,a=f[t];if(n=a&&a[e.type])for(r=0,i=n.length;r<i;r++)if((o=n[r])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};s.bind=function(e,c,h,m){var g,v,b,y,w,x,C,$=t,S=function(e){p(u(e||$.event),g)};if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[r]?g=e[r]:(g=n++,e[r]=g,f[g]={}),m=m||e,b=(c=c.split(" ")).length;b--;)x=S,w=C=!1,"DOMContentLoaded"===(y=c[b])&&(y="ready"),s.domLoaded&&"ready"===y&&"complete"==e.readyState?h.call(m,u({type:y})):(o||(w=a[y])&&(x=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=u(e||$.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,p(e,g))}),i||"focusin"!==y&&"focusout"!==y||(C=!0,w="focusin"===y?"focus":"blur",x=function(e){(e=u(e||$.event)).type="focus"===e.type?"focusin":"focusout",p(e,g)}),(v=f[g][y])?"ready"===y&&s.domLoaded?h({type:y}):v.push({func:h,scope:m}):(f[g][y]=v=[{func:h,scope:m}],v.fakeName=w,v.capture=C,v.nativeHandler=x,"ready"===y?d(e,x,s):l(e,w||y,x,C)));return e=v=0,h}},s.unbind=function(e,t,n){var i,o,a,l,u,d;if(!e||3===e.nodeType||8===e.nodeType)return s;if(i=e[r]){if(d=f[i],t){for(a=(t=t.split(" ")).length;a--;)if(o=d[u=t[a]]){if(n)for(l=o.length;l--;)if(o[l].func===n){var p=o.nativeHandler,h=o.fakeName,m=o.capture;(o=o.slice(0,l).concat(o.slice(l+1))).nativeHandler=p,o.fakeName=h,o.capture=m,d[u]=o}n&&0!==o.length||(delete d[u],c(e,o.fakeName||u,o.nativeHandler,o.capture))}}else{for(u in d)o=d[u],c(e,o.fakeName||u,o.nativeHandler,o.capture);d={}}for(u in d)return s;delete f[i];try{delete e[r]}catch(t){e[r]=null}}return s},s.fire=function(e,t,n){var i;if(!e||3===e.nodeType||8===e.nodeType)return s;(n=u(null,n)).type=t,n.target=e;do{(i=e[r])&&p(n,i),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!n.isPropagationStopped());return s},s.clean=function(e){var t,n,i=s.unbind;if(!e||3===e.nodeType||8===e.nodeType)return s;if(e[r]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[r]&&i(e);return s},s.destroy=function(){f={}},s.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};return(f.Event=new f).bind(t,"ready",function(){}),f}),r("r",[],function(){function e(e,t,n,r){var i,o,a,l,u,d,f,p,h,m;if((t?t.ownerDocument||t:P)!==_&&T(t),t=t||_,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(D&&!r){if(i=ue.exec(e))if(a=i[1]){if(9===l){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&R(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Y.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&g.getElementsByClassName)return Y.apply(n,t.getElementsByClassName(a)),n}if(g.qsa&&(!A||!A.test(e))){if(p=f=O,h=t,m=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){for(d=w(e),(f=t.getAttribute("id"))?p=f.replace(fe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=d.length;u--;)d[u]=p+c(d[u]);h=de.test(e)&&s(t.parentNode)||t,m=d.join(",")}if(m)try{return Y.apply(n,h.querySelectorAll(m)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return C(e.replace(ee,"$1"),t,n,r)}function t(){var e=[];return function t(n,r){return e.push(n+" ")>v.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function n(e){return e[O]=!0,e}function r(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function a(e){return n(function(t){return t=+t,n(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function s(e){return e&&typeof e.getElementsByTagName!==z&&e}function l(){}function c(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function u(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=M++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,c=[I,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(l=t[O]||(t[O]={}))[r])&&s[0]===I&&s[1]===o)return c[2]=s[2];if(l[r]=c,c[2]=e(t,n,a))return!0}}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function f(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function p(t,r,i,o,a,s){return o&&!o[O]&&(o=p(o)),a&&!a[O]&&(a=p(a,s)),n(function(n,s,l,c){var u,d,p,h=[],m=[],g=s.length,v=n||function(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}(r||"*",l.nodeType?[l]:l,[]),b=!t||!n&&r?v:f(v,h,t,l,c),y=i?a||(n?t:g||o)?[]:s:b;if(i&&i(b,y,l,c),o)for(u=f(y,m),o(u,[],l,c),d=u.length;d--;)(p=u[d])&&(y[m[d]]=!(b[m[d]]=p));if(n){if(a||t){if(a){for(u=[],d=y.length;d--;)(p=y[d])&&u.push(b[d]=p);a(null,y=[],u,c)}for(d=y.length;d--;)(p=y[d])&&(u=a?X.call(n,p):h[d])>-1&&(n[u]=!(s[u]=p))}}else y=f(y===s?y.splice(g,y.length):y),a?a(null,s,y,c):Y.apply(s,y)})}function h(e){for(var t,n,r,i=e.length,o=v.relative[e[0].type],a=o||v.relative[" "],s=o?1:0,l=u(function(e){return e===t},a,!0),f=u(function(e){return X.call(t,e)>-1},a,!0),m=[function(e,n,r){return!o&&(r||n!==$)||((t=n).nodeType?l(e,n,r):f(e,n,r))}];s<i;s++)if(n=v.relative[e[s].type])m=[u(d(m),n)];else{if((n=v.filter[e[s].type].apply(null,e[s].matches))[O]){for(r=++s;r<i&&!v.relative[e[r].type];r++);return p(s>1&&d(m),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ee,"$1"),n,s<r&&h(e.slice(s,r)),r<i&&h(e=e.slice(r)),r<i&&c(e))}m.push(n)}return d(m)}var m,g,v,b,y,w,x,C,$,S,k,T,_,E,D,A,N,R,O="sizzle"+-new Date,P=window.document,I=0,M=0,L=t(),B=t(),F=t(),j=function(e,t){return e===t&&(k=!0),0},z="undefined",U=1<<31,H={}.hasOwnProperty,q=[],V=q.pop,W=q.push,Y=q.push,G=q.slice,X=q.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},K="[\\x20\\t\\r\\n\\f]",Z="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",J="\\["+K+"*("+Z+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Z+"))|)"+K+"*\\]",Q=":("+Z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+J+")*)|.*)\\)|)",ee=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),te=new RegExp("^"+K+"*,"+K+"*"),ne=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),re=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),ie=new RegExp(Q),oe=new RegExp("^"+Z+"$"),ae={ID:new RegExp("^#("+Z+")"),CLASS:new RegExp("^\\.("+Z+")"),TAG:new RegExp("^("+Z+"|[*])"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},se=/^(?:input|select|textarea|button)$/i,le=/^h\d$/i,ce=/^[^{]+\{\s*\[native \w/,ue=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,de=/[+~]/,fe=/'|\\/g,pe=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),he=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Y.apply(q=G.call(P.childNodes),P.childNodes),q[P.childNodes.length].nodeType}catch(e){Y={apply:q.length?function(e,t){W.apply(e,G.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(m in g=e.support={},y=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=e.setDocument=function(e){var t,n=e?e.ownerDocument||e:P,i=n.defaultView;return n!==_&&9===n.nodeType&&n.documentElement?(_=n,E=n.documentElement,D=!y(n),i&&i!==function(e){try{return e.top}catch(e){}return null}(i)&&(i.addEventListener?i.addEventListener("unload",function(){T()},!1):i.attachEvent&&i.attachEvent("onunload",function(){T()})),g.attributes=!0,g.getElementsByTagName=!0,g.getElementsByClassName=ce.test(n.getElementsByClassName),g.getById=!0,v.find.ID=function(e,t){if(typeof t.getElementById!==z&&D){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},v.filter.ID=function(e){var t=e.replace(pe,he);return function(e){return e.getAttribute("id")===t}},v.find.TAG=g.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==z)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},v.find.CLASS=g.getElementsByClassName&&function(e,t){if(D)return t.getElementsByClassName(e)},N=[],A=[],g.disconnectedMatch=!0,A=A.length&&new RegExp(A.join("|")),N=N.length&&new RegExp(N.join("|")),t=ce.test(E.compareDocumentPosition),R=t||ce.test(E.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return k=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===P&&R(P,e)?-1:t===n||t.ownerDocument===P&&R(P,t)?1:S?X.call(S,e)-X.call(S,t):0:4&r?-1:1)}:function(e,t){if(e===t)return k=!0,0;var i,o=0,a=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!a||!s)return e===n?-1:t===n?1:a?-1:s?1:S?X.call(S,e)-X.call(S,t):0;if(a===s)return r(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?r(l[o],c[o]):l[o]===P?-1:c[o]===P?1:0},n):_},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==_&&T(t),n=n.replace(re,"='$1']"),g.matchesSelector&&D&&(!N||!N.test(n))&&(!A||!A.test(n)))try{var r=(void 0).call(t,n);if(r||g.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(e){}return e(n,_,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==_&&T(e),R(e,t)},e.attr=function(e,t){(e.ownerDocument||e)!==_&&T(e);var n=v.attrHandle[t.toLowerCase()],r=n&&H.call(v.attrHandle,t.toLowerCase())?n(e,t,!D):void 0;return void 0!==r?r:g.attributes||!D?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},e.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},e.uniqueSort=function(e){var t,n=[],r=0,i=0;if(k=!g.detectDuplicates,S=!g.sortStable&&e.slice(0),e.sort(j),k){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return S=null,e},b=e.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=b(t);return n},(v=e.selectors={cacheLength:50,createPseudo:n,match:ae,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(pe,he),e[3]=(e[3]||e[4]||e[5]||"").replace(pe,he),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ae.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ie.test(n)&&(t=w(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(pe,he).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=L[e+" "];return t||(t=new RegExp("(^|"+K+")"+e+"("+K+"|$)"))&&L(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==z&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&b){for(p=(c=(u=g[O]||(g[O]={}))[e]||[])[0]===I&&c[1],f=c[0]===I&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[I,p,f];break}}else if(b&&(c=(t[O]||(t[O]={}))[e])&&c[0]===I)f=c[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[O]||(d[O]={}))[e]=[I,f]),d!==t)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(t,r){var i,o=v.pseudos[t]||v.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[O]?o(r):o.length>1?(i=[t,t,"",r],v.setFilters.hasOwnProperty(t.toLowerCase())?n(function(e,t){for(var n,i=o(e,r),a=i.length;a--;)e[n=X.call(e,i[a])]=!(t[n]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:n(function(e){var t=[],r=[],i=x(e.replace(ee,"$1"));return i[O]?n(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,n,o){return t[0]=e,i(t,null,o,r),!r.pop()}}),has:n(function(t){return function(n){return e(t,n).length>0}}),contains:n(function(e){return e=e.replace(pe,he),function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),lang:n(function(t){return oe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(pe,he).toLowerCase(),function(e){var n;do{if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===E},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!v.pseudos.empty(e)},header:function(e){return le.test(e.nodeName)},input:function(e){return se.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:a(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=v.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[m]=i(m);for(m in{submit:!0,reset:!0})v.pseudos[m]=o(m);return l.prototype=v.filters=v.pseudos,v.setFilters=new l,w=e.tokenize=function(t,n){var r,i,o,a,s,l,c,u=B[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=v.preFilter;s;){for(a in r&&!(i=te.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ne.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ee," ")}),s=s.slice(r.length)),v.filter)!(i=ae[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):B(t,l).slice(0)},x=e.compile=function(t,r){var i,o,a,s,l,c,u=[],d=[],p=F[t+" "];if(!p){for(r||(r=w(t)),i=r.length;i--;)(p=h(r[i]))[O]?u.push(p):d.push(p);(p=F(t,(o=d,s=(a=u).length>0,l=o.length>0,c=function(t,n,r,i,c){var u,d,p,h=0,m="0",g=t&&[],b=[],y=$,w=t||l&&v.find.TAG("*",c),x=I+=null==y?1:Math.random()||.1,C=w.length;for(c&&($=n!==_&&n);m!==C&&null!=(u=w[m]);m++){if(l&&u){for(d=0;p=o[d++];)if(p(u,n,r)){i.push(u);break}c&&(I=x)}s&&((u=!p&&u)&&h--,t&&g.push(u))}if(h+=m,s&&m!==h){for(d=0;p=a[d++];)p(g,b,n,r);if(t){if(h>0)for(;m--;)g[m]||b[m]||(b[m]=V.call(i));b=f(b)}Y.apply(i,b),c&&!t&&b.length>0&&h+a.length>1&&e.uniqueSort(i)}return c&&(I=x,$=y),g},s?n(c):c))).selector=t}return p},C=e.select=function(e,t,n,r){var i,o,a,l,u,d="function"==typeof e&&e,f=!r&&w(e=d.selector||e);if(n=n||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&g.getById&&9===t.nodeType&&D&&v.relative[o[1].type]){if(!(t=(v.find.ID(a.matches[0].replace(pe,he),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=ae.needsContext.test(e)?0:o.length;i--&&(a=o[i],!v.relative[l=a.type]);)if((u=v.find[l])&&(r=u(a.matches[0].replace(pe,he),de.test(o[0].type)&&s(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&c(o)))return Y.apply(n,r),n;break}}return(d||x(e,f))(r,t,!D,n,de.test(e)&&s(t.parentNode)||t),n},g.sortStable=O.split("").sort(j).join("")===O,g.detectDuplicates=!!k,T(),g.sortDetached=!0,e}),r("1r",[],function(){var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(e,t,n){var r,i;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,i=e.length;r<i;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},n=function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1};return{isArray:e,toArray:function(t){var n,r,i=t;if(!e(t))for(i=[],n=0,r=t.length;n<r;n++)i[n]=t[n];return i},each:t,map:function(e,n){var r=[];return t(e,function(t,i){r.push(n(t,i,e))}),r},filter:function(e,n){var r=[];return t(e,function(t,i){n&&!n(t,i,e)||r.push(t)}),r},indexOf:function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,r){var i=0;for(arguments.length<3&&(n=e[0]);i<e.length;i++)n=t.call(r,n,e[i],i);return n},findIndex:n,find:function(e,t,r){var i=n(e,t,r);if(-1!==i)return e[i]},last:function(e){return e[e.length-1]}}}),r("1e",["2","b","1r"],function(e,t,n){var r=/^\s*|\s*$/g,i=function(e){return null===e||void 0===e?"":(""+e).replace(r,"")},o=function(e,t){return t?!("array"!=t||!n.isArray(e))||typeof e==t:void 0!==e},a=function(e,t,r,i){i=i||this,e&&(r&&(e=e[r]),n.each(e,function(e,n){return!1!==t.call(i,e,n,r)&&void a(e,t,r,i)}))};return{trim:i,isArray:n.isArray,is:o,toArray:n.toArray,makeMap:function(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){var n,r,i,o,a=arguments;for(n=1,r=a.length;n<r;n++)for(i in t=a[n])t.hasOwnProperty(i)&&void 0!==(o=t[i])&&(e[i]=o);return e},create:function(e,t,n){var r,i,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],!(i=l.createNS(e[3].replace(/\.\w+$/,""),n))[o]){if("static"==e[2])return i[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],i[o]));t[o]||(t[o]=function(){},c=1),i[o]=t[o],l.extend(i[o].prototype,t),e[5]&&(r=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=i[o],i[o]=c?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],s.apply(this,arguments)},i[o].prototype[o]=i[o],l.each(r,function(e,t){i[o].prototype[t]=r[t]}),l.each(t,function(e,t){r[t]?i[o].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!=o&&(i[o].prototype[t]=e)})),l.each(t.static,function(e,t){i[o][t]=e})}},walk:a,createNS:function(t,n){var r,i;for(n=n||e,t=t.split("."),r=0;r<t.length;r++)n[i=t[r]]||(n[i]={}),n=n[i];return n},resolve:function(t,n){var r,i;for(n=n||e,r=0,i=(t=t.split(".")).length;r<i&&(n=n[t[r]]);r++);return n},explode:function(e,t){return!e||o(e,"array")?e:n.map(e.split(t||","),i)},_addCacheSuffix:function(e){var n=t.cacheSuffix;return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e}}}),r("n",["1j","o","r","b","1e"],function(e,t,n,r,i){var o,a=e,s=Array.prototype.push,l=Array.prototype.slice,c=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=t.Event,d=i.makeMap("children,contents,next,prev"),f=function(e){return void 0!==e},p=function(e){return"string"==typeof e},h=function(e,t){var n,r,i;for(i=(t=t||a).createElement("div"),n=t.createDocumentFragment(),i.innerHTML=e;r=i.firstChild;)n.appendChild(r);return n},m=function(e,t,n,r){var i;if(p(t))t=h(t,D(e[0]));else if(t.length&&!t.nodeType){if(t=S.makeArray(t),r)for(i=t.length-1;i>=0;i--)m(e,t[i],n,r);else for(i=0;i<t.length;i++)m(e,t[i],n,r);return e}if(t.nodeType)for(i=e.length;i--;)n.call(e[i],t);return e},g=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},v=function(e,t,n){var r,i;return t=S(t)[0],e.each(function(){var e=this;n&&r==e.parentNode?i.appendChild(e):(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e),i.appendChild(e))}),e},b=i.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),y=i.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),w={for:"htmlFor",class:"className",readonly:"readOnly"},x={float:"cssFloat"},C={},$={},S=function(e,t){return new S.fn.init(e,t)},k=/^\s*|\s*$/g,T=function(e){return null===e||e===o?"":(""+e).replace(k,"")},_=function(e,t){var n,r,i,o;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],!1===t.call(o,r,o)))break}else for(i=0;i<n&&(o=e[i],!1!==t.call(o,i,o));i++);return e},E=function(e,t){var n=[];return _(e,function(e,r){t(r,e)&&n.push(r)}),n},D=function(e){return e?9==e.nodeType?e:e.ownerDocument:a};S.fn=S.prototype={constructor:S,selector:"",context:null,length:0,init:function(t,n){var r,i,o=this;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(n&&n.nodeType)o.context=n;else{if(n)return S(t).attr(n);o.context=n=e}if(p(t)){if(o.selector=t,!(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:c.exec(t)))return S(n).find(t);if(r[1])for(i=h(t,D(n)).firstChild;i;)s.call(o,i),i=i.nextSibling;else{if(!(i=D(n).getElementById(r[2])))return o;if(i.id!==r[2])return o.find(t);o.length=1,o[0]=i}}else this.add(t,!1);return o},toArray:function(){return i.toArray(this)},add:function(e,t){var n,r,i=this;if(p(e))return i.add(S(e));if(!1!==t)for(n=S.unique(i.toArray().concat(S.makeArray(e))),i.length=n.length,r=0;r<n.length;r++)i[r]=n[r];else s.apply(i,S.makeArray(e));return i},attr:function(e,t){var n,r=this;if("object"==typeof e)_(e,function(e,t){r.attr(e,t)});else{if(!f(t)){if(r[0]&&1===r[0].nodeType){if((n=C[e])&&n.get)return n.get(r[0],e);if(y[e])return r.prop(e)?e:o;null===(t=r[0].getAttribute(e,2))&&(t=o)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=C[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=w[e]||e))_(e,function(e,t){n.prop(e,t)});else{if(!f(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,i=this,a=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},s=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)_(e,function(e,t){i.css(e,t)});else if(f(t))e=a(e),"number"!=typeof t||b[e]||(t+="px"),i.each(function(){var n=this.style;if((r=$[e])&&r.set)r.set(this,t);else{try{this.style[x[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(s(e)):n.removeAttribute(e))}});else{if(n=i[0],(r=$[e])&&r.get)return r.get(n);if(n.ownerDocument.defaultView)try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(e))}catch(e){return o}else if(n.currentStyle)return n.currentStyle[a(e)]}return i},remove:function(){for(var e,t=this.length;t--;)e=this[t],u.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(f(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){S(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(f(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return m(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return m(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?m(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?m(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return S(e).append(this),this},prependTo:function(e){return S(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return v(this,e)},wrapAll:function(e){return v(this,e,!0)},wrapInner:function(e){return this.each(function(){S(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){S(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),S(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?_(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var i,o;(o=g(r,e))!==t&&(i=r.className,o?r.className=T((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e)}),n)},hasClass:function(e){return g(this[0],e)},each:function(e){return _(this,e)},on:function(e,t){return this.each(function(){u.bind(this,e,t)})},off:function(e,t){return this.each(function(){u.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?u.fire(this,e.type,e):u.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new S(l.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)S.find(e,this[t],r);return S(r)},filter:function(e){return S("function"==typeof e?E(this.toArray(),function(t,n){return e(n,t)}):S.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof S&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&S(r).is(e)){t.push(r);break}if(r==e){t.push(r);break}r=r.parentNode}}),S(t)},offset:function(e){var t,n,r,i,o=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(i=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=i.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:o,top:a})},push:s,sort:[].sort,splice:[].splice},i.extend(S,{extend:i.extend,makeArray:function(e){return(t=e)&&t==t.window||e.nodeType?[e]:i.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:i.isArray,each:_,trim:T,grep:E,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!=t[r].nodeType&&t.splice(r,1);return 1===t.length?S.find.matchesSelector(t[0],e)?[t[0]]:[]:S.find.matches(e,t)}});var A=function(e,t,n){var r=[],i=e[t];for("string"!=typeof n&&n instanceof S&&(n=n[0]);i&&9!==i.nodeType;){if(void 0!==n){if(i===n)break;if("string"==typeof n&&S(i).is(n))break}1===i.nodeType&&r.push(i),i=i[t]}return r},N=function(e,t,n,r){var i=[];for(r instanceof S&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&S(e).is(r))break}i.push(e)}return i},R=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null};_({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return A(e,"parentNode")},next:function(e){return R(e,"nextSibling",1)},prev:function(e){return R(e,"previousSibling",1)},children:function(e){return N(e.firstChild,"nextSibling",1)},contents:function(e){return i.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){S.fn[e]=function(n){var r=[];return this.each(function(){var e=t.call(r,this,n,r);e&&(S.isArray(e)?r.push.apply(r,e):r.push(e))}),this.length>1&&(d[e]||(r=S.unique(r)),0===e.indexOf("parents")&&(r=r.reverse())),r=S(r),n?r.filter(n):r}}),_({parentsUntil:function(e,t){return A(e,"parentNode",t)},nextUntil:function(e,t){return N(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return N(e,"previousSibling",1,t).slice(1)}},function(e,t){S.fn[e]=function(n,r){var i=[];return this.each(function(){var e=t.call(i,this,n,i);e&&(S.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(i=S.unique(i),0!==e.indexOf("parents")&&"prevUntil"!==e||(i=i.reverse())),i=S(i),r?i.filter(r):i}}),S.fn.is=function(e){return!!e&&this.filter(e).length>0},S.fn.init.prototype=S.fn,S.overrideDefaults=function(e){var t,n=function(r,i){return t=t||e(),0===arguments.length&&(r=t.element),i||(i=t.context),new n.fn.init(r,i)};return S.extend(n,this),n};var O=function(e,t,n){_(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})};return r.ie&&r.ie<8&&(O(C,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?o:t},size:function(e){var t=e.size;return 20===t?o:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?o:t}}),O(C,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),r.ie&&r.ie<9&&(x.float="styleFloat",O($,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),S.attrHooks=C,S.cssHooks=$,S}),r("4z",[],function(){return{cached:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}}}}),i("74",Number),r("6q",["1i","74","3b"],function(e,t,n){var r=function(){return i(0,0)},i=function(e,t){return{major:e,minor:t}};return{nu:i,detect:function(e,o){var a=n(o).toLowerCase();return 0===e.length?r():function(e,n){var r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,n);if(!r)return{major:0,minor:0};var o=function(e){return t(n.replace(r,"$"+e))};return i(o(1),o(2))}(e,a)},unknown:r}}),r("66",["1","6q"],function(e,t){var n="Firefox",r=function(e,t){return function(){return t===e}},i=function(e){var t=e.current;return{current:t,version:e.version,isEdge:r("Edge",t),isChrome:r("Chrome",t),isIE:r("IE",t),isOpera:r("Opera",t),isFirefox:r(n,t),isSafari:r("Safari",t)}};return{unknown:function(){return i({current:void 0,version:t.unknown()})},nu:i,edge:e.constant("Edge"),chrome:e.constant("Chrome"),ie:e.constant("IE"),opera:e.constant("Opera"),firefox:e.constant(n),safari:e.constant("Safari")}}),r("67",["1","6q"],function(e,t){var n="Windows",r="Android",i="Solaris",o="FreeBSD",a=function(e,t){return function(){return t===e}},s=function(e){var t=e.current;return{current:t,version:e.version,isWindows:a(n,t),isiOS:a("iOS",t),isAndroid:a(r,t),isOSX:a("OSX",t),isLinux:a("Linux",t),isSolaris:a(i,t),isFreeBSD:a(o,t)}};return{unknown:function(){return s({current:void 0,version:t.unknown()})},nu:s,windows:e.constant(n),ios:e.constant("iOS"),android:e.constant(r),linux:e.constant("Linux"),osx:e.constant("OSX"),solaris:e.constant(i),freebsd:e.constant(o)}}),r("68",["1"],function(e){return function(t,n,r){var i=t.isiOS()&&!0===/ipad/i.test(r),o=t.isiOS()&&!i,a=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,l=i||a||s&&!0===/mobile/i.test(r),c=t.isiOS()||t.isAndroid(),u=c&&!l,d=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r);return{isiPad:e.constant(i),isiPhone:e.constant(o),isTablet:e.constant(l),isPhone:e.constant(u),isTouch:e.constant(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:e.constant(d)}}}),r("69",["1i","6q","3b"],function(e,t,n){var r=function(t,r){var i=n(r).toLowerCase();return e.find(t,function(e){return e.search(i)})};return{detectBrowser:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})},detectOs:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})}}}),r("53",[],function(){return{addToStart:function(e,t){return t+e},addToEnd:function(e,t){return e+t},removeFromStart:function(e,t){return e.substring(t)},removeFromEnd:function(e,t){return e.substring(0,e.length-t)}}}),r("54",["2n","5"],function(e,t){return{first:function(e,t){return e.substr(0,t)},last:function(e,t){return e.substr(e.length-t,e.length)},head:function(t){return""===t?e.none():e.some(t.substr(0,1))},tail:function(t){return""===t?e.none():e.some(t.substring(1))}}}),r("4h",["53","54","5"],function(e,t,n){var r=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},i=function(e,t){return r(e,t,0)},o=function(e,t){return r(e,t,e.length-t.length)};return{supplant:function(e,t){return e.replace(/\${([^{}]*)}/g,function(e,n){var r,i=t[n];return"string"==(r=typeof i)||"number"===r?i:e})},startsWith:i,removeLeading:function(t,n){return i(t,n)?e.removeFromStart(t,n.length):t},removeTrailing:function(t,n){return o(t,n)?e.removeFromEnd(t,n.length):t},ensureLeading:function(t,n){return i(t,n)?t:e.addToStart(t,n)},ensureTrailing:function(t,n){return o(t,n)?t:e.addToEnd(t,n)},endsWith:o,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return t.head(e).bind(function(n){return t.tail(e).map(function(e){return n.toUpperCase()+e})}).getOr(e)}}}),r("6a",["1","4h"],function(e,t){var n=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,r=function(e){return function(n){return t.contains(n,e)}},i=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return t.contains(e,"edge/")&&t.contains(e,"chrome")&&t.contains(e,"safari")&&t.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,n],search:function(e){return t.contains(e,"chrome")&&!t.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return t.contains(e,"msie")||t.contains(e,"trident")}},{name:"Opera",versionRegexes:[n,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:r("firefox")},{name:"Safari",versionRegexes:[n,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(t.contains(e,"safari")||t.contains(e,"mobile/"))&&t.contains(e,"applewebkit")}}],o=[{name:"Windows",search:r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return t.contains(e,"iphone")||t.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:r("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:r("linux"),versionRegexes:[]},{name:"Solaris",search:r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:r("freebsd"),versionRegexes:[]}];return{browsers:e.constant(i),oses:e.constant(o)}}),r("50",["66","67","68","69","6a"],function(e,t,n,r,i){return{detect:function(o){var a=i.browsers(),s=i.oses(),l=r.detectBrowser(a,o).fold(e.unknown,e.nu),c=r.detectOs(s,o).fold(t.unknown,t.nu);return{browser:l,os:c,deviceType:n(c,l,o)}}}}),r("3d",["4z","50","1m"],function(e,t,n){return{detect:e.cached(function(){var e=n.userAgent;return t.detect(e)})}}),r("3e",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),r("1v",["1","2n","5","3e","1j"],function(e,t,n,r,i){var o=function(t){if(null===t||void 0===t)throw new n("Node cannot be null or undefined");return{dom:e.constant(t)}};return{fromHtml:function(e,t){var n=(t||i).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw r.error("HTML does not have a single root node",e),"HTML must have a single root node";return o(n.childNodes[0])},fromTag:function(e,t){var n=(t||i).createElement(e);return o(n)},fromText:function(e,t){var n=(t||i).createTextNode(e);return o(n)},fromDom:o,fromPoint:function(e,n,r){return t.from(e.dom().elementFromPoint(n,r)).map(o)}}}),r("4d",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),r("3f",["4d"],function(e){var t=function(e){return e.dom().nodeName.toLowerCase()},n=function(e){return e.dom().nodeType},r=function(e){return function(t){return n(t)===e}},i=r(e.ELEMENT),o=r(e.TEXT),a=r(e.DOCUMENT);return{name:t,type:n,value:function(e){return e.dom().nodeValue},isElement:i,isText:o,isDocument:a,isComment:function(r){return n(r)===e.COMMENT||"#comment"===t(r)}}}),r("28",["4","3b"],function(e,t){var n=function(n){return function(r){return function(n){if(null===n)return"null";var r=typeof n;return"object"===r&&e.prototype.isPrototypeOf(n)?"array":"object"===r&&t.prototype.isPrototypeOf(n)?"string":r}(r)===n}};return{isString:n("string"),isObject:n("object"),isArray:n("array"),isNull:n("null"),isBoolean:n("boolean"),isUndefined:n("undefined"),isFunction:n("function"),isNumber:n("number")}}),r("4g",["2n","3a"],function(e,t){var n,r=void 0===(n=t.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:n,i=function(e,t){for(var n=r(e),i=0,o=n.length;i<o;i++){var a=n[i];t(e[a],a,e)}},o=function(e,t){var n={};return i(e,function(r,i){var o=t(r,i,e);n[o.k]=o.v}),n},a=function(e,t){var n=[];return i(e,function(e,r){n.push(t(e,r))}),n},s=function(e){return a(e,function(e){return e})};return{bifilter:function(e,t){var n={},r={};return i(e,function(e,i){(t(e,i)?n:r)[i]=e}),{t:n,f:r}},each:i,map:function(e,t){return o(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},mapToArray:a,tupleMap:o,find:function(t,n){for(var i=r(t),o=0,a=i.length;o<a;o++){var s=i[o],l=t[s];if(n(l,s,t))return e.some(l)}return e.none()},keys:r,values:s,size:function(e){return s(e).length}}}),r("48",["28","1i","4g","3f","5","3e"],function(e,t,n,r,i,o){var a=function(t,n,r){if(!(e.isString(r)||e.isBoolean(r)||e.isNumber(r)))throw o.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new i("Attribute value was not simple");t.setAttribute(n,r+"")},s=function(e,t,n){a(e.dom(),t,n)},l=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},c=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)};return{clone:function(e){return t.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},set:s,setAll:function(e,t){var r=e.dom();n.each(t,function(e,t){a(r,t,e)})},get:l,has:c,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){var t=e.dom().attributes;return void 0===t||null===t||0===t.length},transfer:function(e,n,i){r.isElement(e)&&r.isElement(n)&&t.each(i,function(t){var r,i,o;i=n,c(r=e,o=t)&&!c(i,o)&&s(i,o,l(r,o))})}}}),r("51",["4z","1v","3f","1j"],function(e,t,n,r){var i=e.cached(function(){return o(t.fromDom(r))}),o=function(e){var n=e.dom().body;if(null===n||void 0===n)throw"Body is not available yet";return t.fromDom(n)};return{body:i,getBody:o,inBody:function(e){var t=n.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)}}}),r("52",[],function(){return{isSupported:function(e){return void 0!==e.style}}}),r("3g",["28","1i","4g","2n","48","51","1v","3f","52","4h","5","3e","2"],function(e,t,n,r,i,o,a,s,l,c,u,d,f){var p=function(t,n,r){if(!e.isString(r))throw d.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new u("CSS value must be a string: "+r);l.isSupported(t)&&t.style.setProperty(n,r)},h=function(e,t){l.isSupported(e)&&e.style.removeProperty(t)},m=function(e,t,n){var r=e.dom();p(r,t,n)},g=function(e,t){return l.isSupported(e)?e.style.getPropertyValue(t):""},v=function(e,t){var n=e.dom(),i=g(n,t);return r.from(i).filter(function(e){return e.length>0})};return{copy:function(e,t){var n=e.dom(),r=t.dom();l.isSupported(n)&&l.isSupported(r)&&(r.style.cssText=n.style.cssText)},set:m,preserve:function(e,t){var n=i.get(e,"style"),r=t(e);return(void 0===n?i.remove:i.set)(e,"style",n),r},setAll:function(e,t){var r=e.dom();n.each(t,function(e,t){p(r,t,e)})},setOptions:function(e,t){var r=e.dom();n.each(t,function(e,t){e.fold(function(){h(r,t)},function(e){p(r,t,e)})})},remove:function(e,t){var n=e.dom();h(n,t),i.has(e,"style")&&""===c.trim(i.get(e,"style"))&&i.remove(e,"style")},get:function(e,t){var n=e.dom(),r=f.getComputedStyle(n).getPropertyValue(t),i=""!==r||o.inBody(e)?r:g(n,t);return null===i?void 0:i},getRaw:v,getAllRaw:function(e){var t={},n=e.dom();if(l.isSupported(n))for(var r=0;r<n.style.length;r++){var i=n.style.item(r);t[i]=n.style[i]}return t},isValidValue:function(e,t,n){var r=a.fromTag(e);return m(r,t,n),v(r,t).isSome()},reflow:function(e){return e.dom().offsetWidth},transfer:function(e,n,r){s.isElement(e)&&s.isElement(n)&&t.each(r,function(t){var r,i;r=n,v(e,i=t).each(function(e){v(r,i).isNone()&&m(r,i,e)})})}}}),r("55",["1i","1","4","5"],function(e,t,n,r){return function(){var i=arguments;return function(){for(var o=new n(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];if(i.length!==o.length)throw new r('Wrong number of arguments to struct. Expected "['+i.length+']", got '+o.length+" arguments");var s={};return e.each(i,function(e,n){s[e]=t.constant(o[n])}),s}}}),r("6b",["1i","28","5"],function(e,t,n){var r=function(e){return e.slice(0).sort()};return{sort:r,reqMessage:function(e,t){throw new n("All required keys ("+r(e).join(", ")+") were not specified. Specified keys were: "+r(t).join(", ")+".")},unsuppMessage:function(e){throw new n("Unsupported keys for object: "+r(e).join(", "))},validateStrArr:function(r,i){if(!t.isArray(i))throw new n("The "+r+" fields must be an array. Was: "+i+".");e.each(i,function(e){if(!t.isString(e))throw new n("The value "+e+" in the "+r+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new n("All values need to be of type: "+t+". Keys ("+r(e).join(", ")+") were not.")},checkDupes:function(t){var i=r(t);e.find(i,function(e,t){return t<i.length-1&&e===i[t+1]}).each(function(e){throw new n("The field: "+e+" occurs more than once in the combined fields: ["+i.join(", ")+"].")})}}}),r("56",["1i","1","4g","2n","6b","5","3a"],function(e,t,n,r,i,o,a){return function(s,l){var c=s.concat(l);if(0===c.length)throw new o("You must specify at least one required or optional field.");return i.validateStrArr("required",s),i.validateStrArr("optional",l),i.checkDupes(c),function(o){var u=n.keys(o);e.forall(s,function(t){return e.contains(u,t)})||i.reqMessage(s,u);var d=e.filter(u,function(t){return!e.contains(c,t)});d.length>0&&i.unsuppMessage(d);var f={};return e.each(s,function(e){f[e]=t.constant(o[e])}),e.each(l,function(e){f[e]=t.constant(a.prototype.hasOwnProperty.call(o,e)?r.some(o[e]):r.none())}),f}}}),r("45",["55","56"],function(e,t){return{immutable:e,immutableBag:t}}),r("57",[],function(){return{toArray:function(e,t){var n=[],r=function(e){return n.push(e),t(e)},i=t(e);do{i=i.bind(r)}while(i.isSome());return n}}}),r("4c",["3c"],function(e){var t=function(){return e.getOrDie("Node")},n=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)};return{documentPositionPreceding:function(e,r){return n(e,r,t().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(e,r){return n(e,r,t().DOCUMENT_POSITION_CONTAINED_BY)}}}),r("2z",["1i","2n","1v","4d","5","1j"],function(e,t,n,r,i,o){var a=r.ELEMENT,s=r.DOCUMENT,l=function(e){return e.nodeType!==a&&e.nodeType!==s||0===e.childElementCount};return{all:function(t,r){var i=void 0===r?o:r.dom();return l(i)?[]:e.map(i.querySelectorAll(t),n.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==a)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new i("Browser lacks native selectors")},one:function(e,r){var i=void 0===r?o:r.dom();return l(i)?t.none():t.from(i.querySelector(e)).map(n.fromDom)}}}),r("31",["1i","1","4c","3d","2z"],function(e,t,n,r,i){var o=function(e,t){return e.dom()===t.dom()},a=r.detect().browser.isIE()?function(e,t){return n.documentPositionContainedBy(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)};return{eq:o,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(n,r){return e.exists(r,t.curry(o,n))},contains:a,is:i.is}}),r("3h",["28","1i","1","2n","45","57","31","1v"],function(e,t,n,r,i,o,a,s){var l=function(e){return s.fromDom(e.dom().ownerDocument)},c=function(e){var t=e.dom();return r.from(t.parentNode).map(s.fromDom)},u=function(e){var t=e.dom();return r.from(t.previousSibling).map(s.fromDom)},d=function(e){var t=e.dom();return r.from(t.nextSibling).map(s.fromDom)},f=function(e){var n=e.dom();return t.map(n.childNodes,s.fromDom)},p=function(e,t){var n=e.dom().childNodes;return r.from(n[t]).map(s.fromDom)},h=i.immutable("element","offset");return{owner:l,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return s.fromDom(t)},documentElement:function(e){var t=l(e);return s.fromDom(t.dom().documentElement)},parent:c,findIndex:function(e){return c(e).bind(function(n){var r=f(n);return t.findIndex(r,function(t){return a.eq(e,t)})})},parents:function(t,r){for(var i=e.isFunction(r)?r:n.constant(!1),o=t.dom(),a=[];null!==o.parentNode&&void 0!==o.parentNode;){var l=o.parentNode,c=s.fromDom(l);if(a.push(c),!0===i(c))break;o=l}return a},siblings:function(e){return c(e).map(f).map(function(n){return t.filter(n,function(t){return!a.eq(e,t)})}).getOr([])},prevSibling:u,offsetParent:function(e){var t=e.dom();return r.from(t.offsetParent).map(s.fromDom)},prevSiblings:function(e){return t.reverse(o.toArray(e,u))},nextSibling:d,nextSiblings:function(e){return o.toArray(e,d)},children:f,child:p,firstChild:function(e){return p(e,0)},lastChild:function(e){return p(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=f(e);return n.length>0&&t<n.length?h(n[t],0):h(e,t)}}}),r("1s",["1i","3d","1v","3f","3g","3h"],function(e,t,n,r,i,o){var a=t.detect().browser,s=function(t){return e.find(t,r.isElement)};return{getPos:function(e,t,l){var c,u,d,f=0,p=0,h=e.ownerDocument;if(l=l||e,t){if(l===e&&t.getBoundingClientRect&&"static"===i.get(n.fromDom(e),"position"))return{x:f=(u=t.getBoundingClientRect()).left+(h.documentElement.scrollLeft||e.scrollLeft)-h.documentElement.clientLeft,y:p=u.top+(h.documentElement.scrollTop||e.scrollTop)-h.documentElement.clientTop};for(c=t;c&&c!==l&&c.nodeType;)f+=c.offsetLeft||0,p+=c.offsetTop||0,c=c.offsetParent;for(c=t.parentNode;c&&c!==l&&c.nodeType;)f-=c.scrollLeft||0,p-=c.scrollTop||0,c=c.parentNode;p+=(d=n.fromDom(t),a.isFirefox()&&"table"===r.name(d)?s(o.children(d)).filter(function(e){return"caption"===r.name(e)}).bind(function(e){return s(o.nextSiblings(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,i=e.dom().offsetHeight;return n<=r?-i:0})}).getOr(0):0)}return{x:f,y:p}}}}),r("58",["1i","2n","1q"],function(e,t,n){var r=function(i){var o=t.none(),a=[],s=function(e){l()?u(e):a.push(e)},l=function(){return o.isSome()},c=function(t){e.each(t,u)},u=function(e){o.each(function(t){n(function(){e(t)},0)})};return i(function(e){o=t.some(e),c(a),a=[]}),{get:s,map:function(e){return r(function(t){s(function(n){t(e(n))})})},isReady:l}};return{nu:r,pure:function(e){return r(function(t){t(e)})}}}),r("59",["4","1q"],function(e,t){return{bounce:function(n){return function(){var r=e.prototype.slice.call(arguments),i=this;t(function(){n.apply(i,r)},0)}}}}),r("3i",["58","59"],function(e,t){var n=function(r){var i=function(e){r(t.bounce(e))};return{map:function(e){return n(function(t){i(function(n){var r=e(n);t(r)})})},bind:function(e){return n(function(t){i(function(n){e(n).get(t)})})},anonBind:function(e){return n(function(t){i(function(n){e.get(t)})})},toLazy:function(){return e.nu(i)},get:i}};return{nu:n,pure:function(e){return n(function(t){t(e)})}}}),r("5a",["1i"],function(e){return{par:function(t,n){return n(function(n){var r=[],i=0;0===t.length?n([]):e.each(t,function(e,o){var a;e.get((a=o,function(e){r[a]=e,++i>=t.length&&n(r)}))})})}}}),r("3j",["1i","3i","5a"],function(e,t,n){var r=function(e){return n.par(e,t.nu)};return{par:r,mapM:function(t,n){var i=e.map(t,n);return r(i)},compose:function(e,t){return function(n){return t(n).bind(e)}}}}),r("3k",["1","2n"],function(e,t){var n=function(r){return{is:function(e){return r===e},isValue:e.constant(!0),isError:e.constant(!1),getOr:e.constant(r),getOrThunk:e.constant(r),getOrDie:e.constant(r),or:function(e){return n(r)},orThunk:function(e){return n(r)},fold:function(e,t){return t(r)},map:function(e){return n(e(r))},each:function(e){e(r)},bind:function(e){return e(r)},exists:function(e){return e(r)},forall:function(e){return e(r)},toOption:function(){return t.some(r)}}},r=function(n){return{is:e.constant(!1),isValue:e.constant(!1),isError:e.constant(!0),getOr:e.identity,getOrThunk:function(e){return e()},getOrDie:function(){return e.die(n)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return r(n)},each:e.noop,bind:function(e){return r(n)},exists:e.constant(!1),forall:e.constant(!0),toOption:t.none}};return{value:n,error:r}}),r("1t",["1i","1","3i","3j","3k","1m","15","1e"],function(e,t,n,r,i,o,a,s){"use strict";return function(l,c){var u,d=0,f={};u=(c=c||{}).maxLoadTime||5e3;var p=function(e){l.getElementsByTagName("head")[0].appendChild(e)},h=function(e,t,n){var r,i,c,h,m,g=function(){for(var e=h.passed,t=e.length;t--;)e[t]();h.status=2,h.passed=[],h.failed=[]},v=function(){for(var e=h.failed,t=e.length;t--;)e[t]();h.status=3,h.passed=[],h.failed=[]},b=function(e,t){e()||((new Date).getTime()-c<u?a.setTimeout(t):v())},y=function(){b(function(){for(var e,t,n=l.styleSheets,i=n.length;i--;)if((t=(e=n[i]).ownerNode?e.ownerNode:e.owningElement)&&t.id===r.id)return g(),!0},y)},w=function(){b(function(){try{var e=i.sheet.cssRules;return g(),!!e}catch(e){}},w)};if(e=s._addCacheSuffix(e),f[e]?h=f[e]:(h={passed:[],failed:[]},f[e]=h),t&&h.passed.push(t),n&&h.failed.push(n),1!=h.status){if(2==h.status)return void g();if(3==h.status)return void v();if(h.status=1,(r=l.createElement("link")).rel="stylesheet",r.type="text/css",r.id="u"+d++,r.async=!1,r.defer=!1,c=(new Date).getTime(),"onload"in r&&!((m=o.userAgent.match(/WebKit\/(\d*)/))&&m[1]<536))r.onload=y,r.onerror=v;else{if(o.userAgent.indexOf("Firefox")>0)return(i=l.createElement("style")).textContent='@import "'+e+'"',w(),void p(i);y()}p(r),r.href=e}},m=function(e){return n.nu(function(n){h(e,t.compose(n,t.constant(i.value(e))),t.compose(n,t.constant(i.error(e))))})},g=function(e){return e.fold(t.identity,t.identity)};return{load:h,loadAll:function(t,n,i){r.par(e.map(t,m)).get(function(t){var r=e.partition(t,function(e){return e.isValue()});r.fail.length>0?i(r.fail.map(g)):n(r.pass.map(g))})}}}}),r("s",[],function(){return function(e,t){var n=e,r=function(e,n,r,i){var o,a;if(e){if(!i&&e[n])return e[n];if(e!=t){if(o=e[r])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[r])return o}}};this.current=function(){return n},this.next=function(e){return n=r(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=r(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=function(e,n,r,i){var o,a,s;if(e){if(o=e[r],t&&o===t)return;if(o){if(!i)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if((a=e.parentNode)&&a!==t)return a}}(n,"lastChild","previousSibling",e)}}}),r("3l",["1i","1","3f"],function(e,t,n){var r=function(r){var i;return function(o){return(i=i||e.mapToObject(r,t.constant(!0))).hasOwnProperty(n.name(o))}},i=r(["h1","h2","h3","h4","h5","h6"]),o=r(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]);return{isBlock:o,isInline:function(e){return n.isElement(e)&&!o(e)},isHeading:i,isTextBlock:r(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),isList:r(["ul","ol","dl"]),isListItem:r(["li","dd","dt"]),isVoid:r(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),isTableSection:r(["thead","tbody","tfoot"]),isTableCell:r(["td","th"]),isBr:function(e){return n.isElement(e)&&"br"===n.name(e)}}}),r("1y",[],function(){var e=function(e){return function(t){return!!t&&t.nodeType==e}},t=e(1),n=function(e){return e=e.toLowerCase().split(" "),function(t){var n,r;if(t&&t.nodeType)for(r=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(r===e[n])return!0;return!1}},r=function(e){return function(n){if(t(n)){if(n.contentEditable===e)return!0;if(n.getAttribute("data-mce-contenteditable")===e)return!0}return!1}};return{isText:e(3),isElement:t,isComment:e(8),isDocument:e(9),isBr:n("br"),isContentEditableTrue:r("true"),isContentEditableFalse:r("false"),matchNodeNames:n,hasPropValue:function(e,n){return function(r){return t(r)&&r[e]===n}},hasAttribute:function(e,n){return function(n){return t(n)&&n.hasAttribute(e)}},hasAttributeValue:function(e,n){return function(r){return t(r)&&r.getAttribute(e)===n}},matchStyleValues:function(e,n){return n=n.toLowerCase().split(" "),function(r){var i;if(t(r))for(i=0;i<n.length;i++)if(r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(e)===n[i])return!0;return!1}},isBogus:function(e){return t(e)&&e.hasAttribute("data-mce-bogus")}}}),r("1u",["1v","3l","1y","1e"],function(e,t,n,r){var i=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},o=function(a,s){var l,c,u,d,f=s.childNodes;if(!n.isElement(s)||!i(s)){for(l=f.length-1;l>=0;l--)o(a,f[l]);if(!1===n.isDocument(s)){if(n.isText(s)&&s.nodeValue.length>0){var p=r.trim(s.nodeValue).length;if(a.isBlock(s.parentNode)||p>0)return;if(0===p&&(u=(c=s).previousSibling&&"SPAN"===c.previousSibling.nodeName,d=c.nextSibling&&"SPAN"===c.nextSibling.nodeName,u&&d))return}else if(n.isElement(s)&&(1===(f=s.childNodes).length&&i(f[0])&&s.parentNode.insertBefore(f[0],s),f.length||t.isVoid(e.fromDom(s))))return;a.remove(s)}return s}};return{trimNode:o}}),r("v",["1v","1e"],function(e,t){var n,r,i,o=t.makeMap,a=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,u={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},i={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var d=function(e,t){var n,i,o,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),r[i]||(o="&"+e[n+1]+";",a[i]=o,a[o]=i);return a}};n=d("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(e,t){return e.replace(t?a:s,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(l,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?a:s,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,i){return i=i||n,e.replace(t?a:s,function(e){return r[e]||i[e]||e})},getEncodeFunc:function(e,t){t=d(t)||n;return(e=o(e.replace(/\+/g,","))).named&&e.numeric?function(e,n){return e.replace(n?a:s,function(e){return void 0!==r[e]?r[e]:void 0!==t[e]?t[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:e.named?t?function(e,n){return f.encodeNamed(e,n,t)}:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(t){return t.replace(c,function(t,r){return r?(r="x"===r.charAt(0).toLowerCase()?parseInt(r.substr(1),16):parseInt(r,10))>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):u[r]||String.fromCharCode(r):i[t]||n[t]||(o=t,(a=e.fromTag("div").dom()).innerHTML=o,a.textContent||a.innerText||o);var o,a})}};return f}),r("y",["1e"],function(e){var t={},n={},r=e.makeMap,i=e.each,o=e.extend,a=e.explode,s=e.inArray,l=function(t,n){return(t=e.trim(t))?t.split(n||" "):[]},c=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),i(e,function(e,i){n[i]=n[i.toUpperCase()]="map"==t?r(e,/[, ]/):a(e,/[, ]/)})),n};return function(e){var u,d,f,p,h,m,g,v,b,y,w,x,C,$,S,k,T,_,E,D,A,N,R,O=this,P={},I={},M=[],L={},B={},F=function(n,i,a){var s=e[n];return s?s=r(s,/[, ]/,r(s.toUpperCase(),/[, ]/)):(s=t[n])||(s=r(i," ",r(i.toUpperCase()," ")),s=o(s,a),t[n]=s),s};$=(e=e||{}).schema,A={},N=function(e,t,r){var i,o,a,s=function(e,t){var n,r,i={};for(n=0,r=e.length;n<r;n++)i[e[n]]=t||{};return i};for(r=r||[],t=t||"","string"==typeof r&&(r=l(r)),i=(e=l(e)).length;i--;)a={attributes:s(o=l([S,t].join(" "))),attributesOrder:o,children:s(r,n)},A[e[i]]=a},R=function(e,t){var n,r,i,o;for(n=(e=l(e)).length,t=l(t);n--;)for(r=A[e[n]],i=0,o=t.length;i<o;i++)r.attributes[t[i]]={},r.attributesOrder.push(t[i])},f=t[$]?t[$]:(S="id accesskey class dir lang style tabindex title role",k="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",T="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=$&&(S+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",k+=" article aside details dialog figure header footer hgroup section nav",T+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=$&&(S+=" xml:lang",T=[T,D="acronym applet basefont big font strike tt"].join(" "),i(l(D),function(e){N(e,"",T)}),k=[k,E="center dir isindex noframes"].join(" "),_=[k,T].join(" "),i(l(E),function(e){N(e,"",_)})),_=_||[k,T].join(" "),N("html","manifest","head body"),N("head","","base command link meta noscript script style title"),N("title hr noscript br"),N("base","href target"),N("link","href rel media hreflang type sizes hreflang"),N("meta","name http-equiv content charset"),N("style","media type scoped"),N("script","src async defer type charset"),N("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",_),N("address dt dd div caption","",_),N("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",T),N("blockquote","cite",_),N("ol","reversed start type","li"),N("ul","","li"),N("li","value",_),N("dl","","dt dd"),N("a","href target rel media hreflang type",T),N("q","cite",T),N("ins del","cite datetime",_),N("img","src sizes srcset alt usemap ismap width height"),N("iframe","src name width height",_),N("embed","src type width height"),N("object","data type typemustmatch name usemap form width height",[_,"param"].join(" ")),N("param","name value"),N("map","name",[_,"area"].join(" ")),N("area","alt coords shape href target rel media hreflang type"),N("table","border","caption colgroup thead tfoot tbody tr"+("html4"==$?" col":"")),N("colgroup","span","col"),N("col","span"),N("tbody thead tfoot","","tr"),N("tr","","td th"),N("td","colspan rowspan headers",_),N("th","colspan rowspan headers scope abbr",_),N("form","accept-charset action autocomplete enctype method name novalidate target",_),N("fieldset","disabled form name",[_,"legend"].join(" ")),N("label","form for",T),N("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),N("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==$?_:T),N("select","disabled form multiple name required size","option optgroup"),N("optgroup","disabled label","option"),N("option","disabled label selected value"),N("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),N("menu","type label",[_,"li"].join(" ")),N("noscript","",_),"html4"!=$&&(N("wbr"),N("ruby","",[T,"rt rp"].join(" ")),N("figcaption","",_),N("mark rt rp summary bdi","",T),N("canvas","width height",_),N("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[_,"track source"].join(" ")),N("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[_,"track source"].join(" ")),N("picture","","img source"),N("source","src srcset type media sizes"),N("track","kind src srclang label default"),N("datalist","",[T,"option"].join(" ")),N("article section nav aside header footer","",_),N("hgroup","","h1 h2 h3 h4 h5 h6"),N("figure","",[_,"figcaption"].join(" ")),N("time","datetime",T),N("dialog","open",_),N("command","type label icon disabled checked radiogroup command"),N("output","for form name",T),N("progress","value max",T),N("meter","value min max low high optimum",T),N("details","open",[_,"summary"].join(" ")),N("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=$&&(R("script","language xml:space"),R("style","xml:space"),R("object","declare classid code codebase codetype archive standby align border hspace vspace"),R("embed","align name hspace vspace"),R("param","valuetype type"),R("a","charset name rev shape coords"),R("br","clear"),R("applet","codebase archive code object alt name width height align hspace vspace"),R("img","name longdesc align border hspace vspace"),R("iframe","longdesc frameborder marginwidth marginheight scrolling align"),R("font basefont","size color face"),R("input","usemap align"),R("select","onchange"),R("textarea"),R("h1 h2 h3 h4 h5 h6 div p legend caption","align"),R("ul","type compact"),R("li","type"),R("ol dl menu dir","compact"),R("pre","width xml:space"),R("hr","align noshade size width"),R("isindex","prompt"),R("table","summary width frame rules cellspacing cellpadding align bgcolor"),R("col","width align char charoff valign"),R("colgroup","width align char charoff valign"),R("thead","align char charoff valign"),R("tr","align char charoff valign bgcolor"),R("th","axis align char charoff valign nowrap bgcolor width height"),R("form","accept"),R("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),R("tfoot","align char charoff valign"),R("tbody","align char charoff valign"),R("area","nohref"),R("body","background bgcolor text link vlink alink")),"html4"!=$&&(R("input button select textarea","autofocus"),R("input textarea","placeholder"),R("a","download"),R("link script img","crossorigin"),R("iframe","sandbox seamless allowfullscreen")),i(l("a form meter progress dfn"),function(e){A[e]&&delete A[e].children[e]}),delete A.caption.children.table,delete A.script,t[$]=A,A),!1===e.verify_html&&(e.valid_elements="*[*]"),u=c(e.valid_styles),d=c(e.invalid_styles,"map"),v=c(e.valid_classes,"map"),p=F("whitespace_elements","pre script noscript style textarea video audio iframe object code"),h=F("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),m=F("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=F("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),y=F("non_empty_elements","td th iframe video audio object script pre code",m),w=F("move_caret_before_on_enter_elements","table",y),x=F("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),b=F("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",x),C=F("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),i((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){B[e]=new RegExp("</"+e+"[^>]*>","gi")});var j=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},z=function(e){var t,n,i,o,a,c,u,d,f,p,h,m,g,v,b,y,w,x,C,$=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(e)for(e=l(e,","),P["@"]&&(y=P["@"].attributes,w=P["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(a=$.exec(e[t])){if(v=a[1],f=a[2],b=a[3],d=a[5],c={attributes:m={},attributesOrder:g=[]},"#"===v&&(c.paddEmpty=!0),"-"===v&&(c.removeEmpty=!0),"!"===a[4]&&(c.removeEmptyAttrs=!0),y){for(x in y)m[x]=y[x];g.push.apply(g,w)}if(d)for(i=0,o=(d=l(d,"|")).length;i<o;i++)if(a=S.exec(d[i])){if(u={},h=a[1],p=a[2].replace(/[\\:]:/g,":"),v=a[3],C=a[4],"!"===h&&(c.attributesRequired=c.attributesRequired||[],c.attributesRequired.push(p),u.required=!0),"-"===h){delete m[p],g.splice(s(g,p),1);continue}v&&("="===v&&(c.attributesDefault=c.attributesDefault||[],c.attributesDefault.push({name:p,value:C}),u.defaultValue=C),":"===v&&(c.attributesForced=c.attributesForced||[],c.attributesForced.push({name:p,value:C}),u.forcedValue=C),"<"===v&&(u.validValues=r(C,"?"))),k.test(p)?(c.attributePatterns=c.attributePatterns||[],u.pattern=j(p),c.attributePatterns.push(u)):(m[p]||g.push(p),m[p]=u)}y||"@"!=f||(y=m,w=g),b&&(c.outputName=f,P[b]=c),k.test(f)?(c.pattern=j(f),M.push(c)):P[f]=c}},U=function(e){P={},M=[],z(e),i(f,function(e,t){I[t]=e.children})},H=function(e){var n=/^(~)?(.+)$/;e&&(t.text_block_elements=t.block_elements=null,i(l(e,","),function(e){var t=n.exec(e),r="~"===t[1],a=r?"span":"div",s=t[2];if(I[s]=I[a],L[s]=a,r||(b[s.toUpperCase()]={},b[s]={}),!P[s]){var l=P[a];delete(l=o({},l)).removeEmptyAttrs,delete l.removeEmpty,P[s]=l}i(I,function(e,t){e[a]&&(I[t]=e=o({},I[t]),e[s]=e[a])})}))},q=function(n){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;t[e.schema]=null,n&&i(l(n,","),function(e){var t,n,o=r.exec(e);o&&(n=o[1],t=n?I[o[2]]:I[o[2]]={"#comment":{}},t=I[o[2]],i(l(o[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})},V=function(e){var t,n=P[e];if(n)return n;for(t=M.length;t--;)if((n=M[t]).pattern.test(e))return n};e.valid_elements?U(e.valid_elements):(i(f,function(e,t){P[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},I[t]=e.children}),"html5"!=e.schema&&i(l("strong/b em/i"),function(e){e=l(e,"/"),P[e[1]].outputName=e[0]}),i(l("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){P[e]&&(P[e].removeEmpty=!0)}),i(l("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){P[e].paddEmpty=!0}),i(l("span"),function(e){P[e].removeEmptyAttrs=!0})),H(e.custom_elements),q(e.valid_children),z(e.extended_valid_elements),q("+ol[ul|ol],+ul[ul|ol]"),i({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){P[t]&&(P[t].parentsRequired=l(e))}),e.invalid_elements&&i(a(e.invalid_elements),function(e){P[e]&&delete P[e]}),V("span")||z("span[!data-mce-type|*]"),O.children=I,O.getValidStyles=function(){return u},O.getInvalidStyles=function(){return d},O.getValidClasses=function(){return v},O.getBoolAttrs=function(){return g},O.getBlockElements=function(){return b},O.getTextBlockElements=function(){return x},O.getTextInlineElements=function(){return C},O.getShortEndedElements=function(){return m},O.getSelfClosingElements=function(){return h},O.getNonEmptyElements=function(){return y},O.getMoveCaretBeforeOnEnterElements=function(){return w},O.getWhiteSpaceElements=function(){return p},O.getSpecialElements=function(){return B},O.isValidChild=function(e,t){var n=I[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},O.isValid=function(e,t){var n,r,i=V(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},O.getElementRule=V,O.getCustomElements=function(){return L},O.addValidElements=z,O.setValidElements=U,O.addCustomElements=H,O.addValidChildren=q,O.elements=P}}),r("10",[],function(){return function(e,t){var n,r,i,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={},d="\ufeff";for(e=e||{},t&&(i=t.getValidStyles(),o=t.getInvalidStyles()),r=("\\\" \\' \\; \\: ; : "+d).split(" "),n=0;n<r.length;n++)u[r[n]]=d+n,u[d+n]=r[n];var f=function(e,t,n,r){var i=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+i(t)+i(n)+i(r)};return{toHex:function(e){return e.replace(a,f)},parse:function(t){var r,i,o,p,h,m,g,v,b={},y=e.url_converter,w=e.url_converter_scope||this,x=function(e,t,r){var i,o,a,s;if((i=b[e+"-top"+t])&&((o=b[e+"-right"+t])&&((a=b[e+"-bottom"+t])&&(s=b[e+"-left"+t])))){var l=[i,o,a,s];for(n=l.length-1;n--&&l[n]===l[n+1];);n>-1&&r||(b[e+t]=-1==n?l[0]:l.join(" "),delete b[e+"-top"+t],delete b[e+"-right"+t],delete b[e+"-bottom"+t],delete b[e+"-left"+t])}},C=function(e){var t,n=b[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return b[e]=n[0],!0}},$=function(e){return p=!0,u[e]},S=function(e,t){return p&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return u[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},k=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},T=function(e){return e.replace(/\\[0-9a-f]+/gi,k)},_=function(t,n,r,i,o,a){if(o=o||a)return"'"+(o=S(o)).replace(/\'/g,"\\'")+"'";if(n=S(n||r||i),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return y&&(n=y.call(w,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,$).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,$)});r=l.exec(t);)if(l.lastIndex=r.index+r[0].length,i=r[1].replace(c,"").toLowerCase(),o=r[2].replace(c,""),i&&o){if(i=T(i),o=T(o),-1!==i.indexOf(d)||-1!==i.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"==i||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===i&&"700"===o?o="bold":"color"!==i&&"background-color"!==i||(o=o.toLowerCase()),o=(o=o.replace(a,f)).replace(s,_),b[i]=p?S(o,!0):o}x("border","",!0),x("border","-width"),x("border","-color"),x("border","-style"),x("padding",""),x("margin",""),h="border",g="border-style",v="border-color",C(m="border-width")&&C(g)&&C(v)&&(b[h]=b[m]+" "+b[g]+" "+b[v],delete b[m],delete b[g],delete b[v]),"medium none"===b.border&&delete b.border,"none"===b["border-image"]&&delete b["border-image"]}return b},serialize:function(e,t){var n,r,a,s,l,c="",u=function(t){var n,r,o,a;if(n=i[t])for(r=0,o=n.length;r<o;r++)t=n[r],(a=e[t])&&(c+=(c.length>0?" ":"")+t+": "+a+";")};if(t&&i)u("*"),u(t);else for(n in e)!(r=e[n])||o&&(a=n,s=t,l=void 0,(l=o["*"])&&l[a]||(l=o[s])&&l[a])||(c+=(c.length>0?" ":"")+n+": "+r+";");return c}}}}),r("m",["1j","2","b","n","o","1s","r","1t","s","1u","v","y","10","1e"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p){var h=p.each,m=p.is,g=p.grep,v=n.ie,b=/^([a-z0-9],?)+$/i,y=/^[ \t\r\n]*$/,w=function(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)},x=function(e,t){var n,r,i=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!=r||r!=n&&e.nodeValue.length)&&(i++,n=r);return i},C=function(e,n){var o,a,l,c,u,p,h=this;h.doc=e,h.win=t,h.files={},h.counter=0,h.stdMode=!v||e.documentMode>=8,h.boxModel=!v||"CSS1Compat"==e.compatMode||h.stdMode,h.styleSheetLoader=new s(e),h.boundEvents=[],h.settings=n=n||{},h.schema=n.schema?n.schema:new d({}),h.styles=new f({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),h.fixDoc(e),h.events=n.ownEvents?new i(n.proxy):i.Event,h.attrHooks=(a=h,u={},p=(l=n).keep_values,c={set:function(e,t,n){l.url_converter&&(t=l.url_converter.call(l.url_converter_scope||a,t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},u={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(p&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return a.serializeStyle(a.parseStyle(t),e[0].nodeName)}}},p&&(u.href=u.src=c),u),o=h.schema.getBlockElements(),h.$=r.overrideDefaults(function(){return{context:e,element:h.getRoot()}}),h.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!o[e.nodeName]):!!o[e]}};return C.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t,n=this.settings;if(v&&n.schema)for(t in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)}),n.schema.getCustomElements())e.createElement(t)},clone:function(e,t){var n,r,i=this;return!v||1!==e.nodeType||t?e.cloneNode(t):(r=i.doc,t?n.firstChild:(n=r.createElement(e.nodeName),h(i.getAttribs(e),function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))}),n))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n;return e=this.get(e),t=this.getPos(e),n=this.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n;return e=this.get(e),t=this.getStyle(e,"width"),n=this.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,r){var i,o=this,a=[];for(e=o.get(e),r=void 0===r,n=n||("BODY"!=o.getRoot().nodeName?o.getRoot().parentNode:null),m(t,"string")&&(i=t,t="*"===t?function(e){return 1==e.nodeType}:function(e){return o.is(e,i)});e&&e!=n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!r)return e;a.push(e)}e=e.parentNode}return r?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){return a(e,this.get(t)||this.settings.root_element||this.doc,[])},is:function(e,t){var n;if(!e)return!1;if(void 0===e.length){if("*"===t)return 1==e.nodeType;if(b.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;n>=0;n--)if(t[n]==e)return!0;return!1}}if(e.nodeType&&1!=e.nodeType)return!1;var r=e.nodeType?[e]:e;return a(t,r[0].ownerDocument||r[0],null,r).length>0},add:function(e,t,n,r,i){var o=this;return this.run(e,function(e){var a;return a=m(t,"string")?o.doc.createElement(t):t,o.setAttribs(a,n),r&&(r.nodeType?a.appendChild(r):o.setHTML(a,r)),i?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r,i="";for(r in i+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(i+=" "+r+'="'+this.encode(t[r])+'"');return void 0!==n?i+">"+n+"</"+e+">":i+" />"},createFragment:function(e){var t,n,r,i=this.doc;for(r=i.createElement("div"),t=i.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&w(this,e)},getStyle:function(e,t,r){return e=this.$$(e),r?e.css(t):("float"==(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=n.ie&&n.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&w(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r,i,o=this.settings;""===n&&(n=null),r=(e=this.$$(e)).attr(t),e.length&&((i=this.attrHooks[t])&&i.set?i.set(e,n,t):e.attr(t,n),r!=n&&o.onSetAttrib&&o.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,r){h(t,function(e,t){n.setAttrib(r,t,e)})})},getAttrib:function(e,t,n){var r,i;return(e=this.$$(e)).length&&(i=(r=this.attrHooks[t])&&r.get?r.get(e,t):e.attr(t)),void 0===i&&(i=n||""),i},getPos:function(e,t){return o.getPos(this.doc.body,this.get(e),t)},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(t){var n,r,i=this.doc;if(this!==C.DOM&&i===e){var o=C.DOM.addedStyles;if((o=o||[])[t])return;o[t]=!0,C.DOM.addedStyles=o}(r=i.getElementById("mceDefaultStyles"))||((r=i.createElement("style")).id="mceDefaultStyles",r.type="text/css",(n=i.getElementsByTagName("head")[0]).firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(i.createTextNode(t))},loadCSS:function(t){var n,r=this,i=r.doc;return r!==C.DOM&&i===e?void C.DOM.loadCSS(t):(t||(t=""),n=i.getElementsByTagName("head")[0],void h(t.split(","),function(e){var t;e=p._addCacheSuffix(e),r.files[e]||(r.files[e]=!0,t=r.create("link",{rel:"stylesheet",href:e}),v&&i.documentMode&&i.recalc&&(t.onload=function(){i.recalc&&i.recalc(),t.onload=null}),n.appendChild(t))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each(function(){""===this.className&&r(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),v?e.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){r("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):e.html(t)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:r("<div></div>").append(r(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(r(this).html(t),!0)})},decode:u.decode,encode:u.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,r;return n=t.parentNode,(r=t.nextSibling)?n.insertBefore(e,r):n.appendChild(e),e})},replace:function(e,t,n){return this.run(t,function(t){return m(t,"array")&&(e=e.cloneNode(!0)),n&&h(g(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n,r=this;return e.nodeName!=t.toUpperCase()&&(n=r.create(t),h(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),r.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!=n;)n=n.parentNode;if(r==n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return this.styles.toHex(p.trim(e))},run:function(e,t,n){var r,i=this;return"string"==typeof e&&(e=i.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(r=[],h(e,function(e,o){e&&("string"==typeof e&&(e=i.get(e)),r.push(t.call(n,e,o)))}),r))},getAttribs:function(e){var t;if(!(e=this.get(e)))return[];if(v){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});return e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,r,i,o,a,s,c=this,u=0;if(e=e.firstChild){a=new l(e,e.parentNode),t=t||(c.schema?c.schema.getNonEmptyElements():null),o=c.schema?c.schema.getWhiteSpaceElements():{};do{if(1===(i=e.nodeType)){var d=e.getAttribute("data-mce-bogus");if(d){e=a.next("all"===d);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){u++,e=a.next();continue}return!1}for(n=(r=c.getAttribs(e)).length;n--;)if("name"===(s=r[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8==i)return!1;if(3===i&&!y.test(e.nodeValue))return!1;if(3===i&&e.parentNode&&o[e.parentNode.nodeName]&&y.test(e.nodeValue))return!1;e=a.next()}while(e)}return u<=1},createRng:function(){return this.doc.createRange()},nodeIndex:x,split:function(e,t,n){var r,i,o,a=this,s=a.createRng();if(e&&t)return s.setStart(e.parentNode,a.nodeIndex(e)),s.setEnd(t.parentNode,a.nodeIndex(t)),r=s.extractContents(),(s=a.createRng()).setStart(t.parentNode,a.nodeIndex(t)+1),s.setEnd(e.parentNode,a.nodeIndex(e)+1),i=s.extractContents(),(o=e.parentNode).insertBefore(c.trimNode(a,r),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(c.trimNode(a,i),e),a.remove(e),n||t},bind:function(e,t,n,r){var i=this;if(p.isArray(e)){for(var o=e.length;o--;)e[o]=i.bind(e[o],t,n,r);return e}return!i.settings.collect||e!==i.doc&&e!==i.win||i.boundEvents.push([e,t,n,r]),i.events.bind(e,t,n,r||i)},unbind:function(e,t,n){var r,i=this;if(p.isArray(e)){for(r=e.length;r--;)e[r]=i.unbind(e[r],t,n);return e}if(i.boundEvents&&(e===i.doc||e===i.win))for(r=i.boundEvents.length;r--;){var o=i.boundEvents[r];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){var e=this;if(e.boundEvents){for(var t=e.boundEvents.length;t--;){var n=e.boundEvents[t];this.events.unbind(n[0],n[1],n[2])}e.boundEvents=null}a.setDocument&&a.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e)for("string"==typeof i&&(i=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(i(e))return e;return null}},C.DOM=new C(e),C.nodeIndex=x,C}),r("p",["1j","m","1e"],function(e,t,n){var r=t.DOM,i=n.each,o=n.grep,a=function(e){return"function"==typeof e},s=function(){var t={},s=[],l={},c=[],u=0;this.isDone=function(e){return 2==t[e]},this.markDone=function(e){t[e]=2},this.add=this.load=function(e,n,r,i){void 0==t[e]&&(s.push(e),t[e]=0),n&&(l[e]||(l[e]=[]),l[e].push({success:n,failure:i,scope:r||this}))},this.remove=function(e){delete t[e],delete l[e]},this.loadQueue=function(e,t,n){this.loadScripts(s,e,t,n)},this.loadScripts=function(s,d,f,p){var h,m=[],g=function(e,t){i(l[t],function(t){a(t[e])&&t[e].call(t.scope)}),l[t]=void 0};c.push({success:d,failure:p,scope:f||this}),(h=function(){var l=o(s);if(s.length=0,i(l,function(i){return 2===t[i]?void g("success",i):3===t[i]?void g("failure",i):void(1!==t[i]&&(t[i]=1,u++,o=i,s=function(){t[i]=2,u--,g("success",i),h()},l=function(){t[i]=3,u--,m.push(i),g("failure",i),h()},f=r,p=function(){f.remove(d),c&&(c.onreadystatechange=c.onload=c=null),s()},d=f.uniqueId(),(c=e.createElement("script")).id=d,c.type="text/javascript",c.src=n._addCacheSuffix(o),"onreadystatechange"in c?c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&p()}:c.onload=p,c.onerror=function(){a(l)?l():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+o)},(e.getElementsByTagName("head")[0]||e.body).appendChild(c)));var o,s,l,c,d,f,p}),!u){var d=c.slice(0);c.length=0,i(d,function(e){0===m.length?a(e.success)&&e.success.call(e.scope):a(e.failure)&&e.failure.call(e.scope,m)})}})()}};return s.ScriptLoader=new s,s}),r("6",["1i","p","1e"],function(e,t,n){var r=n.each,i=function(){this.items=[],this.urls={},this.lookup={},this._listeners=[]};return i.prototype={get:function(e){if(this.lookup[e])return this.lookup[e].instance},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(e,n){var r=i.language;if(r&&!1!==i.languageLoad){if(n)if(-1!=(n=","+n+",").indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1==n.indexOf(","+r+","))return;t.ScriptLoader.add(this.urls[e]+"/langs/"+r+".js")}},add:function(t,n,i){this.items.push(n),this.lookup[t]={instance:n,dependencies:i};var o=e.partition(this._listeners,function(e){return e.name===t});return this._listeners=o.fail,r(o.pass,function(e){e.callback()}),n},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,n){var i=this.urls[e];r(n,function(e){t.ScriptLoader.add(i+"/"+e)})},load:function(e,n,o,a,s){var l=this,c=n,u=function(){var i=l.dependencies(e);r(i,function(e){var t=l.createUrl(n,e);l.load(t.resource,t,void 0,void 0)}),o&&(a?o.call(a):o.call(t))};l.urls[e]||("object"==typeof n&&(c=n.prefix+n.resource+n.suffix),0!==c.indexOf("/")&&-1==c.indexOf("://")&&(c=i.baseURL+"/"+c),l.urls[e]=c.substring(0,c.lastIndexOf("/")),l.lookup[e]?u():t.ScriptLoader.add(c,u,a,s))},waitFor:function(e,t){this.lookup.hasOwnProperty(e)?t():this._listeners.push({name:e,callback:t})}},i.PluginManager=new i,i.ThemeManager=new i,i}),r("4b",[],function(){var e="\ufeff";return{isZwsp:function(t){return t===e},ZWSP:e,trim:function(t){return t.replace(new RegExp(e,"g"),"")}}}),r("46",["1j","1y","4b"],function(e,t,n){var r=t.isElement,i=t.isText,o=function(e){return i(e)&&(e=e.parentNode),r(e)&&e.hasAttribute("data-mce-caret")},a=function(e){return i(e)&&n.isZwsp(e.data)},s=function(e){return o(e)||a(e)},l=function(e){return i(e)&&e.data[0]==n.ZWSP},c=function(e){return i(e)&&e.data[e.data.length-1]==n.ZWSP};return{isCaretContainer:s,isCaretContainerBlock:o,isCaretContainerInline:a,showCaretContainerBlock:function(e){return e&&e.hasAttribute("data-mce-caret")?(n=e.getElementsByTagName("br"),r=n[n.length-1],t.isBogus(r)&&r.parentNode.removeChild(r),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var n,r},insertInline:function(e,t){var r,o,a;if(o=e.ownerDocument.createTextNode(n.ZWSP),a=e.parentNode,t){if(r=e.previousSibling,i(r)){if(s(r))return r;if(c(r))return r.splitText(r.data.length-1)}a.insertBefore(o,e)}else{if(r=e.nextSibling,i(r)){if(s(r))return r;if(l(r))return r.splitText(1),r}e.nextSibling?a.insertBefore(o,e.nextSibling):a.appendChild(o)}return o},prependInline:function(e){if(t.isText(e)){var r=e.data;return r.length>0&&r.charAt(0)!==n.ZWSP&&e.insertData(0,n.ZWSP),e}return null},appendInline:function(e){if(t.isText(e)){var r=e.data;return r.length>0&&r.charAt(r.length-1)!==n.ZWSP&&e.insertData(r.length,n.ZWSP),e}return null},isBeforeInline:function(e){return e&&t.isText(e.container())&&e.container().data.charAt(e.offset())===n.ZWSP},isAfterInline:function(e){return e&&t.isText(e.container())&&e.container().data.charAt(e.offset()-1)===n.ZWSP},insertBlock:function(t,n,r){var i,o,a;return(i=n.ownerDocument.createElement(t)).setAttribute("data-mce-caret",r?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(((a=e.createElement("br")).setAttribute("data-mce-bogus","1"),a)),o=n.parentNode,r?o.insertBefore(i,n):n.nextSibling?o.insertBefore(i,n.nextSibling):o.appendChild(i),i},hasContent:function(e){return e.firstChild!==e.lastChild||!t.isBr(e.firstChild)},startsWithCaretContainer:l,endsWithCaretContainer:c}}),r("3n",["1y","1r","46"],function(e,t,n){var r=e.isContentEditableTrue,i=e.isContentEditableFalse,o=e.isBr,a=e.isText,s=e.matchNodeNames("script style textarea"),l=e.matchNodeNames("img input textarea hr iframe video audio object"),c=e.matchNodeNames("table"),u=n.isCaretContainer,d=function(e){return!u(e)&&(a(e)?!s(e.parentNode):l(e)||o(e)||c(e)||i(e))},f=function(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(i(e))return!1;if(r(e))return!0}return!0};return{isCaretCandidate:d,isInEditable:f,isAtomic:function(e){return l(e)||!!i(n=e)&&!0!==t.reduce(n.getElementsByTagName("*"),function(e,t){return e||r(t)},!1);var n},isEditableCaretCandidate:function(e,t){return d(e)&&f(e,t)}}}),r("3o",[],function(){var e=Math.round,t=function(t){return t?{left:e(t.left),top:e(t.top),bottom:e(t.bottom),right:e(t.right),width:e(t.width),height:e(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},n=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},r=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&n(t.top-e.bottom,e,t)},i=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&n(t.bottom-e.top,e,t)},o=function(e,t){return e.left<t.left},a=function(e,t){return e.right>t.right};return{clone:t,collapse:function(e,n){return e=t(e),n?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},isEqual:function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},isAbove:r,isBelow:i,isLeft:o,isRight:a,compare:function(e,t){return r(e,t)?-1:i(e,t)?1:o(e,t)?-1:a(e,t)?1:0},containsXY:function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}}}),r("2v",[],function(){return{getSelectedNode:function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},getNode:function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e}}}),r("3p",[],function(){var e=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]");return{isExtendingChar:function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&e.test(t)}}}),r("3q",[],function(){var e=[].slice,t=function(n){var r=e.call(arguments);return r.length-1>=n.length?n.apply(this,r.slice(1)):function(){var e=r.concat([].slice.call(arguments));return t.apply(this,e)}};return{constant:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},and:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}},or:function(){var t=e.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}},curry:t,compose:function(e,t){return function(n){return e(t(n))}},noop:function(){}}}),r("32",["3n","m","1y","3o","2v","3p","3q"],function(e,t,n,r,i,o,a){var s=n.isElement,l=e.isCaretCandidate,c=n.matchStyleValues("display","block table"),u=n.matchStyleValues("float","left right"),d=a.and(s,l,a.negate(u)),f=a.negate(n.matchStyleValues("white-space","pre pre-line pre-wrap")),p=n.isText,h=n.isBr,m=t.nodeIndex,g=i.getNode,v=function(e){return"createRange"in e?e.createRange():t.DOM.createRng()},b=function(e){return e&&/[\r\n\t ]/.test(e)},y=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(b(e.toString())&&f(n.parentNode)&&(t=n.data,b(t[r-1])||b(t[r+1])))},w=function(e){var t,n,i=[],a=function(e){var t,n,i,o,a,s,l,c;return t=(n=e.getClientRects()).length>0?r.clone(n[0]):r.clone(e.getBoundingClientRect()),h(e)&&0===t.left?(a=(i=e).ownerDocument,s=v(a),l=a.createTextNode(""),(c=i.parentNode).insertBefore(l,i),s.setStart(l,0),s.setEnd(l,1),o=r.clone(s.getBoundingClientRect()),c.removeChild(l),o):t},l=function(e,t){return(e=r.collapse(e,t)).width=1,e.right=e.left+1,e},u=function(e){0!==e.height&&(i.length>0&&r.isEqual(e,i[i.length-1])||i.push(e))},f=function(e,t){var n=v(e.ownerDocument);if(t<e.data.length){if(o.isExtendingChar(e.data[t]))return i;if(o.isExtendingChar(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!y(n)))return u(l(a(n),!1)),i}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),y(n)||u(l(a(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),y(n)||u(l(a(n),!0)))};if(p(e.container()))return f(e.container(),e.offset()),i;if(s(e.container()))if(e.isAtEnd())n=g(e.container(),e.offset()),p(n)&&f(n,n.data.length),d(n)&&!h(n)&&u(l(a(n),!1));else{if(n=g(e.container(),e.offset()),p(n)&&f(n,0),d(n)&&e.isAtEnd())return u(l(a(n),!1)),i;t=g(e.container(),e.offset()-1),d(t)&&!h(t)&&(c(t)||c(n)||!d(n))&&u(l(a(t),!1)),d(n)&&u(l(a(n),!0))}return i},x=function(e,t,n){var r=function(){return n||(n=w(new x(e,t))),n};return{container:a.constant(e),offset:a.constant(t),toRange:function(){var n;return(n=v(e.ownerDocument)).setStart(e,t),n.setEnd(e,t),n},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return p(e),0===t},isAtEnd:function(){return p(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return g(e,n?t-1:t)}}};return x.fromRangeStart=function(e){return new x(e.startContainer,e.startOffset)},x.fromRangeEnd=function(e){return new x(e.endContainer,e.endOffset)},x.after=function(e){return new x(e.parentNode,m(e)+1)},x.before=function(e){return new x(e.parentNode,m(e))},x.isAtStart=function(e){return!!e&&e.isAtStart()},x.isAtEnd=function(e){return!!e&&e.isAtEnd()},x.isTextPosition=function(e){return!!e&&n.isText(e.container())},x}),r("5b",["3q","s","1y","32","46","3n"],function(e,t,n,r,i,o){var a=n.isContentEditableTrue,s=n.isContentEditableFalse,l=n.matchStyleValues("display","block table table-cell table-caption list-item"),c=i.isCaretContainer,u=i.isCaretContainerBlock,d=e.curry,f=n.isElement,p=o.isCaretCandidate,h=function(e){return e>0},m=function(e){return e<0},g=function(e,t){for(var n;n=e(t);)if(!u(n))return n;return null},v=function(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(a(e))return e;return t},b=function(e,t){for(;e&&e!=t;){if(l(e))return e;e=e.parentNode}return null},y=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},w=function(e,t,n){var r,i,o,a;for(i=e?"previousSibling":"nextSibling";n&&n!=t;){if(r=n[i],c(r)&&(r=r[i]),s(r)){if(a=n,b(r,o=t)==b(a,o))return r;break}if(p(r))break;n=n.parentNode}return null},x=d(y,!0),C=d(y,!1),$=function(e,t){return s((n=e,(r=t)?(i=r.container(),o=r.offset(),f(i)?i.childNodes[o+n]:null):null));var n,r,i,o};return{isForwards:h,isBackwards:m,findNode:function(e,n,r,i,o){var a=new t(e,i);if(m(n)){if((s(e)||u(e))&&r(e=g(a.prev,!0)))return e;for(;e=g(a.prev,o);)if(r(e))return e}if(h(n)){if((s(e)||u(e))&&r(e=g(a.next,!0)))return e;for(;e=g(a.next,o);)if(r(e))return e}return null},getEditingHost:v,getParentBlock:b,isInSameBlock:function(e,t,n){return b(e.container(),n)==b(t.container(),n)},isInSameEditingHost:function(e,t,n){return v(e.container(),n)==v(t.container(),n)},isBeforeContentEditableFalse:d($,0),isAfterContentEditableFalse:d($,-1),normalizeRange:function(e,t,r){var o,a,l,u,p=d(w,!0,t),h=d(w,!1,t);if(a=r.startContainer,l=r.startOffset,i.isCaretContainerBlock(a)){if(f(a)||(a=a.parentNode),"before"==(u=a.getAttribute("data-mce-caret"))&&(o=a.nextSibling,s(o)))return x(o);if("after"==u&&(o=a.previousSibling,s(o)))return C(o)}if(!r.collapsed)return r;if(n.isText(a)){if(c(a)){if(1===e){if(o=h(a))return x(o);if(o=p(a))return C(o)}if(-1===e){if(o=p(a))return C(o);if(o=h(a))return x(o)}return r}if(i.endsWithCaretContainer(a)&&l>=a.data.length-1)return 1===e&&(o=h(a))?x(o):r;if(i.startsWithCaretContainer(a)&&l<=1)return-1===e&&(o=p(a))?C(o):r;if(l===a.data.length)return(o=h(a))?x(o):r;if(0===l)return(o=p(a))?C(o):r}return r}}}),r("3r",["1y","3n","32","5b","1r","3q"],function(e,t,n,r,i,o){var a=e.isContentEditableFalse,s=e.isText,l=e.isElement,c=e.isBr,u=r.isForwards,d=r.isBackwards,f=t.isCaretCandidate,p=t.isAtomic,h=t.isEditableCaretCandidate,m=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},g=function(e,t){if(u(e)){if(f(t.previousSibling)&&!s(t.previousSibling))return n.before(t);if(s(t))return n(t,0)}if(d(e)){if(f(t.nextSibling)&&!s(t.nextSibling))return n.after(t);if(s(t))return n(t,t.data.length)}return d(e)?c(t)?n.before(t):n.after(t):n.before(t)},v=function(t,b,y){var w,x,C,$,S,k,T,_,E,D;if(!l(y)||!b)return null;if(b.isEqual(n.after(y))&&y.lastChild){if(T=n.after(y.lastChild),d(t)&&f(y.lastChild)&&l(y.lastChild))return c(y.lastChild)?n.before(y.lastChild):T}else T=b;if(w=T.container(),x=T.offset(),s(w)){if(d(t)&&x>0)return n(w,--x);if(u(t)&&x<w.length)return n(w,++x);C=w}else{if(d(t)&&x>0&&($=m(w,x-1),f($)))return!p($)&&(S=r.findNode($,t,h,$))?s(S)?n(S,S.data.length):n.after(S):s($)?n($,$.data.length):n.before($);if(u(t)&&x<w.childNodes.length&&($=m(w,x),f($)))return _=$,E=y,e.isBr(_)&&(D=v(1,n.after(_),E))&&!r.isInSameBlock(n.before(_),n.before(D),E)?v(t,n.after($),y):!p($)&&(S=r.findNode($,t,h,$))?s(S)?n(S,0):n.before(S):s($)?n($,0):n.after($);C=T.getNode()}return(u(t)&&T.isAtEnd()||d(t)&&T.isAtStart())&&(C=r.findNode(C,t,o.constant(!0),y,!0),h(C))?g(t,C):($=r.findNode(C,t,h,y),!(k=i.last(i.filter(function(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}(w,y),a)))||$&&k.contains($)?$?g(t,$):null:T=u(t)?n.after(k):n.before(k))};return function(e){return{next:function(t){return v(1,t,e)},prev:function(t){return v(-1,t,e)}}}}),r("3m",["32","3r","1y","1e"],function(e,t,n,r){var i=function(e){return r.grep(e.childNodes,function(e){return"LI"===e.nodeName})},o=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&(""===(t=e.firstChild).data||n.isBr(t));var t},a=function(e){return e.length>0&&(!(t=e[e.length-1]).firstChild||o(t))?e.slice(0,-1):e;var t},s=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},l=function(n,r){var i=e.after(n),o=new t(r).prev(i);return o?o.toRange():null},c=function(n,i,o){var a,s,l,c,u=n.parentNode;return r.each(i,function(e){u.insertBefore(e,n)}),a=n,s=o,l=e.before(a),(c=new t(s).next(l))?c.toRange():null};return{isListFragment:function(e,t){var n,r,i,o,a,s,l=t.firstChild,c=t.lastChild;return l&&"meta"===l.name&&(l=l.next),c&&"mce_marker"===c.attr("id")&&(c=c.prev),r=c,s=(n=e).getNonEmptyElements(),r&&(r.isEmpty(s)||(i=r,n.getBlockElements()[i.name]&&(a=i).firstChild&&a.firstChild===a.lastChild&&("br"===(o=i.firstChild).name||""===o.value)))&&(c=c.prev),!(!l||l!==c||"ul"!==l.name&&"ol"!==l.name)},insertAtCaret:function(n,o,u,d){var f,p,h,m,g,v,b,y,w,x,C,$,S,k,T,_,E,D,A,N=(f=o,p=d,v=n.serialize(p),b=f.createFragment(v),m=(h=b).firstChild,g=h.lastChild,m&&"META"===m.nodeName&&m.parentNode.removeChild(m),g&&"mce_marker"===g.id&&g.parentNode.removeChild(g),h),R=s(o,u.startContainer),O=a(i(N.firstChild)),P=o.getRoot(),I=function(n){var r=e.fromRangeStart(u),i=new t(o.getRoot()),a=1===n?i.prev(r):i.next(r);return!a||s(o,a.getNode())!==R};return I(1)?c(R,O,P):I(2)?(E=R,D=O,A=P,o.insertAfter(D.reverse(),E),l(D[0],A)):(w=O,x=P,C=y=R,S=($=u).cloneRange(),k=$.cloneRange(),S.setStartBefore(C),k.setEndAfter(C),T=[S.cloneContents(),k.cloneContents()],(_=y.parentNode).insertBefore(T[0],y),r.each(w,function(e){_.insertBefore(e,y)}),_.insertBefore(T[1],y),_.removeChild(y),l(w[w.length-1],x))},isParentBlockLi:function(e,t){return!!s(e,t)},trimListItems:a,listItems:i}}),r("4n",["1y","m","3q","1r","32"],function(e,t,n,r,i){var o=e.isText,a=e.isBogus,s=t.nodeIndex,l=function(e){var t=e.parentNode;return a(t)?l(t):t},c=function(e){return e?r.reduce(e.childNodes,function(e,t){return a(t)&&"BR"!=t.nodeName?e=e.concat(c(t)):e.push(t),e},[]):[]},u=function(e){return function(t){return e===t}},d=function(t){var n,i,a,s;return(o(t)?"text()":t.nodeName.toLowerCase())+"["+(i=c(l(n=t)),a=r.findIndex(i,u(n),n),i=i.slice(0,a+1),s=r.reduce(i,function(e,t,n){return o(t)&&o(i[n-1])&&e++,e},0),i=r.filter(i,e.matchNodeNames(n.nodeName)),(a=r.findIndex(i,u(n),n))-s)+"]"};return{create:function(t,i){var a,s,l,c,u,f=[];return a=i.container(),s=i.offset(),o(a)?l=function(e,t){for(;(e=e.previousSibling)&&o(e);)t+=e.data.length;return t}(a,s):(s>=(c=a.childNodes).length?(l="after",s=c.length-1):l="before",a=c[s]),f.push(d(a)),u=function(e,t,n){var r=[];for(t=t.parentNode;!(t==e||n&&n(t));t=t.parentNode)r.push(t);return r}(t,a),u=r.filter(u,n.negate(e.isBogus)),(f=f.concat(r.map(u,function(e){return d(e)}))).reverse().join("/")+","+l},resolve:function(t,n){var a,l,u;return n?(n=(a=n.split(","))[0].split("/"),u=a.length>1?a[1]:"before",(l=r.reduce(n,function(t,n){return(n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(n))?("text()"===n[1]&&(n[1]="#text"),i=t,a=n[1],s=parseInt(n[2],10),l=c(i),l=r.filter(l,function(e,t){return!o(e)||!o(l[t-1])}),(l=r.filter(l,e.matchNodeNames(a)))[s]):null;var i,a,s,l},t))?o(l)?function(e,t){for(var n,r=e,a=0;o(r);){if(n=r.data.length,t>=a&&t<=a+n){e=r,t-=a;break}if(!o(r.nextSibling)){e=r,t=n;break}a+=n,r=r.nextSibling}return t>e.data.length&&(t=e.data.length),new i(e,t)}(l,parseInt(u,10)):(u="after"===u?s(l)+1:s(l),new i(l.parentNode,u)):null):null}}}),r("2b",["1","4n","46","32","1y","2v","4b","1e"],function(e,t,n,r,i,o,a,s){var l=i.isContentEditableFalse,c=function(e,t,n,r,o){var a,s=r[o?"startContainer":"endContainer"],l=r[o?"startOffset":"endOffset"],c=[],u=0,d=e.getRoot();for(i.isText(s)?c.push(n?function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&i.isText(r);r=r.previousSibling)o+=e(r.data).length;return o}(t,s,l):l):(l>=(a=s.childNodes).length&&a.length&&(u=1,l=Math.max(0,a.length-1)),c.push(e.nodeIndex(a[l],n)+u));s&&s!==d;s=s.parentNode)c.push(e.nodeIndex(s,n));return c},u=function(e){i.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)},d=function(e,t,n){var r=0;return s.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},f=function(e,t){var n,r,o,a=t?"start":"end";n=e[a+"Container"],r=e[a+"Offset"],i.isElement(n)&&"TR"===n.nodeName&&((n=(o=n.childNodes)[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},p=function(e){return f(e,!0),f(e,!1),e},h=function(e,t){var r;if(i.isElement(e)&&(e=o.getNode(e,t),l(e)))return e;if(n.isCaretContainer(e)){if(i.isText(e)&&n.isCaretContainerBlock(e)&&(e=e.parentNode),r=e.previousSibling,l(r))return r;if(r=e.nextSibling,l(r))return r}},m=function(e,t,n){var r,i,o,a,s,u,f,p=n.getNode(),m=p?p.nodeName:null,g=n.getRng();return l(p)||"IMG"===m?{name:m,index:d(n.dom,m,p)}:(p=h((f=g).startContainer,f.startOffset)||h(f.endContainer,f.endOffset))?{name:m=p.tagName,index:d(n.dom,m,p)}:(r=e,o=t,a=g,s=(i=n).dom,(u={}).start=c(s,r,o,a,!0),i.isCollapsed()||(u.end=c(s,r,o,a,!1)),u)};return{getBookmark:function(e,n,i){return 2===n?m(a.trim,i,e):3===n?(s=(o=e).getRng(),{start:t.create(o.dom.getRoot(),r.fromRangeStart(s)),end:t.create(o.dom.getRoot(),r.fromRangeEnd(s))}):n?{rng:e.getRng()}:function(e){var t=e.dom,n=e.getRng(),r=t.uniqueId(),i=e.isCollapsed(),o="overflow:hidden;line-height:0px",a=e.getNode(),s=a.nodeName,l="&#xFEFF;";if("IMG"===s)return{name:s,index:d(t,s,a)};var c=p(n.cloneRange());if(!i){c.collapse(!1);var f=t.create("span",{"data-mce-type":"bookmark",id:r+"_end",style:o},l);c.insertNode(f),u(f.nextSibling)}(n=p(n)).collapse(!0);var h=t.create("span",{"data-mce-type":"bookmark",id:r+"_start",style:o},l);return n.insertNode(h),u(h.previousSibling),e.moveToBookmark({id:r,keep:1}),{id:r}}(e);var o,s},getUndoBookmark:e.curry(m,e.identity,!0)}}),r("5c",["2n"],function(e){return{cat:function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},findMap:function(t,n){for(var r=0;r<t.length;r++){var i=n(t[r],r);if(i.isSome())return i}return e.none()},liftN:function(t,n){for(var r=[],i=0;i<t.length;i++){var o=t[i];if(!o.isSome())return e.none();r.push(o.getOrDie())}return e.some(n.apply(null,r))}}}),r("4p",["2n","5c","b","4n","32","1y","1e"],function(e,t,n,r,i,o,a){var s=function(e,t){return!e.isBlock(t)||t.innerHTML||n.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},l=function(e,t,n,r){var i,o,a,s,l=n[t?"start":"end"],c=e.getRoot();if(l){for(a=l[0],o=c,i=l.length-1;i>=1;i--){if(s=o.childNodes,l[i]>s.length-1)return;o=s[l[i]]}3===o.nodeType&&(a=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(l[0],o.childNodes.length)),t?r.setStart(o,a):r.setEnd(o,a)}return!0},c=function(t,r,s){var l,c,u,d,f,p,h=t.get(s.id+"_"+r),m=s.keep;if(h){if(l=h.parentNode,m?(l=h.firstChild,c=1):c=t.nodeIndex(h),f=l,p=c,!m){for(d=h.previousSibling,u=h.nextSibling,a.each(a.grep(h.childNodes),function(e){o.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});h=t.get(s.id+"_"+r);)t.remove(h,1);d&&u&&d.nodeType===u.nodeType&&o.isText(d)&&!n.opera&&(c=d.nodeValue.length,d.appendData(u.nodeValue),t.remove(u),f=d,p=c)}return e.some(i(f,p))}return e.none()};return{resolve:function(n,i){var o,u,d,f,p,h,m,g,v,b,y,w,x,C,$,S=n.dom;if(i){if(a.isArray(i.start))return C=i,$=(x=S).createRng(),l(x,!0,C,$)&&l(x,!1,C,$)?e.some($):e.none();if("string"==typeof i.start)return e.some((b=i,y=(v=S).createRng(),w=r.resolve(v.getRoot(),b.start),y.setStart(w.container(),w.offset()),w=r.resolve(v.getRoot(),b.end),y.setEnd(w.container(),w.offset()),y));if(i.id)return m=c(d=S,"start",f=i),g=c(d,"end",f),t.liftN([m,(p=g,h=m,p.isSome()?p:h)],function(e,t){var n=d.createRng();return n.setStart(s(d,e.container()),e.offset()),n.setEnd(s(d,t.container()),t.offset()),n});if(i.name)return o=S,u=i,e.from(o.select(u.name)[u.index]).map(function(e){var t=o.createRng();return t.selectNode(e),t});if(i.rng)return e.some(i.rng)}return e.none()}}}),r("2r",["2b","4p"],function(e,t){return{getBookmark:function(t,n,r){return e.getBookmark(t,n,r)},moveToBookmark:function(e,n){t.resolve(e,n).each(function(t){e.setRng(t)})},isBookmarkNode:function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}}}),r("3s",["2r","1e"],function(e,t){var n=t.each;return function(t){this.compare=function(r,i){if(r.nodeName!=i.nodeName)return!1;var o=function(e){var r={};return n(t.getAttribs(e),function(n){var i=n.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&0!==i.indexOf("data-")&&(r[i]=t.getAttrib(e,i))}),r},a=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!=n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!(!a(o(r),o(i))||!a(t.parseStyle(t.getAttrib(r,"style")),t.parseStyle(t.getAttrib(i,"style")))||e.isBookmarkNode(r)||e.isBookmarkNode(i))}}}),r("41",["3h"],function(e){var t=function(t,n){e.parent(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})},n=function(e,t){e.dom().appendChild(t.dom())};return{before:t,after:function(r,i){e.nextSibling(r).fold(function(){e.parent(r).each(function(e){n(e,i)})},function(e){t(e,i)})},prepend:function(t,r){e.firstChild(t).fold(function(){n(t,r)},function(e){t.dom().insertBefore(r.dom(),e.dom())})},append:n,appendAt:function(r,i,o){e.child(r,o).fold(function(){n(r,i)},function(e){t(e,i)})},wrap:function(e,r){t(e,r),n(r,e)}}}),r("5d",["1i","41"],function(e,t){return{before:function(n,r){e.each(r,function(e){t.before(n,e)})},after:function(n,r){e.each(r,function(e,i){var o=0===i?n:r[i-1];t.after(o,e)})},prepend:function(n,r){e.each(r.slice().reverse(),function(e){t.prepend(n,e)})},append:function(n,r){e.each(r,function(e){t.append(n,e)})}}}),r("47",["1i","5d","3h"],function(e,t,n){var r=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)};return{empty:function(t){t.dom().textContent="",e.each(n.children(t),function(e){r(e)})},remove:r,unwrap:function(e){var i=n.children(e);i.length>0&&t.before(e,i),r(e)}}}),r("5e",["3d","2n","5"],function(e,t,n){return function(r,i){var o=function(e){return r(e)?t.from(e.dom().nodeValue):t.none()},a=e.detect().browser,s=a.isIE()&&10===a.version.major?function(e){try{return o(e)}catch(e){return t.none()}}:o;return{get:function(e){if(!r(e))throw new n("Can only get "+i+" value of a "+i+" node");return s(e).getOr("")},getOption:s,set:function(e,t){if(!r(e))throw new n("Can only set raw "+i+" value of a "+i+" node");e.dom().nodeValue=t}}}}),r("4e",["3f","5e"],function(e,t){var n=t(e.isText,"text");return{get:function(e){return n.get(e)},getOption:function(e){return n.getOption(e)},set:function(e,t){n.set(e,t)}}}),r("6c",["1i","51","3h"],function(e,t,n){var r=function(t,i){var o=[];return e.each(n.children(t),function(e){i(e)&&(o=o.concat([e])),o=o.concat(r(e,i))}),o};return{all:function(e){return r(t.body(),e)},ancestors:function(t,r,i){return e.filter(n.parents(t,i),r)},siblings:function(t,r){return e.filter(n.siblings(t),r)},children:function(t,r){return e.filter(n.children(t),r)},descendants:r}}),r("5f",["6c","2z"],function(e,t){return{all:function(e){return t.all(e)},ancestors:function(n,r,i){return e.ancestors(n,function(e){return t.is(e,r)},i)},siblings:function(n,r){return e.siblings(n,function(e){return t.is(e,r)})},children:function(n,r){return e.children(n,function(e){return t.is(e,r)})},descendants:function(e,n){return t.all(n,e)}}}),r("3t",["1i","41","47","1v","3f","4e","5f","3h","3l"],function(e,t,n,r,i,o,a,s,l){var c=function(e){return i.isText(e)?""===o.get(e):l.isBr(e)};return{removeTrailingBr:function(t){var i=a.descendants(t,"br"),o=e.filter(function(e){for(var t=[],n=e.dom();n;)t.push(r.fromDom(n)),n=n.lastChild;return t}(t).slice(-1),l.isBr);i.length===o.length&&e.each(o,n.remove)},fillWithPaddingBr:function(e){n.empty(e),t.append(e,r.fromHtml('<br data-mce-bogus="1">'))},isPaddedElement:function(t){return 1===e.filter(s.children(t),c).length},trimBlockTrailingBr:function(e){s.lastChild(e).each(function(t){s.prevSibling(t).each(function(r){l.isBlock(e)&&l.isBr(t)&&l.isBlock(r)&&n.remove(t)})})}}}),r("11",["v","1e"],function(e,t){var n=t.makeMap;return function(t){var r,i,o,a,s,l=[];return r=(t=t||{}).indent,i=n(t.indent_before||""),o=n(t.indent_after||""),a=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),s="html"==t.element_format,{start:function(e,t,n){var c,u,d,f;if(r&&i[e]&&l.length>0&&((f=l[l.length-1]).length>0&&"\n"!==f&&l.push("\n")),l.push("<",e),t)for(c=0,u=t.length;c<u;c++)d=t[c],l.push(" ",d.name,'="',a(d.value,!0),'"');l[l.length]=!n||s?">":" />",n&&r&&o[e]&&l.length>0&&((f=l[l.length-1]).length>0&&"\n"!==f&&l.push("\n"))},end:function(e){var t;l.push("</",e,">"),r&&o[e]&&l.length>0&&((t=l[l.length-1]).length>0&&"\n"!==t&&l.push("\n"))},text:function(e,t){e.length>0&&(l[l.length]=t?e:a(e))},cdata:function(e){l.push("<![CDATA[",e,"]]>")},comment:function(e){l.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?l.push("<?",e," ",a(t),"?>"):l.push("<?",e,"?>"),r&&l.push("\n")},doctype:function(e){l.push("<!DOCTYPE",e,">",r?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),r("z",["11","y"],function(e,t){return function(n,r){var i=new e(n);(n=n||{}).validate=!("validate"in n)||n.validate,this.schema=r=r||new t,this.writer=i,this.serialize=function(e){var t,o;o=n.validate,t={3:function(e){i.text(e.value,e.raw)},8:function(e){i.comment(e.value)},7:function(e){i.pi(e.name,e.value)},10:function(e){i.doctype(e.value)},4:function(e){i.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}},i.reset();var a=function(e){var n,s,l,c,u,d,f,p,h,m=t[e.type];if(m)m(e);else{if(n=e.name,s=e.shortEnded,l=e.attributes,o&&l&&l.length>1&&((d=[]).map={},h=r.getElementRule(e.name))){for(f=0,p=h.attributesOrder.length;f<p;f++)(c=h.attributesOrder[f])in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(f=0,p=l.length;f<p;f++)(c=l[f].name)in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(i.start(e.name,l,s),!s){if(e=e.firstChild)do{a(e)}while(e=e.next);i.end(n)}}};return 1!=e.type||n.inner?t[11](e):a(e),i.getContent()}}}),r("42",["1","2n","3n","32","5b","3r","1y"],function(e,t,n,r,i,o,a){var s=function(e){return r.isTextPosition(e)?0===e.offset():n.isCaretCandidate(e.getNode())},l=function(e){return r.isTextPosition(e)?e.offset()===e.container().data.length:n.isCaretCandidate(e.getNode(!0))},c=function(e,t){return!r.isTextPosition(e)&&!r.isTextPosition(t)&&e.getNode()===t.getNode(!0)},u=function(e,t,n){return e?!c(t,n)&&(i=t,!(!r.isTextPosition(i)&&a.isBr(i.getNode())))&&l(t)&&s(n):!c(n,t)&&s(t)&&l(n);var i},d=function(e,n,r){var i=new o(n);return t.from(e?i.next(r):i.prev(r))},f=function(e,i){var o,s,l,c,u,f=e?i.firstChild:i.lastChild;return a.isText(f)?t.some(new r(f,e?0:f.data.length)):f?n.isCaretCandidate(f)?t.some(e?r.before(f):(u=f,a.isBr(u)?r.before(u):r.after(u))):(s=i,l=f,c=(o=e)?r.before(l):r.after(l),d(o,s,c)):t.none()};return{fromPosition:d,nextPosition:e.curry(d,!0),prevPosition:e.curry(d,!1),navigate:function(e,n,r){return d(e,n,r).bind(function(o){return i.isInSameBlock(r,o,n)&&u(e,r,o)?d(e,n,o):t.some(o)})},positionIn:f,firstPositionIn:e.curry(f,!0),lastPositionIn:e.curry(f,!1)}}),r("3u",["1j","42","32","5b"],function(e,t,n,r){var i=function(i){var o=n.fromRangeStart(i),a=n.fromRangeEnd(i),s=i.commonAncestorContainer;return t.fromPosition(!1,s,a).map(function(t){return!r.isInSameBlock(o,a,s)&&r.isInSameBlock(o,t,s)?(n=o.container(),l=o.offset(),c=t.container(),u=t.offset(),(d=e.createRange()).setStart(n,l),d.setEnd(c,u),d):i;var n,l,c,u,d}).getOr(i)};return{normalize:function(e){return(t=e).collapsed?t:i(t);var t}}}),r("1w",["2n","1v","b","3m","32","3r","3s","1y","3t","z","3u","1e"],function(e,t,n,r,i,o,a,s,l,c,u,d){var f=s.matchNodeNames("td th"),p=function(s,p,h){var m,g,v,b,y,w,x,C,$,S,k,T,_=s.schema.getTextInlineElements(),E=s.selection,D=s.dom;if(/^ | $/.test(p)&&(p=function(e){var t,n,r;t=E.getRng(!0),n=t.startContainer,r=t.startOffset;var i=function(e){return n[e]&&3==n[e].nodeType};return 3==n.nodeType&&(r>0?e=e.replace(/^&nbsp;/," "):i("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):i("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(p)),m=s.parser,T=h.merge,g=new c({validate:s.settings.validate},s.schema),k='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',w={content:p,format:"html",selection:!0,paste:h.paste},(w=s.fire("BeforeSetContent",w)).isDefaultPrevented())s.fire("SetContent",{content:w.content,format:"html",selection:!0,paste:h.paste});else{-1==(p=w.content).indexOf("{$caret}")&&(p+="{$caret}"),p=p.replace(/\{\$caret\}/,k);var A,N,R,O,P=(C=E.getRng()).startContainer||(C.parentElement?C.parentElement():null),I=s.getBody();P===I&&E.isCollapsed()&&D.isBlock(I.firstChild)&&((O=I.firstChild)&&!s.schema.getShortEndedElements()[O.nodeName])&&D.isEmpty(I.firstChild)&&((C=D.createRng()).setStart(I.firstChild,0),C.setEnd(I.firstChild,0),E.setRng(C)),E.isCollapsed()||(s.selection.setRng(u.normalize(s.selection.getRng())),s.getDoc().execCommand("Delete",!1,null),N=(A=E.getRng(!0)).startContainer,R=A.startOffset,3==N.nodeType&&A.collapsed&&(""===N.data[R]?(N.deleteData(R,1),/[\u00a0| ]$/.test(p)||(p+=" ")):""===N.data[R-1]&&(N.deleteData(R-1,1),/[\u00a0| ]$/.test(p)||(p=" "+p))));var M,L,B,F={context:(v=E.getNode()).nodeName.toLowerCase(),data:h.data,insert:!0};if(y=m.parse(p,F),!0===h.paste&&r.isListFragment(s.schema,y)&&r.isParentBlockLi(D,v))return C=r.insertAtCaret(g,D,s.selection.getRng(!0),y),s.selection.setRng(C),void s.fire("SetContent",w);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(y),"mce_marker"==($=y.lastChild).attr("id"))for(x=$,$=$.prev;$;$=$.walk(!0))if(3==$.type||!D.isBlock($.name)){s.schema.isValidChild($.parent.name,"span")&&$.parent.insert(x,$,"br"===$.name);break}if(s._selectionOverrides.showBlockCaretContainer(v),F.invalid){for(E.setContent(k),v=E.getNode(),b=s.getBody(),9==v.nodeType?v=$=b:$=v;$!==b;)v=$,$=$.parentNode;p=v==b?b.innerHTML:D.getOuterHTML(v),p=g.serialize(m.parse(p.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return g.serialize(y)}))),v==b?D.setHTML(b,p):D.setOuterHTML(v,p)}else p=g.serialize(y),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,i=n.lastChild;!r||r===i&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(s,p,v);(function(){if(T){var e=s.getBody(),t=new a(D);d.each(D.select("*[data-mce-fragment]"),function(n){for(var r=n.parentNode;r&&r!=e;r=r.parentNode)_[n.nodeName.toLowerCase()]&&t.compare(r,n)&&D.remove(n,!0)})}})(),function(e){var t,r,a;if(e){if(E.scrollIntoView(e),t=function(e){for(var t=s.getBody();e&&e!==t;e=e.parentNode)if("false"===s.dom.getContentEditable(e))return e;return null}(e))return D.remove(e),void E.select(t);C=D.createRng(),($=e.previousSibling)&&3==$.nodeType?(C.setStart($,$.nodeValue.length),n.ie||(S=e.nextSibling)&&3==S.nodeType&&($.appendData(S.data),S.parentNode.removeChild(S))):(C.setStartBefore(e),C.setEndBefore(e)),r=D.getParent(e,D.isBlock),D.remove(e),r&&D.isEmpty(r)&&(s.$(r).empty(),C.setStart(r,0),C.setEnd(r,0),f(r)||r.getAttribute("data-mce-fragment")||!(a=function(e){var t=i.fromRangeStart(e);if(t=new o(s.getBody()).next(t))return t.toRange()}(C))?D.add(r,D.create("br",{"data-mce-bogus":"1"})):(C=a,D.remove(r))),E.setRng(C)}}(D.get("mce_marker")),B=s.getBody(),d.each(B.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),M=s.dom,L=s.selection.getStart(),e.from(M.getParent(L,"td,th")).map(t.fromDom).each(l.trimBlockTrailingBr),s.fire("SetContent",w),s.addVisual()}};return{insertAtCaret:function(e,t){var n,r,i="string"!=typeof(n=t)?(r=d.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:r}):{content:n,details:{}};p(e,i.content,i.details)}}}),r("6d",["28","2n"],function(e,t){return function(n,r,i,o,a){return n(i,o)?t.some(i):e.isFunction(a)&&a(i)?t.none():r(i,o,a)}}),r("5i",["28","1i","1","2n","51","31","1v","6d"],function(e,t,n,r,i,o,a,s){var l=function(t,i,o){for(var s=t.dom(),l=e.isFunction(o)?o:n.constant(!1);s.parentNode;){s=s.parentNode;var c=a.fromDom(s);if(i(c))return r.some(c);if(l(c))break}return r.none()},c=function(e,r){return t.find(e.dom().childNodes,n.compose(r,a.fromDom)).map(a.fromDom)},u=function(e,t){var n=function(e){for(var i=0;i<e.childNodes.length;i++){if(t(a.fromDom(e.childNodes[i])))return r.some(a.fromDom(e.childNodes[i]));var o=n(e.childNodes[i]);if(o.isSome())return o}return r.none()};return n(e.dom())};return{first:function(e){return u(i.body(),e)},ancestor:l,closest:function(e,t,n){return s(function(e){return t(e)},l,e,t,n)},sibling:function(e,t){var n=e.dom();return n.parentNode?c(a.fromDom(n.parentNode),function(n){return!o.eq(e,n)&&t(n)}):r.none()},child:c,descendant:u}}),r("21",["1i","1","4g","2n","4h","45","28","3d","1e"],function(e,t,n,r,i,o,a,s,l){var c=o.immutable("sections","settings"),u=s.detect().deviceType.isTouch(),d=["lists","autolink","autosave"],f={theme:"mobile"},p=function(t){var n=a.isArray(t)?t.join(" "):t,r=e.map(a.isString(n)?n.split(" "):[],i.trim);return e.filter(r,function(e){return e.length>0})},h=function(e,t){return e.sections().hasOwnProperty(t)},m=function(n,r,i,o){var a,s,c=p(i.forced_plugins),u=p(o.plugins),f=n&&h(r,"mobile")?(s=u,e.filter(s,t.curry(e.contains,d))):u,m=(a=f,[].concat(p(c)).concat(p(a)));return l.extend(o,{plugins:m.join(" ")})},g=function(t,r,i,o){var a,s,u,d,p,g,v,b,y,w,x,C,$,S=(x=["mobile"],C=o,$=n.bifilter(C,function(t,n){return e.contains(x,n)}),c($.t,$.f)),k=l.extend(r,i,S.settings(),(b=t,w=(y=S).settings().inline,b&&h(y,"mobile")&&!w?(d="mobile",p=f,g=S.sections(),v=g.hasOwnProperty(d)?g[d]:{},l.extend({},p,v)):{}),{validate:!0,content_editable:S.settings().inline,external_plugins:(a=i,s=S.settings(),u=s.external_plugins?s.external_plugins:{},a&&a.external_plugins?l.extend({},a.external_plugins,u):u)});return m(t,S,i,k)};return{getEditorSettings:function(e,t,n,r,i){var o,a={id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:(o=e).convertURL,url_converter_scope:o,ie7_compat:!0};return g(u,a,r,i)},get:function(e,t){return r.from(e.settings[t])},getString:t.curry(function(e,t,n){return r.from(t.settings[n]).filter(e)},a.isString),combineSettings:g}}),r("5j",[],function(){var e=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;return{hasStrongRtl:function(t){return e.test(t)}}}),r("44",["1i","1","2n","1v","2z","21","46","32","5b","m","1y","5j"],function(e,t,n,r,i,o,a,s,l,c,u,d){var f=function(e,t){var n=t.container(),r=t.offset();return e?a.isCaretContainerInline(n)?u.isText(n.nextSibling)?new s(n.nextSibling,0):s.after(n):a.isBeforeInline(t)?new s(n,r+1):t:a.isCaretContainerInline(n)?u.isText(n.previousSibling)?new s(n.previousSibling,n.previousSibling.data.length):s.before(n):a.isAfterInline(t)?new s(n,r-1):t};return{isInlineTarget:function(e,t){var n=o.getString(e,"inline_boundaries_selector").getOr("a[href],code");return i.is(r.fromDom(t),n)},findRootInline:function(t,r,i){var o,a,s,l=(o=t,a=r,s=i,e.filter(c.DOM.getParents(s.container(),"*",a),o));return n.from(l[l.length-1])},isRtl:function(e){return"rtl"===c.DOM.getStyle(e,"direction",!0)||d.hasStrongRtl(e.textContent)},isAtZwsp:function(e){return a.isBeforeInline(e)||a.isAfterInline(e)},normalizePosition:f,normalizeForwards:t.curry(f,!0),normalizeBackwards:t.curry(f,!1),hasSameParentBlock:function(e,t,n){var r=l.getParentBlock(t,e),i=l.getParentBlock(n,e);return r&&r===i}}}),r("3y",["2n","5c","31","1v","5i","42","3l","44"],function(e,t,n,r,i,o,a,s){return{getParentBlock:function(t,o){return n.contains(t,o)?i.closest(o,function(e){return a.isTextBlock(e)||a.isListItem(e)},(s=t,function(e){return n.eq(s,r.fromDom(e.dom().parentNode))})):e.none();var s},paddEmptyBody:function(e){var t,n,r;e.dom.isEmpty(e.getBody())&&(e.setContent(""),n=(t=e).getBody(),r=n.firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(r,0))},willDeleteLastPositionInElement:function(e,n,r){return t.liftN([o.firstPositionIn(r),o.lastPositionIn(r)],function(t,i){var a=s.normalizePosition(!0,t),l=s.normalizePosition(!1,i),c=s.normalizePosition(!1,n);return e?o.nextPosition(r,c).map(function(e){return e.isEqual(l)&&n.isEqual(a)}).getOr(!1):o.prevPosition(r,c).map(function(e){return e.isEqual(a)&&n.isEqual(l)}).getOr(!1)}).getOr(!0)}}}),r("62",["5i","2z","6d"],function(e,t,n){var r=function(n,r,i){return e.ancestor(n,function(e){return t.is(e,r)},i)};return{first:function(e){return t.one(e)},ancestor:r,sibling:function(n,r){return e.sibling(n,function(e){return t.is(e,r)})},child:function(n,r){return e.child(n,function(e){return t.is(e,r)})},descendant:function(e,n){return t.one(n,e)},closest:function(e,i,o){return n(t.is,r,e,i,o)}}}),r("6e",["62"],function(e){return{any:function(t){return e.first(t).isSome()},ancestor:function(t,n,r){return e.ancestor(t,n,r).isSome()},sibling:function(t,n){return e.sibling(t,n).isSome()},child:function(t,n){return e.child(t,n).isSome()},descendant:function(t,n){return e.descendant(t,n).isSome()},closest:function(t,n,r){return e.closest(t,n,r).isSome()}}}),r("5r",["1","31","1v","6e","3n","1y","s"],function(e,t,n,r,i,o,a){var s=function(i,a){return o.isText(a)&&/^[ \t\r\n]*$/.test(a.data)&&!1===(s=i,l=a,c=n.fromDom(s),u=n.fromDom(l),r.ancestor(u,"pre,code",e.curry(t.eq,c)));var s,l,c,u},l=function(e,t){return i.isCaretCandidate(t)&&!1===s(e,t)||(n=t,o.isElement(n)&&"A"===n.nodeName&&n.hasAttribute("name"))||c(t);var n},c=o.hasAttribute("data-mce-bookmark"),u=o.hasAttribute("data-mce-bogus"),d=o.hasAttributeValue("data-mce-bogus","all");return{isEmpty:function(e){return function(e){var t,n,r=0;if(l(e,e))return!1;if(!(n=e.firstChild))return!0;t=new a(n,e);do{if(d(n))n=t.next(!0);else if(u(n))n=t.next();else if(o.isBr(n))r++,n=t.next();else{if(l(e,n))return!1;n=t.next()}}while(n);return r<=1}(e.dom())}}}),r("5g",["1i","1","2n","5c","45","31","1v","3f","5i","3h","42","32","3y","5r","1y"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h){var m=i.immutable("block","position"),g=i.immutable("from","to"),v=function(e,t){var n=a.fromDom(e),r=a.fromDom(t.container());return f.getParentBlock(n,r).map(function(e){return m(e,t)})},b=function(e,t,i){var a=v(e,d.fromRangeStart(i)),s=a.bind(function(r){return u.fromPosition(t,e,r.position()).bind(function(r){return v(e,r).map(function(r){return i=e,o=t,a=r,h.isBr(a.position().getNode())&&!1===p.isEmpty(a.block())?u.positionIn(!1,a.block().dom()).bind(function(e){return e.isEqual(a.position())?u.fromPosition(o,i,e).bind(function(e){return v(i,e)}):n.some(a)}).getOr(a):a;var i,o,a})})});return r.liftN([a,s],g).filter(function(e){return r=e,!1===o.eq(r.from().block(),r.to().block())&&(n=e,c.parent(n.from().block()).bind(function(e){return c.parent(n.to().block()).filter(function(t){return o.eq(e,t)})}).isSome())&&(t=e,!1===h.isContentEditableFalse(t.from().block())&&!1===h.isContentEditableFalse(t.to().block()));var t,n,r})};return{read:function(e,t,r){return r.collapsed?b(e,t,r):n.none()}}}),r("5s",["1","31","3h"],function(e,t,n){var r=function(e,r,i){return t.contains(r,e)?n.parents(e,function(e){return i(e)||t.eq(e,r)}).slice(0,-1):[]},i=function(t,n){return r(t,n,e.constant(!1))};return{parentsUntil:r,parents:i,parentsAndSelf:function(e,t){return[e].concat(i(e,t))}}}),r("5h",["1i","2n","31","41","47","1v","3h","42","32","3l","5r","1y","3t","5s"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p){var h=function(t){var n,r,o=(n=t,r=a.children(n),e.findIndex(r,c.isBlock).fold(function(){return r},function(e){return r.slice(0,e)}));return e.each(o,function(e){i.remove(e)}),o},m=function(e,t){s.positionIn(e,t.dom()).each(function(e){var t=e.getNode();d.isBr(t)&&i.remove(o.fromDom(t))})},g=function(t,n){var r=p.parentsAndSelf(n,t);return e.find(r.reverse(),u.isEmpty).each(i.remove)},v=function(e,r){return n.contains(r,e)?a.parent(e).bind(function(i){return n.eq(i,r)?t.some(e):(o=r,s=e,l=a.parents(s,function(e){return n.eq(e,o)}),t.from(l[l.length-2]));var o,s,l}):t.none()},b=function(t,n,o){if(u.isEmpty(o))return i.remove(o),u.isEmpty(n)&&f.fillWithPaddingBr(n),s.firstPositionIn(n.dom());m(!0,n),m(!1,o);var a=h(n);return v(n,o).fold(function(){g(t,n);var i=s.lastPositionIn(o.dom());return e.each(a,function(e){r.append(o,e)}),i},function(i){var c=s.prevPosition(o.dom(),l.before(i.dom()));return e.each(a,function(e){r.before(i,e)}),g(t,n),c})};return{mergeBlocks:function(e,t,n,r){return t?b(e,r,n):b(e,n,r)}}}),r("3v",["1v","5g","5h"],function(e,t,n){return{backspaceDelete:function(r,i){var o,a=e.fromDom(r.getBody());return(o=t.read(a.dom(),i,r.selection.getRng()).bind(function(e){return n.mergeBlocks(a,i,e.from().block(),e.to().block())})).each(function(e){r.selection.setRng(e.toRange())}),o.isSome()}}}),r("3w",["1","5c","31","1v","5i","42","32","3y","5h","3l"],function(e,t,n,r,i,o,a,s,l,c){var u=function(t,o){var a=r.fromDom(o),s=e.curry(n.eq,t);return i.ancestor(a,c.isTableCell,s).isSome()},d=function(e,t){var n,r,i=o.prevPosition(e.dom(),a.fromRangeStart(t)).isNone(),s=o.nextPosition(e.dom(),a.fromRangeEnd(t)).isNone();return!(u(n=e,(r=t).startContainer)||u(n,r.endContainer))&&i&&s},f=function(e){var i,o,a,c,u=r.fromDom(e.getBody()),f=e.selection.getRng();return d(u,f)?((c=e).setContent(""),c.selection.setCursorLocation(),!0):(i=u,o=e.selection,a=o.getRng(),t.liftN([s.getParentBlock(i,r.fromDom(a.startContainer)),s.getParentBlock(i,r.fromDom(a.endContainer))],function(e,t){return!1===n.eq(e,t)&&(a.deleteContents(),l.mergeBlocks(i,!0,e,t).each(function(e){o.setRng(e.toRange())}),!0)}).getOr(!1))};return{backspaceDelete:function(e,t){return!e.selection.isCollapsed()&&f(e,e.selection.getRng())}}}),r("5n",["1i","4g","28","4","5","3e"],function(e,t,n,r,i,o){return{generate:function(a){if(!n.isArray(a))throw new i("cases must be an array");if(0===a.length)throw new i("there must be at least one case");var s=[],l={};return e.each(a,function(c,u){var d=t.keys(c);if(1!==d.length)throw new i("one and only one name per case");var f=d[0],p=c[f];if(void 0!==l[f])throw new i("duplicate key detected:"+f);if("cata"===f)throw new i("cannot have a case named cata (sorry)");if(!n.isArray(p))throw new i("case arguments must be an array");s.push(f),l[f]=function(){var n=arguments.length;if(n!==p.length)throw new i("Wrong number of arguments to case "+f+". Expected "+p.length+" ("+p+"), got "+n);for(var l=new r(n),c=0;c<l.length;c++)l[c]=arguments[c];return{fold:function(){if(arguments.length!==a.length)throw new i("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[u].apply(null,l)},match:function(n){var r=t.keys(n);if(s.length!==r.length)throw new i("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+r.join(","));if(!e.forall(s,function(t){return e.contains(r,t)}))throw new i("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+s.join(", "));return n[f].apply(null,l)},log:function(e){o.log(e,{constructors:s,constructor:f,params:l})}}}}),l}}}),r("5k",["5n","2n","1v","42","32","5b","3y","5r","1y"],function(e,t,n,r,i,o,a,s,l){var c=e.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),u=function(e,r,i,o){var l=o.getNode(!1===r);return a.getParentBlock(n.fromDom(e),n.fromDom(i.getNode())).map(function(e){return s.isEmpty(e)?c.remove(e.dom()):c.moveToElement(l)}).orThunk(function(){return t.some(c.moveToElement(l))})},d=function(e,n,i){return r.fromPosition(n,e,i).bind(function(r){return n&&l.isContentEditableFalse(r.getNode())?u(e,n,i,r):!1===n&&l.isContentEditableFalse(r.getNode(!0))?u(e,n,i,r):n&&o.isAfterContentEditableFalse(i)?t.some(c.moveToPosition(r)):!1===n&&o.isBeforeContentEditableFalse(i)?t.some(c.moveToPosition(r)):t.none()})},f=function(e,n,r){return s=n,u=r.getNode(!1===s),f=s?"after":"before",l.isElement(u)&&u.getAttribute("data-mce-caret")===f?(i=n,a=r.getNode(!1===n),i&&l.isContentEditableFalse(a.nextSibling)?t.some(c.moveToElement(a.nextSibling)):!1===i&&l.isContentEditableFalse(a.previousSibling)?t.some(c.moveToElement(a.previousSibling)):t.none()).fold(function(){return d(e,n,r)},t.some):d(e,n,r).bind(function(n){return i=e,a=r,n.fold(function(e){return t.some(c.remove(e))},function(e){return t.some(c.moveToElement(e))},function(e){return o.isInSameBlock(a,e,i)?t.none():t.some(c.moveToPosition(e))});var i,a});var i,a,s,u,f};return{read:function(e,n,r){var a=o.normalizeRange(n?1:-1,e,r),s=i.fromRangeStart(a);return!1===n&&o.isAfterContentEditableFalse(s)?t.some(c.remove(s.getNode(!0))):n&&o.isBeforeContentEditableFalse(s)?t.some(c.remove(s.getNode())):f(e,n,s)}}}),r("5l",["1","2n","5c","41","47","1v","3f","5i","3h","3n","42","32","5r","1y"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p){var h=function(e,t){return r=e,i=(n=t).container(),o=n.offset(),!1===d.isTextPosition(n)&&i===r.parentNode&&o>d.before(r).offset()?new d(t.container(),t.offset()-1):t;var n,r,i,o},m=function(e){return c.isCaretCandidate(e.previousSibling)?t.some((n=e.previousSibling,p.isText(n)?new d(n,n.data.length):d.after(n))):e.previousSibling?u.lastPositionIn(e.previousSibling):t.none();var n},g=function(e){return c.isCaretCandidate(e.nextSibling)?t.some((n=e.nextSibling,p.isText(n)?new d(n,0):d.before(n))):e.nextSibling?u.firstPositionIn(e.nextSibling):t.none();var n},v=function(e,n){return m(n).orThunk(function(){return g(n)}).orThunk(function(){return r=e,i=n,o=d.before(i.previousSibling?i.previousSibling:i.parentNode),u.prevPosition(r,o).fold(function(){return u.nextPosition(r,d.after(i))},t.some);var r,i,o})},b=function(e,n){return g(n).orThunk(function(){return m(n)}).orThunk(function(){return r=e,i=n,u.nextPosition(r,d.after(i)).fold(function(){return u.prevPosition(r,d.before(i))},t.some);var r,i})},y=function(t,n,r){return(i=t,o=n,a=r,i?b(o,a):v(o,a)).map(e.curry(h,r));var i,o,a},w=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},x=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(a.name(t))},C=function(e){if(f.isEmpty(e)){var n=o.fromHtml('<br data-mce-bogus="1">');return i.empty(e),r.append(e,n),t.some(d.before(n.dom()))}return t.none()};return{deleteElement:function(r,o,a){var c,u,f,h=y(o,r.getBody(),a.dom()),m=s.ancestor(a,e.curry(x,r),(f=r.getBody(),function(e){return e.dom()===f})),g=(c=a,u=h,n.liftN([l.prevSibling(c),l.nextSibling(c),u],function(e,t,n){var r,o=e.dom(),a=t.dom();return p.isText(o)&&p.isText(a)?(r=o.data.length,o.appendData(a.data),i.remove(t),i.remove(c),n.container()===a?new d(o,r):n):(i.remove(c),n)}).orThunk(function(){return i.remove(c),u}));r.dom.isEmpty(r.getBody())?(r.setContent(""),r.selection.setCursorLocation()):m.bind(C).fold(function(){w(r,o,g)},function(e){w(r,o,t.some(e))})}}}),r("3x",["1i","47","1v","5f","32","5k","5l","3y","1y"],function(e,t,n,r,i,o,a,s,l){var c=function(e,t){return o.read(e.getBody(),t,e.selection.getRng()).map(function(r){return r.fold((c=e,u=t,function(e){return c._selectionOverrides.hideFakeCaret(),a.deleteElement(c,u,n.fromDom(e)),!0}),(s=e,l=t,function(e){var t=l?i.before(e):i.after(e);return s.selection.setRng(t.toRange()),!0}),(o=e,function(e){return o.selection.setRng(e.toRange()),!0}));var o,s,l,c,u}).getOr(!1)},u=function(i,o){var c,u=i.selection.getNode();return!!l.isContentEditableFalse(u)&&(c=n.fromDom(i.getBody()),e.each(r.descendants(c,".mce-offscreen-selection"),t.remove),a.deleteElement(i,o,n.fromDom(i.selection.getNode())),s.paddEmptyBody(i),!0)};return{backspaceDelete:function(e,t){return e.selection.isCollapsed()?c(e,t):u(e,t)},paddEmptyElement:function(e){var t,n=function(e,t){for(;t&&t!==e;){if(l.isContentEditableTrue(t)||l.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return l.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(i.before(t).toRange())),!0}}}),r("6f",["1","1y","4b"],function(e,t,n){var r=t.isText,i=function(e){return r(e)&&e.data[0]===n.ZWSP},o=function(e){return r(e)&&e.data[e.data.length-1]===n.ZWSP},a=function(e){return e.ownerDocument.createTextNode(n.ZWSP)},s=function(e,t){return e?function(e){if(r(e.previousSibling))return o(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(n.ZWSP),e.previousSibling);if(r(e))return i(e)?e:(e.insertData(0,n.ZWSP),e);var t=a(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(r(e.nextSibling))return i(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,n.ZWSP),e.nextSibling);if(r(e))return o(e)?e:(e.appendData(n.ZWSP),e);var t=a(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)};return{insertInline:s,insertInlineBefore:e.curry(s,!0),insertInlineAfter:e.curry(s,!1)}}),r("6g",["1i","46","32","1y","4b"],function(e,t,n,r,i){var o=r.isElement,a=r.isText,s=function(e){var t=e.parentNode;t&&t.removeChild(e)},l=function(e,t){0===t.length?s(e):e.nodeValue=t},c=function(e){var t=i.trim(e);return{count:e.length-t.length,text:t}},u=function(e,t){return p(e),t},d=function(e,t){return t.container()===e?(i=t,o=c((r=e).data.substr(0,i.offset())),a=c(r.data.substr(i.offset())),(s=o.text+a.text).length>0?(l(r,s),new n(r,i.offset()-o.count)):i):u(e,t);var r,i,o,a,s},f=function(t,r){return r.container()===t.parentNode?(i=t,a=(o=r).container(),s=e.indexOf(a.childNodes,i).map(function(e){return e<o.offset()?new n(a,o.offset()-1):o}).getOr(o),p(i),s):u(t,r);var i,o,a,s},p=function(e){if(o(e)&&t.isCaretContainer(e)&&(t.hasContent(e)?e.removeAttribute("data-mce-caret"):s(e)),a(e)){var n=i.trim(function(e){try{return e.nodeValue}catch(e){return""}}(e));l(e,n)}};return{removeAndReposition:function(e,t){return n.isTextPosition(t)?d(e,t):f(e,t)},remove:p}}),r("5m",["2n","46","6f","6g","42","32","1y","44"],function(e,t,n,r,i,o,a,s){var l=function(e,t){return a.isText(e.container())?n.insertInline(t,e.container()):n.insertInline(t,e.getNode())},c=function(e,n){var r=n.get();return r&&e.container()===r&&t.isCaretContainerInline(r)};return{renderCaret:function(t,a){return a.fold(function(i){r.remove(t.get());var a=n.insertInlineBefore(i);return t.set(a),e.some(new o(a,a.length-1))},function(e){return i.firstPositionIn(e).map(function(e){if(c(e,t))return new o(t.get(),1);r.remove(t.get());var n=l(e,!0);return t.set(n),new o(n,1)})},function(e){return i.lastPositionIn(e).map(function(e){if(c(e,t))return new o(t.get(),t.get().length-1);r.remove(t.get());var n=l(e,!1);return t.set(n),new o(n,n.length-1)})},function(i){r.remove(t.get());var a=n.insertInlineAfter(i);return t.set(a),e.some(new o(a,1))})}}}),r("4a",["s"],function(e){var t=function(e){return e&&/^(IMG)$/.test(e.nodeName)},n=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},r=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t};return{isInlineBlock:t,moveStart:function(r,i,o){var a,s,l,c=o.startContainer,u=o.startOffset;if((o.startContainer!==o.endContainer||!t(o.startContainer.childNodes[o.startOffset]))&&(3===c.nodeType&&u>=c.nodeValue.length&&(u=r.nodeIndex(c),c=c.parentNode),1===c.nodeType))for(u<(l=c.childNodes).length?(c=l[u],a=new e(c,r.getParent(c,r.isBlock))):(c=l[l.length-1],(a=new e(c,r.getParent(c,r.isBlock))).next(!0)),s=a.current();s;s=a.next())if(3===s.nodeType&&!n(s))return o.setStart(s,0),void i.setRng(o)},getNonWhiteSpaceSibling:function(e,t,r){if(e)for(t=t?"nextSibling":"previousSibling",e=r?e:e[t];e;e=e[t])if(1===e.nodeType||!n(e))return e},isTextBlock:function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},isValid:function(e,t,n){return e.schema.isValidChild(t,n)},isWhiteSpaceNode:n,replaceVars:function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},isEq:function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},normalizeStyleValue:r,getStyle:function(e,t,n){return r(e,e.getStyle(t,n),n)},getTextDecoration:function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},getParents:function(e,t,n){return e.getParents(t,n,e.getRoot())}}}),r("49",["2r","s","4a","2v"],function(e,t,n,r){var i=e.isBookmarkNode,o=n.getParents,a=n.isWhiteSpaceNode,s=n.isTextBlock,l=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},c=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},u=function(e,t,n,r){var i,o,a=n.nodeValue;return void 0===r&&(r=e?a.length:0),e?-1===(i=(i=a.lastIndexOf(" ",r))>(o=a.lastIndexOf("",r))?i:o)||t||i++:(i=a.indexOf(" ",r),o=a.indexOf("",r),i=-1!==i&&(-1===o||i<o)?i:o),i},d=function(e,n,r,i,o,a){var s,l,c,d;if(3===r.nodeType){if(-1!==(c=u(o,a,r,i)))return{container:r,offset:c};d=r}for(s=new t(r,e.getParent(r,e.isBlock)||n);l=s[o?"prev":"next"]();)if(3===l.nodeType){if(d=l,-1!==(c=u(o,a,l)))return{container:l,offset:c}}else if(e.isBlock(l))break;if(d)return{container:d,offset:i=o?0:d.length}},f=function(e,t,n,r,i){var a,s,l,c;for(3===r.nodeType&&0===r.nodeValue.length&&r[i]&&(r=r[i]),a=o(e,r),s=0;s<a.length;s++)for(l=0;l<t.length;l++)if(!("collapsed"in(c=t[l])&&c.collapsed!==n.collapsed)&&e.is(a[s],c.selector))return a[s];return r},p=function(e,t,r,i){var a,l=e.dom,c=l.getRoot();if(t[0].wrapper||(a=l.getParent(r,t[0].block,c)),!a){var u=l.getParent(r,"LI,TD,TH");a=l.getParent(3===r.nodeType?r.parentNode:r,function(t){return t!==c&&s(e,t)},u)}if(a&&t[0].wrapper&&(a=o(l,a,"ul,ol").reverse()[0]||a),!a)for(a=r;a[i]&&!l.isBlock(a[i])&&(a=a[i],!n.isEq(a,"br")););return a||r},h=function(e,t,n,r,o,s,l){var c,u,d,f,p,h;if(c=u=l?n:o,f=l?"previousSibling":"nextSibling",p=e.getRoot(),3===c.nodeType&&!a(c)&&(l?r>0:s<c.nodeValue.length))return c;for(;;){if(!t[0].block_expand&&e.isBlock(u))return u;for(d=u[f];d;d=d[f])if(!i(d)&&!a(d)&&("BR"!==(h=d).nodeName||!h.getAttribute("data-mce-bogus")||h.nextSibling))return u;if(u===p||u.parentNode===p){c=u;break}u=u.parentNode}return c};return{expandRng:function(e,t,n,o){var a,s=t.startContainer,u=t.startOffset,m=t.endContainer,g=t.endOffset,v=e.dom;return 1===s.nodeType&&s.hasChildNodes()&&3===(s=r.getNode(s,u)).nodeType&&(u=0),1===m.nodeType&&m.hasChildNodes()&&3===(m=r.getNode(m,t.collapsed?g:g-1)).nodeType&&(g=m.nodeValue.length),s=c(v,s),m=c(v,m),(i(s.parentNode)||i(s))&&3===(s=(s=i(s)?s:s.parentNode).nextSibling||s).nodeType&&(u=0),(i(m.parentNode)||i(m))&&3===(m=(m=i(m)?m:m.parentNode).previousSibling||m).nodeType&&(g=m.length),n[0].inline&&(t.collapsed&&((a=d(v,e.getBody(),s,u,!0,o))&&(s=a.container,u=a.offset),(a=d(v,e.getBody(),m,g,!1,o))&&(m=a.container,g=a.offset)),m=o?m:function(e,t){var n=l(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=l(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node).splitText(n.offset-1)}return e}(m,g)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===s.nodeType&&0!==u||(s=h(v,n,s,u,m,g,!0)),n[0].inline&&3===m.nodeType&&g!==m.nodeValue.length||(m=h(v,n,s,u,m,g,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(s=f(v,n,t,s,"previousSibling"),m=f(v,n,t,m,"nextSibling")),(n[0].block||n[0].selector)&&(s=p(e,n,s,"previousSibling"),m=p(e,n,m,"nextSibling"),n[0].block&&(v.isBlock(s)||(s=h(v,n,s,u,m,g,!0)),v.isBlock(m)||(m=h(v,n,s,u,m,g,!1)))),1===s.nodeType&&(u=v.nodeIndex(s),s=s.parentNode),1===m.nodeType&&(g=v.nodeIndex(m)+1,m=m.parentNode),{startContainer:s,startOffset:u,endContainer:m,endOffset:g}}}}),r("2i",["4a"],function(e){var t=e.isEq,n=function(e,t,n){var r=e.formatter.get(n);if(r)for(var i=0;i<r.length;i++)if(!1===r[i].inherit&&e.dom.is(t,r[i].selector))return!0;return!1},r=function(e,t,r,i){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!n(e,t,r)||t.parentNode===o||!!a(e,t,r,i,!0)}),a(e,t,r,i))},i=function(e,n,r){return!!t(n,r.inline)||!!t(n,r.block)||(r.selector?1===n.nodeType&&e.is(n,r.selector):void 0)},o=function(n,r,i,o,a,s){var l,c,u,d=i[o];if(i.onmatch)return i.onmatch(r,i,o);if(d)if(void 0===d.length){for(l in d)if(d.hasOwnProperty(l)){if(c="attributes"===o?n.getAttrib(r,l):e.getStyle(n,r,l),a&&!c&&!i.exact)return;if((!a||i.exact)&&!t(c,e.normalizeStyleValue(n,e.replaceVars(d[l],s),l)))return}}else for(u=0;u<d.length;u++)if("attributes"===o?n.getAttrib(r,d[u]):e.getStyle(n,r,d[u]))return i;return i},a=function(e,t,n,r,a){var s,l,c,u,d=e.formatter.get(n),f=e.dom;if(d&&t)for(l=0;l<d.length;l++)if(s=d[l],i(e.dom,t,s)&&o(f,t,s,"attributes",a,r)&&o(f,t,s,"styles",a,r)){if(u=s.classes)for(c=0;c<u.length;c++)if(!e.dom.hasClass(t,u[c]))return;return s}};return{matchNode:a,matchName:i,match:function(e,t,n,i){var o;return i?r(e,i,t,n):(i=e.selection.getNode(),!(!r(e,i,t,n)&&(o=e.selection.getStart(),o===i||!r(e,o,t,n))))},matchAll:function(e,t,n){var r,i=[],o={};return r=e.selection.getStart(),e.dom.getParent(r,function(r){var s,l;for(s=0;s<t.length;s++)l=t[s],!o[l]&&a(e,r,l,n)&&(o[l]=!0,i.push(l))},e.dom.getRoot()),i},canApply:function(t,n){var r,i,o,a,s,l=t.formatter.get(n),c=t.dom;if(l)for(r=t.selection.getStart(),i=e.getParents(c,r),a=l.length-1;a>=0;a--){if(!(s=l[a].selector)||l[a].defaultBlock)return!0;for(o=i.length-1;o>=0;o--)if(c.is(i[o],s))return!0}return!1},matchesUnInheritedFormatSelector:n}}),r("2x",["1y"],function(e){var t=function(e,t){return e.splitText(t)};return{split:function(n){var r=n.startContainer,i=n.startOffset,o=n.endContainer,a=n.endOffset;return r===o&&e.isText(r)?i>0&&i<r.nodeValue.length&&(r=(o=t(r,i)).previousSibling,a>i?(r=o=t(o,a-=i).previousSibling,a=o.nodeValue.length,i=0):a=0):(e.isText(r)&&i>0&&i<r.nodeValue.length&&(r=t(r,i),i=0),e.isText(o)&&a>0&&a<o.nodeValue.length&&(a=(o=t(o,a).previousSibling).nodeValue.length)),{startContainer:r,startOffset:i,endContainer:o,endOffset:a}}}}),r("2f",["1i","41","47","1v","3f","48","32","1y","3t","s","49","4a","2i","2x","4b","3q"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m){var g=h.ZWSP,v="_mce_caret",b=function(e){return 1===e.nodeType&&e.id===v},y=function(e){return function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==g||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length>0},w=function(e){var t;if(e)for(e=(t=new c(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null},x=function(e){var n=r.fromTag("span");return o.setAll(n,{id:v,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&t.append(n,r.fromText(g)),n},C=function(e,t){for(;t&&t!==e;){if(t.id===v)return t;t=t.parentNode}return null},$=function(e,t,n,i){var o,a,s,c;o=t.getRng(!0),a=e.getParent(n,e.isBlock),y(n)?(!1!==i&&(o.setStartBefore(n),o.setEndBefore(n)),e.remove(n)):((c=w(n))&&c.nodeValue.charAt(0)===g&&c.deleteData(0,1),s=c,o.startContainer===s&&o.startOffset>0&&o.setStart(s,o.startOffset-1),o.endContainer===s&&o.endOffset>0&&o.setEnd(s,o.endOffset-1),e.remove(n,!0)),a&&e.isEmpty(a)&&l.fillWithPaddingBr(r.fromDom(a)),t.setRng(o)},S=function(e,t,n,r,i){if(r)$(t,n,r,i);else if(!(r=C(e,n.getStart())))for(;r=t.get(v);)$(t,n,r,!1)},k=function(e,t,n){var i=e.dom,o=i.getParent(n,m.curry(d.isTextBlock,e));o&&i.isEmpty(o)?n.parentNode.replaceChild(t,n):(l.removeTrailingBr(r.fromDom(n)),i.isEmpty(n)?n.parentNode.replaceChild(t,n):i.insertAfter(t,n))},T=function(e,t){return e.appendChild(t),t},_=function(t,n){var r=e.foldr(t,function(e,t){return T(e,t.cloneNode(!1))},n);return T(r,r.ownerDocument.createTextNode(g))};return{setup:function(e){var t=e.dom,n=e.selection,r=e.getBody();e.on("mouseup keydown",function(e){var i,o,a,s;i=r,o=t,a=n,s=e.keyCode,S(i,o,a,null,!1),8===s&&a.isCollapsed()&&a.getStart().innerHTML===g&&S(i,o,a,C(i,a.getStart())),37!==s&&39!==s||S(i,o,a,C(i,a.getStart()))})},applyCaretFormat:function(e,t,n){var r,i,o,a,s,l,c=e.selection;a=(r=c.getRng(!0)).startOffset,l=r.startContainer.nodeValue,(i=C(e.getBody(),c.getStart()))&&(o=w(i));var d,f,h=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&a>0&&a<l.length&&h.test(l.charAt(a))&&h.test(l.charAt(a-1))?(s=c.getBookmark(),r.collapse(!0),r=u.expandRng(e,r,e.formatter.get(t)),r=p.split(r),e.formatter.apply(t,n,r),c.moveToBookmark(s)):(i&&o.nodeValue===g?e.formatter.apply(t,n,i):(d=e.getDoc(),f=x(!0).dom(),o=(i=d.importNode(f,!0)).firstChild,r.insertNode(i),a=1,e.formatter.apply(t,n,i)),c.setCursorLocation(o,a))},removeCaretFormat:function(e,t,n,r){var i,o,a,s,l,c,d,h=e.dom,m=e.selection,g=m.getRng(!0),v=[];for(i=g.startContainer,o=g.startOffset,l=i,3===i.nodeType&&(o!==i.nodeValue.length&&(s=!0),l=l.parentNode);l;){if(f.matchNode(e,l,t,n,r)){c=l;break}l.nextSibling&&(s=!0),v.push(l),l=l.parentNode}if(c)if(s)a=m.getBookmark(),g.collapse(!0),g=u.expandRng(e,g,e.formatter.get(t),!0),g=p.split(g),e.formatter.remove(t,n,g),m.moveToBookmark(a);else{d=C(e.getBody(),c);var b=x(!1).dom(),y=_(v,b);k(e,b,d||c),$(h,m,d,!1),m.setCursorLocation(y,1),h.isEmpty(c)&&h.remove(c)}},isCaretNode:b,getParentCaretContainer:C,replaceWithCaretFormat:function(e,i){var o=x(!1),s=_(i,o.dom());return t.before(r.fromDom(e),o),n.remove(r.fromDom(e)),a(s,0)},isFormatElement:function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(i.name(t))&&!b(t.dom())&&!s.isBogus(t.dom())}}}),r("5o",["2n"],function(e){return{evaluateUntil:function(t,n){for(var r=0;r<t.length;r++){var i=t[r].apply(null,n);if(i.isSome())return i}return e.none()}}}),r("43",["5n","1","2n","5c","42","5b","2f","44","5o"],function(e,t,n,r,i,o,a,s,l){var c=e.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),u=function(e,t){var n=o.getParentBlock(t,e);return n||e},d=function(e,r,o){var a=s.normalizeForwards(o),l=u(r,a.container());return s.findRootInline(e,l,a).fold(function(){return i.nextPosition(l,a).bind(t.curry(s.findRootInline,e,l)).map(function(e){return c.before(e)})},n.none)},f=function(e,t){return null===a.getParentCaretContainer(e,t)},p=function(e,n,r){return s.findRootInline(e,n,r).filter(t.curry(f,n))},h=function(e,t,r){var o=s.normalizeBackwards(r);return p(e,t,o).bind(function(e){return i.prevPosition(e,o).isNone()?n.some(c.start(e)):n.none()})},m=function(e,t,r){var o=s.normalizeForwards(r);return p(e,t,o).bind(function(e){return i.nextPosition(e,o).isNone()?n.some(c.end(e)):n.none()})},g=function(e,r,o){var a=s.normalizeBackwards(o),l=u(r,a.container());return s.findRootInline(e,l,a).fold(function(){return i.prevPosition(l,a).bind(t.curry(s.findRootInline,e,l)).map(function(e){return c.after(e)})},n.none)},v=function(e){return!1===s.isRtl(y(e))},b=function(e,t,n){return l.evaluateUntil([d,h,m,g],[e,t,n]).filter(v)},y=function(e){return e.fold(t.identity,t.identity,t.identity,t.identity)},w=function(e){return e.fold(t.constant("before"),t.constant("start"),t.constant("end"),t.constant("after"))},x=function(e){return e.fold(c.before,c.before,c.after,c.after)},C=function(e,t,n,i,o,a){return r.liftN([s.findRootInline(t,n,i),s.findRootInline(t,n,o)],function(t,r){return t!==r&&s.hasSameParentBlock(n,t,r)?c.after(e?t:r):a}).getOr(a)},$=function(e,n){return e.fold(t.constant(!0),function(e){return r=n,!(w(t=e)===w(r)&&y(t)===y(r));var t,r})},S=function(e,r){return e?r.fold(t.compose(n.some,c.start),n.none,t.compose(n.some,c.after),n.none):r.fold(n.none,t.compose(n.some,c.before),n.none,t.compose(n.some,c.end))},k=function(e,n,r,o){var a=s.normalizePosition(e,o),l=b(n,r,a);return b(n,r,a).bind(t.curry(S,e)).orThunk(function(){return a=e,c=n,u=r,d=l,f=o,p=s.normalizePosition(a,f),i.fromPosition(a,u,p).map(t.curry(s.normalizePosition,a)).fold(function(){return d.map(x)},function(e){return b(c,u,e).map(t.curry(C,a,c,u,p,e)).filter(t.curry($,d))}).filter(v);var a,c,u,d,f,p})};return{readLocation:b,findLocation:k,prevLocation:t.curry(k,!1),nextLocation:t.curry(k,!0),getElement:y,outside:x,inside:function(e){return e.fold(c.start,c.start,c.end,c.end)}}}),r("2d",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),r("6h",["28","46","32"],function(e,t,n){var r=function(t){return e.isFunction(t.selection.getSel().modify)},i=function(e,t,r){var i=e?1:-1;return t.setRng(n(r.container(),r.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};return{hasSelectionModifyApi:r,moveByWord:function(e,o){var a=o.selection.getRng(),s=e?n.fromRangeEnd(a):n.fromRangeStart(a);return!!r(o)&&(e&&t.isBeforeInline(s)?i(!0,o.selection,s):!(e||!t.isAfterInline(s))&&i(!1,o.selection,s))}}}),r("5p",["1i","2d","1","6g","32","5m","43","44","6h"],function(e,t,n,r,i,o,a,s,l){var c=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},u=function(e){return!1!==e.settings.inline_boundaries},d=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},f=function(e,t,n){return o.renderCaret(t,n).map(function(t){return c(e,t),n})},p=function(e,t,n){return function(){return!!u(t)&&l.moveByWord(e,t)}};return{move:function(e,t,r){return function(){return!!u(e)&&(o=e,l=t,c=r,d=o.getBody(),p=i.fromRangeStart(o.selection.getRng()),h=n.curry(s.isInlineTarget,o),a.findLocation(c,h,d,p).bind(function(e){return f(o,l,e)})).isSome();var o,l,c,d,p,h}},moveNextWord:n.curry(p,!0),movePrevWord:n.curry(p,!1),setupSelectedState:function(o){var l=new t(null),p=n.curry(s.isInlineTarget,o);return o.on("NodeChange",function(t){var h,m,g,v,b;u(o)&&(h=p,m=o.dom,g=t.parents,v=e.filter(m.select('*[data-mce-selected="inline-boundary"]'),h),b=e.filter(g,h),e.each(e.difference(v,b),n.curry(d,!1)),e.each(e.difference(b,v),n.curry(d,!0)),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=i.fromRangeStart(e.selection.getRng());i.isTextPosition(n)&&!1===s.isAtZwsp(n)&&(c(e,r.removeAndReposition(t.get(),n)),t.set(null))}}(o,l),function(t,n,r,o){if(n.selection.isCollapsed()){var s=e.filter(o,t);e.each(s,function(e){var o=i.fromRangeStart(n.selection.getRng());a.readLocation(t,n.getBody(),o).bind(function(e){return f(n,r,e)})})}}(p,o,l,t.parents))}),l},setCaretPosition:c}}),r("3z",["1","2n","5c","1v","1j","46","42","32","5b","5l","5m","43","5p","44"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p){var h=function(e,t){return function(n){return u.renderCaret(t,n).map(function(t){return f.setCaretPosition(e,t),!0}).getOr(!1)}},m=function(t,n,r,o){var a=t.getBody(),l=e.curry(p.isInlineTarget,t);t.undoManager.ignore(function(){var e,c,u;t.selection.setRng((e=r,c=o,(u=i.createRange()).setStart(e.container(),e.offset()),u.setEnd(c.container(),c.offset()),u)),t.execCommand("Delete"),d.readLocation(l,a,s.fromRangeStart(t.selection.getRng())).map(d.inside).map(h(t,n))}),t.nodeChanged()},g=function(i,o,s,u){var f,g,v=(f=i.getBody(),g=u.container(),l.getParentBlock(g,f)||f),b=e.curry(p.isInlineTarget,i),y=d.readLocation(b,v,u);return y.bind(function(n){return s?n.fold(e.constant(t.some(d.inside(n))),t.none,e.constant(t.some(d.outside(n))),t.none):n.fold(t.none,e.constant(t.some(d.outside(n))),t.none,e.constant(t.some(d.inside(n))))}).map(h(i,o)).getOrThunk(function(){var e=a.navigate(s,v,u),t=e.bind(function(e){return d.readLocation(b,v,e)});return y.isSome()&&t.isSome()?p.findRootInline(b,v,u).map(function(e){return t=e,!!n.liftN([a.firstPositionIn(t),a.lastPositionIn(t)],function(e,n){var r=p.normalizePosition(!0,e),i=p.normalizePosition(!1,n);return a.nextPosition(t,r).map(function(e){return e.isEqual(i)}).getOr(!0)}).getOr(!0)&&(c.deleteElement(i,s,r.fromDom(e)),!0);var t}).getOr(!1):t.bind(function(t){return e.map(function(e){return s?m(i,o,u,e):m(i,o,e,u),!0})}).getOr(!1)})};return{backspaceDelete:function(e,t,n){if(e.selection.isCollapsed()&&!1!==e.settings.inline_boundaries){var r=s.fromRangeStart(e.selection.getRng());return g(e,t,n,r)}return!1}}}),r("5q",["5n","1i","1","2n","5c","45","31","1v","5f","62"],function(e,t,n,r,i,o,a,s,l,c){var u=o.immutable("start","end"),d=o.immutable("rng","table","cells"),f=e.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),p=function(e,t){return c.closest(s.fromDom(e),"td,th",t)},h=function(e,t){return c.ancestor(e,"table",t)},m=function(e){return!1===a.eq(e.start(),e.end())},g=function(e,t){return(n=e,i=t,h(n.start(),i).bind(function(e){return h(n.end(),i).bind(function(t){return a.eq(e,t)?r.some(e):r.none()})})).bind(function(t){var n=l.descendants(t,"td,th");return d(e,t,n)});var n,i},v=function(e,t){var r,o,s=n.curry(a.eq,e);return(r=t,o=s,i.liftN([p(r.startContainer,o),p(r.endContainer,o)],u).filter(m)).map(function(e){return g(e,s)})},b=function(e,n){return t.findIndex(e,function(e){return a.eq(e,n)})},y=function(e){return(t=e,i.liftN([b(t.cells(),t.rng().start()),b(t.cells(),t.rng().end())],function(e,n){return t.cells().slice(e,n+1)})).bind(function(t){var n=e.cells();return t.length===n.length?f.removeTable(e.table()):f.emptyCells(t)});var t};return{getActionFromRange:function(e,t){return v(e,t).map(y)},getActionFromCells:function(e){return f.emptyCells(e)}}}),r("36",["1i","1v","2v"],function(e,t,n){var r=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t};return{getRanges:r,getSelectedNodes:function(r){return e.bind(r,function(e){var r=n.getSelectedNode(e);return r?[t.fromDom(r)]:[]})},hasMultipleRanges:function(e){return r(e).length>1}}}),r("5t",["1i","1v","5f","3l","36"],function(e,t,n,r,i){var o=function(t){return e.filter(i.getSelectedNodes(t),r.isTableCell)},a=function(e){return n.descendants(e,"td[data-mce-selected],th[data-mce-selected]")},s=function(e,t){var n=a(t),r=o(e);return n.length>0?n:r};return{getCellsFromRanges:o,getCellsFromElement:a,getCellsFromElementOrRanges:s,getCellsFromEditor:function(e){return s(i.getRanges(e.selection.getSel()),t.fromDom(e.getBody()))}}}),r("40",["1i","1","2n","31","1v","3f","42","32","5l","5q","3l","5r","3t","5s","5t"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h){var m=function(t,n){return e.each(n,f.fillWithPaddingBr),t.selection.setCursorLocation(n[0].dom(),0),!0},g=function(e,t){return l.deleteElement(e,!1,t),!0},v=function(e,n,r,i){return y(n,i).fold(function(){return i=e,o=n,a=r,c.getActionFromRange(o,a).map(function(e){return e.fold(t.curry(g,i),t.curry(m,i))});var i,o,a},function(t){return w(e,t)}).getOr(!1)},b=function(t,n){return e.find(p.parentsAndSelf(n,t),u.isTableCell)},y=function(t,n){return e.find(p.parentsAndSelf(n,t),function(e){return"caption"===o.name(e)})},w=function(e,t){return f.fillWithPaddingBr(t),e.selection.setCursorLocation(t.dom(),0),n.some(!0)},x=function(e,t,o,s,l){return a.navigate(o,e.getBody(),l).bind(function(n){return d=s,f=o,p=l,h=n,a.firstPositionIn(d.dom()).bind(function(e){return a.lastPositionIn(d.dom()).map(function(t){return f?p.isEqual(e)&&h.isEqual(t):p.isEqual(t)&&h.isEqual(e)})}).getOr(!0)?w(e,s):(c=s,u=n,y(t,i.fromDom(u.getNode())).map(function(e){return!1===r.eq(e,c)}));var c,u,d,f,p,h}).or(n.some(!0))},C=function(e,t,n,o){var l=s.fromRangeStart(e.selection.getRng());return b(n,o).bind(function(o){return d.isEmpty(o)?w(e,o):(s=e,c=n,u=t,f=o,p=l,a.navigate(u,s.getBody(),p).bind(function(e){return b(c,i.fromDom(e.getNode())).map(function(e){return!1===r.eq(e,f)})}));var s,c,u,f,p})},$=function(e,t,n){var r=i.fromDom(e.getBody());return y(r,n).fold(function(){return C(e,t,r,n)},function(n){return i=e,o=t,a=r,l=n,c=s.fromRangeStart(i.selection.getRng()),d.isEmpty(l)?w(i,l):x(i,a,o,l,c);var i,o,a,l,c}).getOr(!1)};return{backspaceDelete:function(e,t){var n,r,o,a,s,l=i.fromDom(e.selection.getStart(!0));return e.selection.isCollapsed()?$(e,t,l):(n=e,r=l,o=i.fromDom(n.getBody()),a=n.selection.getRng(),0!==(s=h.getCellsFromEditor(n)).length?m(n,s):v(n,o,a,r))}}}),r("1x",["3v","3w","3x","3y","3z","40"],function(e,t,n,r,i,o){var a=function(e,t){e.getDoc().execCommand(t,!1,null)};return{deleteCommand:function(s){n.backspaceDelete(s,!1)||i.backspaceDelete(s,!1)||e.backspaceDelete(s,!1)||o.backspaceDelete(s)||t.backspaceDelete(s,!1)||(a(s,"Delete"),r.paddEmptyBody(s))},forwardDeleteCommand:function(r){n.backspaceDelete(r,!0)||i.backspaceDelete(r,!0)||e.backspaceDelete(r,!0)||o.backspaceDelete(r)||t.backspaceDelete(r,!0)||a(r,"ForwardDelete")}}}),r("2u",[],function(){return{isEq:function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}}),r("2t",["2n","45","46","1y","s","2f","2u"],function(e,t,n,r,i,o,a){var s=t.immutable("container","offset"),l=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},c=function(e,t,n){return l(e,t,function(e){return e.nodeName===n})},u=function(e){return e&&"TABLE"===e.nodeName},d=function(e,t,n){for(var o=new i(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=o[n?"prev":"next"]();)if(r.isBr(t))return!0},f=function(t,a,u,d,f){var p,h,m,g,v,b,y=t.getRoot(),w=t.schema.getNonEmptyElements();if(m=t.getParent(f.parentNode,t.isBlock)||y,d&&r.isBr(f)&&a&&t.isEmpty(m))return e.some(s(f.parentNode,t.nodeIndex(f)));for(p=new i(f,m);g=p[d?"prev":"next"]();){if("false"===t.getContentEditableParent(g)||(v=g,b=y,n.isCaretContainer(v)&&!1===l(v,b,o.isCaretNode)))return e.none();if(r.isText(g)&&g.nodeValue.length>0)return!1===c(g,y,"A")?e.some(s(g,d?g.nodeValue.length:0)):e.none();if(t.isBlock(g)||w[g.nodeName.toLowerCase()])return e.none();h=g}return u&&h?e.some(s(h,0)):e.none()},p=function(t,o,a,l){var c,p,h,m,g,v,b,y,w,x,C=t.getRoot(),$=!1;if(c=l[(a?"start":"end")+"Container"],p=l[(a?"start":"end")+"Offset"],b=r.isElement(c)&&p===c.childNodes.length,g=t.schema.getNonEmptyElements(),v=a,n.isCaretContainer(c))return e.none();if(r.isElement(c)&&p>c.childNodes.length-1&&(v=!1),r.isDocument(c)&&(c=C,p=0),c===C){if(v&&(m=c.childNodes[p>0?p-1:0])){if(n.isCaretContainer(m))return e.none();if(g[m.nodeName]||u(m))return e.none()}if(c.hasChildNodes()){if(p=Math.min(!v&&p>0?p-1:p,c.childNodes.length-1),c=c.childNodes[p],p=r.isText(c)&&b?c.data.length:0,!o&&c===C.lastChild&&u(c))return e.none();if(function(e,t){for(;t&&t!==e;){if(r.isContentEditableFalse(t))return!0;t=t.parentNode}return!1}(C,c)||n.isCaretContainer(c))return e.none();if(c.hasChildNodes()&&!1===u(c)){m=c,h=new i(c,C);do{if(r.isContentEditableFalse(m)||n.isCaretContainer(m)){$=!1;break}if(r.isText(m)&&m.nodeValue.length>0){p=v?0:m.nodeValue.length,c=m,$=!0;break}if(g[m.nodeName.toLowerCase()]&&(!(y=m)||!/^(TD|TH|CAPTION)$/.test(y.nodeName))){p=t.nodeIndex(m),c=m.parentNode,"IMG"!==m.nodeName&&"PRE"!==m.nodeName||v||p++,$=!0;break}}while(m=v?h.next():h.prev())}}}return o&&(r.isText(c)&&0===p&&f(t,b,o,!0,c).each(function(e){c=e.container(),p=e.offset(),$=!0}),r.isElement(c)&&((m=c.childNodes[p])||(m=c.childNodes[p-1]),!m||!r.isBr(m)||(x="A",(w=m).previousSibling&&w.previousSibling.nodeName===x)||d(t,m,!1)||d(t,m,!0)||f(t,b,o,!0,m).each(function(e){c=e.container(),p=e.offset(),$=!0}))),v&&!o&&r.isText(c)&&p===c.nodeValue.length&&f(t,b,o,!1,c).each(function(e){c=e.container(),p=e.offset(),$=!0}),$?e.some(s(c,p)):e.none()};return{normalize:function(t,n){var r=n.collapsed,i=n.cloneRange();return p(t,r,!0,i).each(function(e){i.setStart(e.container(),e.offset())}),r||p(t,r,!1,i).each(function(e){i.setEnd(e.container(),e.offset())}),r&&i.collapse(!0),a.isEq(n,i)?e.none():e.some(i)}}}),r("1z",["1","41","1v","42","32","1y","s","43","44","2t"],function(e,t,n,r,i,o,a,s,l,c){var u=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},d=function(e,t,n,r){var i=e.createRng();r?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),t.setRng(i)},f=function(e,t){var n,r,i=e.selection,o=e.dom,s=i.getRng(!0);c.normalize(o,s).each(function(e){s.setStart(e.startContainer,e.startOffset),s.setEnd(e.endContainer,e.endOffset)});var l=s.startOffset,f=s.startContainer;if(1===f.nodeType&&f.hasChildNodes()){var p=l>f.childNodes.length-1;f=f.childNodes[Math.min(l,f.childNodes.length-1)]||f,l=p&&3===f.nodeType?f.nodeValue.length:0}var h=o.getParent(f,o.isBlock),m=h?o.getParent(h.parentNode,o.isBlock):null,g=m?m.nodeName.toUpperCase():"",v=t&&t.ctrlKey;"LI"!==g||v||(h=m),f&&3===f.nodeType&&l>=f.nodeValue.length&&(function(e,t,n){for(var r,i=new a(t,n),o=e.getNonEmptyElements();r=i.next();)if(o[r.nodeName.toLowerCase()]||r.length>0)return!0}(e.schema,f,h)||(n=o.create("br"),s.insertNode(n),s.setStartAfter(n),s.setEndAfter(n),r=!0)),n=o.create("br"),s.insertNode(n),u(o,i,n),d(o,i,n,r),e.undoManager.add()},p=function(e,r){var i=n.fromTag("br");t.before(n.fromDom(r),i),e.undoManager.add()},h=function(e,r){m(e.getBody(),r)||t.after(n.fromDom(r),n.fromTag("br"));var i=n.fromTag("br");t.after(n.fromDom(r),i),u(e.dom,e.selection,i.dom()),d(e.dom,e.selection,i.dom(),!1),e.undoManager.add()},m=function(e,t){return n=i.after(t),!!o.isBr(n.getNode())||r.nextPosition(e,i.after(t)).map(function(e){return o.isBr(e.getNode())}).getOr(!1);var n},g=function(e){return e&&"A"===e.nodeName&&"href"in e},v=function(t){return t.fold(e.constant(!1),g,g,e.constant(!1))},b=function(t,n){n.fold(e.noop,e.curry(p,t),e.curry(h,t),e.noop)};return{insert:function(t,n){var r,o,a,c=(r=t,o=e.curry(l.isInlineTarget,r),a=i.fromRangeStart(r.selection.getRng()),s.readLocation(o,r.getBody(),a).filter(v));c.isSome()?c.each(e.curry(b,t)):f(t,n)}}}),r("5u",["5n","1"],function(e,t){var n=e.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);return{before:n.before,on:n.on,after:n.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(t.identity,t.identity,t.identity)}}}),r("4f",["5n","45","1v","3h","5u"],function(e,t,n,r,i){var o=e.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),a=t.immutable("start","soffset","finish","foffset");return{domRange:o.domRange,relative:o.relative,exact:o.exact,exactFromRange:function(e){return o.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:a,getWin:function(e){var t=e.match({domRange:function(e){return n.fromDom(e.startContainer)},relative:function(e,t){return i.getStart(e)},exact:function(e,t,n,r){return e}});return r.defaultView(t)}}}),r("20",["1","2n","3d","31","1v","3f","4e","3h","4f","1j"],function(e,t,n,r,i,o,a,s,l,c){var u=n.detect().browser,d=function(e,t){var n=o.isText(t)?a.get(t).length:s.children(t).length+1;return e>n?n:e<0?0:e},f=function(e){return l.range(e.start(),d(e.soffset(),e.start()),e.finish(),d(e.foffset(),e.finish()))},p=function(e,t){return r.contains(e,t)||r.eq(e,t)},h=function(e){return function(t){return p(e,t.start())&&p(e,t.finish())}},m=function(e){return!0===e.inline||u.isIE()},g=function(e){return l.range(i.fromDom(e.startContainer),e.startOffset,i.fromDom(e.endContainer),e.endOffset)},v=function(e){var n=e.getSelection();return(n&&0!==n.rangeCount?t.from(n.getRangeAt(0)):t.none()).map(g)},b=function(e){var t=s.defaultView(e);return v(t.dom()).filter(h(e))},y=function(e,n){return t.from(n).filter(h(e)).map(f)},w=function(e){var n=c.createRange();return n.setStart(e.start().dom(),e.soffset()),n.setEnd(e.finish().dom(),e.foffset()),t.some(n)},x=function(n){return(n.bookmark?n.bookmark:t.none()).bind(e.curry(y,i.fromDom(n.getBody()))).bind(w)};return{store:function(e){var n=m(e)?b(i.fromDom(e.getBody())):t.none();e.bookmark=n.isSome()?n:e.bookmark},storeNative:function(e,n){var r=i.fromDom(e.getBody()),o=(m(e)?t.from(n):t.none()).map(g).filter(h(r));e.bookmark=o.isSome()?o:e.bookmark},readRange:v,restore:function(e){x(e).each(function(t){e.selection.setRng(t)})},getRng:x,getBookmark:b,validate:y}}),r("8",["b","1w","1x","1y","1z","20","1e"],function(e,t,n,r,i,o,a){var s=a.each,l=a.extend,c=a.map,u=a.inArray,d=a.explode;return function(a){var f,p,h,m,g={state:{},exec:{},value:{}},v=a.settings;a.on("PreInit",function(){f=a.dom,p=a.selection,v=a.settings,h=a.formatter});var b=function(e){var t;if(!a.quirks.isHidden()&&!a.removed){if(e=e.toLowerCase(),t=g.state[e])return t(e);try{return a.getDoc().queryCommandState(e)}catch(e){}return!1}},y=function(e,t){t=t||"exec",s(e,function(e,n){s(n.toLowerCase().split(","),function(n){g[t][n]=e})})};l(this,{execCommand:function(e,t,n,r){var i,l,c=0;if(!a.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?o.restore(a):a.focus(),(r=a.fire("BeforeExecCommand",{command:e,ui:t,value:n})).isDefaultPrevented())return!1;if(l=e.toLowerCase(),i=g.exec[l])return i(l,t,n),a.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(s(a.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.fire("ExecCommand",{command:e,ui:t,value:n}),c=!0,!1}),c)return c;if(a.theme&&a.theme.execCommand&&a.theme.execCommand(e,t,n))return a.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{c=a.getDoc().execCommand(e,t,n)}catch(e){}return!!c&&(a.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},queryCommandState:b,queryCommandValue:function(e){var t;if(!a.quirks.isHidden()&&!a.removed){if(e=e.toLowerCase(),t=g.value[e])return t(e);try{return a.getDoc().queryCommandValue(e)}catch(e){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),g.exec[e])return!0;try{return a.getDoc().queryCommandSupported(e)}catch(e){}return!1},addCommands:y,addCommand:function(e,t,n){e=e.toLowerCase(),g.exec[e]=function(e,r,i,o){return t.call(n||a,r,i,o)}},addQueryStateHandler:function(e,t,n){e=e.toLowerCase(),g.state[e]=function(){return t.call(n||a)}},addQueryValueHandler:function(e,t,n){e=e.toLowerCase(),g.value[e]=function(){return t.call(n||a)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!g.exec[e]}});var w=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),a.getDoc().execCommand(e,t,n)},x=function(e){return h.match(e)},C=function(e,t){h.toggle(e,t?{value:t}:void 0),a.nodeChanged()},$=function(e){m=p.getBookmark(e)},S=function(){p.moveToBookmark(m)};y({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=a.getDoc();try{w(t)}catch(e){n=!0}if("paste"!==t||r.queryCommandEnabled(t)||(n=!0),n||!r.queryCommandSupported(t)){var i=a.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");e.mac&&(i=i.replace(/Ctrl\+/g,"+")),a.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(p.isCollapsed()){var e=a.dom.getParent(a.selection.getStart(),"a");e&&a.dom.remove(e,!0)}else h.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),s("left,center,right,justify".split(","),function(e){t!=e&&h.remove("align"+e)}),"none"!=t&&C("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;w(e),(t=f.getParent(p.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&($(),f.split(n,t),S()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){C(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){C(e,n)},FontSize:function(e,t,n){var r,i;n>=1&&n<=7&&(i=d(v.font_size_style_values),n=(r=d(v.font_size_classes))?r[n-1]||n:i[n-1]||n),C(e,n)},RemoveFormat:function(e){h.remove(e)},mceBlockQuote:function(){C("blockquote")},FormatBlock:function(e,t,n){return C(n||"p")},mceCleanup:function(){var e=p.getBookmark();a.setContent(a.getContent({cleanup:!0}),{cleanup:!0}),p.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||p.getNode();r!=a.getBody()&&($(),a.dom.remove(r,!0),S())},mceSelectNodeDepth:function(e,t,n){var r=0;f.getParent(p.getNode(),function(e){if(1==e.nodeType&&r++==n)return p.select(e),!1},a.getBody())},mceSelectNode:function(e,t,n){p.select(n)},mceInsertContent:function(e,n,r){t.insertAtCaret(a,r)},mceInsertRawHTML:function(e,t,n){p.setContent("tiny_mce_marker"),a.setContent(a.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){C(n)},mceSetContent:function(e,t,n){a.setContent(n)},"Indent,Outdent":function(e){var t,n,r;t=v.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t,10),b("InsertUnorderedList")||b("InsertOrderedList")?w(e):(v.forced_root_block||f.getParent(p.getNode(),f.isBlock)||h.apply("div"),s(p.getSelectedBlocks(),function(i){if("false"!==f.getContentEditable(i)&&"LI"!==i.nodeName){var o=a.getParam("indent_use_margin",!1)?"margin":"padding";o="TABLE"===i.nodeName?"margin":o,o+="rtl"==f.getStyle(i,"direction",!0)?"Right":"Left","outdent"==e?(r=Math.max(0,parseInt(i.style[o]||0,10)-t),f.setStyle(i,o,r?r+n:"")):(r=parseInt(i.style[o]||0,10)+t+n,f.setStyle(i,o,r))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){a.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual,a.addVisual()},mceReplaceContent:function(e,t,n){a.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,p.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=f.getParent(p.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||h.remove("link"),n.href&&h.apply("link",n,r)},selectAll:function(){var e=f.getParent(p.getStart(),r.isContentEditableTrue);if(e){var t=f.createRng();t.selectNodeContents(e),p.setRng(t)}},delete:function(){n.deleteCommand(a)},forwardDelete:function(){n.forwardDeleteCommand(a)},mceNewDocument:function(){a.setContent("")},InsertLineBreak:function(e,t,n){return i.insert(a,n),!0}}),y({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=p.isCollapsed()?[f.getParent(p.getNode(),f.isBlock)]:p.getSelectedBlocks(),r=c(n,function(e){return!!h.matchNode(e,t)});return-1!==u(r,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return x(e)},mceBlockQuote:function(){return x("blockquote")},Outdent:function(){var e;if(v.inline_styles){if((e=f.getParent(p.getStart(),f.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0;if((e=f.getParent(p.getEnd(),f.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0}return b("InsertUnorderedList")||b("InsertOrderedList")||!v.inline_styles&&!!f.getParent(p.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=f.getParent(p.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),y({"FontSize,FontName":function(e){var t,n=0;return(t=f.getParent(p.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),y({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}})}}),r("16",["1e"],function(e){var t=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),n=function(t){var n,r,i=this,o={},a=function(){return!1},s=function(){return!0};n=(t=t||{}).scope||i,r=t.toggleEvent||a;var l=function(t,n,s,l){var c,u,d;if(!1===n&&(n=a),n)for(n={func:n},l&&e.extend(n,l),d=(u=t.toLowerCase().split(" ")).length;d--;)t=u[d],(c=o[t])||(c=o[t]=[],r(t,!0)),s?c.unshift(n):c.push(n);return i},c=function(e,t){var n,a,s,l,c;if(e)for(n=(l=e.toLowerCase().split(" ")).length;n--;){if(e=l[n],a=o[e],!e){for(s in o)r(s,!1),delete o[s];return i}if(a){if(t)for(c=a.length;c--;)a[c].func===t&&(a=a.slice(0,c).concat(a.slice(c+1)),o[e]=a);else a.length=0;a.length||(r(e,!1),delete o[e])}}else{for(e in o)r(e,!1);o={}}return i};i.fire=function(e,r){var i,l,u,d;if(e=e.toLowerCase(),(r=r||{}).type=e,r.target||(r.target=n),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=s},r.stopPropagation=function(){r.isPropagationStopped=s},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=s},r.isDefaultPrevented=a,r.isPropagationStopped=a,r.isImmediatePropagationStopped=a),t.beforeFire&&t.beforeFire(r),i=o[e])for(l=0,u=i.length;l<u;l++){if((d=i[l]).once&&c(e,d.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===d.func.call(n,r))return r.preventDefault(),r}return r},i.on=l,i.off=c,i.once=function(e,t,n){return l(e,t,n,{once:!0})},i.has=function(e){return e=e.toLowerCase(),!(!o[e]||0===o[e].length)}};return n.isNative=function(e){return!!t[e.toLowerCase()]},n}),r("1c",["16"],function(e){var t=function(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,r){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,r)}})),t._eventDispatcher};return{fire:function(e,n,r){if(this.removed&&"remove"!==e)return n;if(n=t(this).fire(e,n,r),!1!==r&&this.parent)for(var i=this.parent();i&&!n.isPropagationStopped();)i.fire(e,n,!1),i=i.parent();return n},on:function(e,n,r){return t(this).on(e,n,r)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),r("a",["1c","m","1e"],function(e,t,n){var r,i=t.DOM,o=function(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=i.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},a=function(e,t){var n,a,s=function(e){return!e.hidden&&!e.readonly};if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=o(e,t),e.settings.event_root){if(r||(r={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&r){for(t in r)e.dom.unbind(o(e,t));r=null}})),r[t])return;a=function(n){for(var r=n.target,o=e.editorManager.get(),a=o.length;a--;){var l=o[a].getBody();(l===r||i.isChildOf(r,l))&&s(o[a])&&o[a].fire(t,n)}},r[t]=a,i.bind(n,t,a)}else a=function(n){s(e)&&e.fire(t,n)},i.bind(n,t,a),e.delegates[t]=a},s={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){a(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?a(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(o(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(o(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return n.extend({},e,s)}),r("22",[],function(){var e=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},t=function(t,n){var r,i,o;t._clickBlocker&&(t._clickBlocker.unbind(),t._clickBlocker=null),n?(t._clickBlocker=(i=(r=t).getBody(),o=function(e){r.dom.getParents(e.target,"a").length>0&&e.preventDefault()},r.dom.bind(i,"click",o),{unbind:function(){r.dom.unbind(i,"click",o)}}),t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable=!1):(t.readonly=!1,t.getBody().contentEditable=!0,e(t,"StyleWithCSS",!1),e(t,"enableInlineTableEditing",!1),e(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())};return{setMode:function(e,n){var r=e.readonly?"readonly":"design";n!=r&&(e.initialized?t(e,"readonly"==n):e.on("init",function(){t(e,"readonly"==n)}),e.fire("SwitchMode",{mode:n}))}}}),r("c",["1e","b"],function(e,t){var n=e.each,r=e.explode,i={f9:120,f10:121,f11:122},o=e.makeMap("alt,ctrl,shift,meta,access");return function(a){var s={},l=[],c=function(e){var a,s,l={};for(s in n(r(e,"+"),function(e){e in o?l[e]=!0:/^[0-9]{2,}$/.test(e)?l.keyCode=parseInt(e,10):(l.charCode=e.charCodeAt(0),l.keyCode=i[e]||e.toUpperCase().charCodeAt(0))}),a=[l.keyCode],o)l[s]?a.push(s):l[s]=!1;return l.id=a.join(","),l.access&&(l.alt=!0,t.mac?l.ctrl=!0:l.shift=!0),l.meta&&(t.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l},u=function(t,n,i,o){var s;return(s=e.map(r(t,">"),c))[s.length-1]=e.extend(s[s.length-1],{func:i,scope:o||a}),e.extend(s[0],{desc:a.translate(n),subpatterns:s.slice(1)})},d=function(e,t){return!!t&&t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&t.alt==e.altKey&&t.shift==e.shiftKey&&!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0)},f=function(e){return e.func?e.func.call(e.scope):null};a.on("keyup keypress keydown",function(e){var t,r;!((r=e).altKey||r.ctrlKey||r.metaKey||(t=e,"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123))||e.isDefaultPrevented()||(n(s,function(t){if(d(e,t))return l=t.subpatterns.slice(0),"keydown"==e.type&&f(t),!0}),d(e,l[0])&&(1===l.length&&"keydown"==e.type&&f(l[0]),l.shift()))}),this.add=function(t,i,o,l){var c;return c=o,"string"==typeof o?o=function(){a.execCommand(c,!1,null)}:e.isArray(c)&&(o=function(){a.execCommand(c[0],c[1],c[2])}),n(r(e.trim(t.toLowerCase())),function(e){var t=u(e,i,o,l);s[t.id]=t}),!0},this.remove=function(e){var t=u(e);return!!s[t.id]&&(delete s[t.id],!0)}}}),r("x",["y","v","1e"],function(e,t,n){var r=n.each,i=function(e,t,n){var r,i,o,a,s=1;for(a=e.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;i=o.exec(t);){if(r=o.lastIndex,"/"===i[1])s--;else if(!i[1]){if(i[2]in a)continue;s++}if(0===s)break}return r},o=function(o,a){var s=this,l=function(){};o=o||{},s.schema=a=a||new e,!1!==o.fix_self_closing&&(o.fix_self_closing=!0),r("comment cdata text start end pi doctype".split(" "),function(e){e&&(s[e]=o[e]||l)}),s.parse=function(e){var r,s,l,c,u,d,f,p,h,m,g,v,b,y,w,x,C,$,S,k,T,_,E,D,A,N,R,O,P,I=this,M=0,L=[],B=0,F=t.decode,j=n.makeMap("src,href,data,background,formaction,poster"),z=/((java|vb)script|mhtml):/i,U=/^data:/i,H=function(e){var t,n;for(t=L.length;t--&&L[t].name!==e;);if(t>=0){for(n=L.length-1;n>=t;n--)(e=L[n]).valid&&I.end(e.name);L.length=t}},q=function(e,t,n,r,i){var a,s,l;if(n=(t=t.toLowerCase())in g?t:F(n||r||i||""),b&&!p&&!1==(0===(l=t).indexOf("data-")||0===l.indexOf("aria-"))){if(!(a=$[t])&&S){for(s=S.length;s--&&!(a=S[s]).pattern.test(t););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(j[t]&&!o.allow_script_urls){var u=n.replace(/[\s\u0000-\u001F]+/g,"");try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}if(z.test(u))return;if(!o.allow_html_data_urls&&U.test(u)&&!/^data:image\//i.test(u))return}p&&(t in j||0===t.indexOf("on"))||(c.map[t]=n,c.push({name:t,value:n}))};for(A=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),N=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,m=a.getShortEndedElements(),D=o.self_closing_elements||a.getSelfClosingElements(),g=a.getBoolAttrs(),b=o.validate,h=o.remove_internals,P=o.fix_self_closing,R=a.getSpecialElements(),E=e+">";r=A.exec(E);){if(M<r.index&&I.text(F(e.substr(M,r.index-M))),s=r[6])":"===(s=s.toLowerCase()).charAt(0)&&(s=s.substr(1)),H(s);else if(s=r[7]){if(r.index+r[0].length>e.length){I.text(F(e.substr(r.index))),M=r.index+r[0].length;continue}if(":"===(s=s.toLowerCase()).charAt(0)&&(s=s.substr(1)),v=s in m,P&&D[s]&&L.length>0&&L[L.length-1].name===s&&H(s),!b||(y=a.getElementRule(s))){if(w=!0,b&&($=y.attributes,S=y.attributePatterns),(C=r[8])?((p=-1!==C.indexOf("data-mce-type"))&&h&&(w=!1),(c=[]).map={},C.replace(N,q)):(c=[]).map={},b&&!p){if(k=y.attributesRequired,T=y.attributesDefault,_=y.attributesForced,y.removeEmptyAttrs&&!c.length&&(w=!1),_)for(u=_.length;u--;)f=(x=_[u]).name,"{$uid}"===(O=x.value)&&(O="mce_"+B++),c.map[f]=O,c.push({name:f,value:O});if(T)for(u=T.length;u--;)(f=(x=T[u]).name)in c.map||("{$uid}"===(O=x.value)&&(O="mce_"+B++),c.map[f]=O,c.push({name:f,value:O}));if(k){for(u=k.length;u--&&!(k[u]in c.map););-1===u&&(w=!1)}if(x=c.map["data-mce-bogus"]){if("all"===x){M=i(a,e,A.lastIndex),A.lastIndex=M;continue}w=!1}}w&&I.start(s,c,v)}else w=!1;if(l=R[s]){l.lastIndex=M=r.index+r[0].length,(r=l.exec(e))?(w&&(d=e.substr(M,r.index-M)),M=r.index+r[0].length):(d=e.substr(M),M=e.length),w&&(d.length>0&&I.text(d,!0),I.end(s)),A.lastIndex=M;continue}v||(C&&C.indexOf("/")==C.length-1?w&&I.end(s):L.push({name:s,valid:w}))}else(s=r[1])?(">"===s.charAt(0)&&(s=" "+s),o.allow_conditional_comments||"[if"!==s.substr(0,3).toLowerCase()||(s=" "+s),I.comment(s)):(s=r[2])?I.cdata(s.replace(/<!--|-->/g,"")):(s=r[3])?I.doctype(s):(s=r[4])&&I.pi(s,r[5]);M=r.index+r[0].length}for(M<e.length&&I.text(F(e.substr(M))),u=L.length-1;u>=0;u--)(s=L[u]).valid&&I.end(s.name)}};return o.findEndTag=i,o}),r("23",["x","4b"],function(e,t){var n=function(t,n){var r,i,o,a,s,l,c,u,d=n,f=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,p=t.schema;for(l=t.getTempAttrs(),c=d,u=void 0,u=new RegExp(["\\s?("+l.join("|")+')="[^"]+"'].join("|"),"gi"),d=c.replace(u,""),s=p.getShortEndedElements();a=f.exec(d);)i=f.lastIndex,o=a[0].length,r=s[a[1]]?i:e.findEndTag(p,d,i),d=d.substring(0,i-o)+d.substring(r),f.lastIndex=i-o;return d};return{trimExternal:function(e,r){return t.trim(n(e,r))},trimInternal:n}}),r("5v",["5i"],function(e){return{any:function(t){return e.first(t).isSome()},ancestor:function(t,n,r){return e.ancestor(t,n,r).isSome()},closest:function(t,n,r){return e.closest(t,n,r).isSome()},sibling:function(t,n){return e.sibling(t,n).isSome()},child:function(t,n){return e.child(t,n).isSome()},descendant:function(t,n){return e.descendant(t,n).isSome()}}}),r("4i",["1","2n","31","1v","5v","3h","1j"],function(e,t,n,r,i,o,a){var s=function(e){e.dom().focus()},l=function(e){var n=void 0!==e?e.dom():a;return t.from(n.activeElement).map(r.fromDom)};return{hasFocus:function(e){var t=o.owner(e).dom();return e.dom()===t.activeElement},focus:s,blur:function(e){e.dom().blur()},active:l,search:function(e){return l(o.owner(e)).filter(function(t){return e.dom().contains(t.dom())})},focusInside:function(t){var r=o.owner(t);l(r).filter(function(r){return i.closest(r,e.curry(n.eq,t))}).fold(function(){s(t)},e.noop)}}}),r("24",["2n","31","4i","1v","b","42","3l","2v","20"],function(e,t,n,r,i,o,a,s,l){var c=function(n,i){return(o=i,o.collapsed?e.from(s.getNode(o.startContainer,o.startOffset)).map(r.fromDom):e.none()).bind(function(r){return a.isTableSection(r)?e.some(r):!1===t.contains(n,r)?e.some(n):e.none()});var o},u=function(e,t){c(r.fromDom(e.getBody()),t).bind(function(e){return o.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(t){e.selection.setRng(t.toRange())})},d=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},f=function(e){var t,i=e.getBody();return i&&(t=r.fromDom(i),n.hasFocus(t)||n.search(t).isSome())},p=function(e){return e.inline?f(e):(t=e).iframeElement&&n.hasFocus(r.fromDom(t.iframeElement));var t},h=function(e){e.editorManager.setActive(e)};return{focus:function(e,t){var n,r,o,a,s,c,f,m;e.removed||(t?h(e):(s=(n=e).selection,c=n.settings.content_editable,f=n.getBody(),m=s.getRng(),n.quirks.refreshContentEditable(),o=n,a=s.getNode(),r=o.dom.getParent(a,function(e){return"true"===o.dom.getContentEditable(e)}),n.$.contains(f,r)?(d(r),u(n,m),h(n)):(void 0!==n.bookmark&&!1===p(n)&&l.getRng(n).each(function(e){n.selection.setRng(e),m=e}),c||(i.opera||d(f),n.getWin().focus()),(i.gecko||c)&&(d(f),u(n,m)),h(n))))},hasFocus:p}}),r("2o",["1","2n","31","1v","3g","3h"],function(e,t,n,r,i,o){var a=function(e,t){return t.dom()[e]},s=function(e,t){return parseInt(i.get(t,e),10)},l=e.curry(a,"clientWidth"),c=e.curry(a,"clientHeight"),u=e.curry(s,"margin-top"),d=e.curry(s,"margin-left");return{isXYInContentArea:function(e,t,n){var i,a,s,f,p,h,m,g,v,b,y=r.fromDom(e.getBody()),w=e.inline?y:o.documentElement(y),x=(i=e.inline,s=t,f=n,p=(a=w).dom().getBoundingClientRect(),{x:s-(i?p.left+a.dom().clientLeft+d(a):0),y:f-(i?p.top+a.dom().clientTop+u(a):0)});return m=x.x,g=x.y,v=l(h=w),b=c(h),m>=0&&g>=0&&m<=v&&g<=b},isEditorAttachedToDom:function(e){var i,a=e.inline?e.getBody():e.getContentAreaContainer();return(i=a,t.from(i).map(r.fromDom)).map(function(e){return n.contains(o.owner(e),e)}).getOr(!1)}}}),r("2p",[],function(){return function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}}),r("g",["1i","2n","2o","2p","15"],function(e,t,n,r,i){return function(o){var a,s=[],l=function(){var e=o.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():r()},c=function(){s.length>0&&l().reposition(s)},u=function(t){e.findIndex(s,function(e){return e===t}).each(function(e){s.splice(e,1)})},d=function(t){if(!o.removed&&n.isEditorAttachedToDom(o))return e.find(s,function(e){return n=l().getArgs(e),r=t,!(n.type!==r.type||n.text!==r.text||n.progressBar||n.timeout||r.progressBar||r.timeout);var n,r}).getOrThunk(function(){o.editorManager.setActive(o);var e,n=l().open(t,function(){u(n),c()});return e=n,s.push(e),c(),n})};return(a=o).on("SkinLoaded",function(){var e=a.settings.service_message;e&&d({text:e,type:"warning",timeout:0,icon:""})}),a.on("ResizeEditor ResizeWindow",function(){i.requestAnimationFrame(c)}),a.on("remove",function(){e.each(s,function(e){l().close(e)})}),{open:d,close:function(){t.from(s[0]).each(function(e){l().close(e),u(e),c()})},getNotifications:function(){return s}}}}),r("2q",[],function(){return function(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}}),r("h",["1i","2n","20","2q"],function(e,t,n,r){return function(i){var o=[],a=function(){var e=i.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():r()},s=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},l=function(e){var t;o.push(e),t=e,i.fire("OpenWindow",{win:t})},c=function(t){e.findIndex(o,function(e){return e===t}).each(function(e){var n;o.splice(e,1),n=t,i.fire("CloseWindow",{win:n}),0===o.length&&i.focus()})},u=function(){return t.from(o[o.length-1])};return i.on("remove",function(){e.each(o.slice(0),function(e){a().close(e)})}),{windows:o,open:function(e,t){i.editorManager.setActive(i),n.store(i);var r=a().open(e,t,c);return l(r),r},alert:function(e,t,n){var r=a().alert(e,s(n||this,t),c);l(r)},confirm:function(e,t,n){var r=a().confirm(e,s(n||this,t),c);l(r)},close:function(){u().each(function(e){a().close(e),c(e)})},getParams:function(){return u().map(a().getParams).getOr(null)},setParams:function(e){u().each(function(t){a().setParams(t,e)})},getWindows:function(){return o}}}}),r("29",["2","6"],function(e,t){var n=t.PluginManager,r=function(e,t){var r=function(e,t){for(var r in n.urls)if(n.urls[r]+"/plugin"+t+".js"===e)return r;return null}(t,e.suffix);return r?"Failed to load plugin: "+r+" from url "+t:"Failed to load plugin url: "+t},i=function(e,t){e.notificationManager.open({type:"error",text:t})},o=function(e,t){e._skinLoaded?i(e,t):e.on("SkinLoaded",function(){i(e,t)})};return{pluginLoadError:function(e,t){o(e,r(e,t))},uploadError:function(e,t){o(e,"Failed to upload image: "+t)},displayError:o,initError:function(t){var n=e.console;n&&!e.test&&(n.error?n.error.apply(n,arguments):n.log.apply(n,arguments))}}}),r("4k",["6"],function(e){return e.PluginManager}),r("4l",["6"],function(e){return e.ThemeManager}),r("39",["3c"],function(e){return function(){return new(e.getOrDie("XMLHttpRequest"))}}),r("6r",["39","2","3q","1d","1e"],function(e,t,n,r,i){return function(n,o){var a={},s=function(n,r,i,a){var s,l;(s=new e).open("POST",o.url),s.withCredentials=o.credentials,s.upload.onprogress=function(e){a(e.loaded/e.total*100)},s.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){var e,t,n;return s.status<200||s.status>=300?void i("HTTP Error: "+s.status):(e=JSON.parse(s.responseText))&&"string"==typeof e.location?void r((t=o.basePath,n=e.location,t?t.replace(/\/$/,"")+"/"+n.replace(/^\//,""):n)):void i("Invalid JSON: "+s.responseText)},(l=new t.FormData).append("file",n.blob(),n.filename()),s.send(l)},l=function(e,t){return{url:t,blobInfo:e,status:!0}},c=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},u=function(e,t){i.each(a[e],function(e){e(t)}),delete a[e]},d=function(e,t){return e=i.grep(e,function(e){return!n.isUploaded(e.blobUri())}),r.all(i.map(e,function(e){return n.isPending(e.blobUri())?(f=e.blobUri(),new r(function(e){a[f]=a[f]||[],a[f].push(e)})):(i=e,s=o.handler,d=t,n.markPending(i.blobUri()),new r(function(e){var t;try{var r=function(){t&&t.close()};s(i,function(t){r(),n.markUploaded(i.blobUri(),t),u(i.blobUri(),l(i,t)),e(l(i,t))},function(t){r(),n.removeFailed(i.blobUri()),u(i.blobUri(),c(i,t)),e(c(i,t))},function(e){e<0||e>100||(t||(t=d()),t.progressBar.value(e))})}catch(t){e(c(i,t.message))}}));var i,s,d,f}))};return o=i.extend({credentials:!1,handler:s},o),{upload:function(e,t){return o.url||o.handler!==s?d(e,t):new r(function(e){e([])})}}}}),r("7d",["3c"],function(e){return function(t,n){return new(e.getOrDie("Blob"))(t,n)}}),r("7e",["3c"],function(e){return function(){return new(e.getOrDie("FileReader"))}}),r("7f",["3c"],function(e){return function(t){return new(e.getOrDie("Uint8Array"))(t)}}),r("7g",["3c"],function(e){return{atob:function(t){return e.getOrDie("atob")(t)},requestAnimationFrame:function(t){e.getOrDie("requestAnimationFrame")(t)}}}),r("75",["7d","7e","7f","7g","39","1d"],function(e,t,n,r,i,o){var a=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}};return{uriToBlob:function(t){return 0===t.indexOf("blob:")?(l=t,new o(function(e,t){var n=function(){t("Cannot convert "+l+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new i;r.open("GET",l,!0),r.responseType="blob",r.onload=function(){200==this.status?e(this.response):n()},r.onerror=n,r.send()}catch(e){n()}})):0===t.indexOf("data:")?(s=t,new o(function(t){var i,o,l;s=a(s);try{i=r.atob(s.data)}catch(n){return void t(new e([]))}for(o=new n(i.length),l=0;l<o.length;l++)o[l]=i.charCodeAt(l);t(new e([o],{type:s.type}))})):null;var s,l},blobToDataUri:function(e){return new o(function(n){var r=new t;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)})},parseDataUri:a}}),r("6s",["1d","1r","3q","75","b"],function(e,t,n,r,i){var o=0,a=function(e){return(e||"blobid")+o++};return function(o,s){var l={};return{findAll:function(c,u){var d,f,p;return u||(u=n.constant(!0)),d=t.filter((p=c)?p.getElementsByTagName("img"):[],function(e){var t=e.src;return!!i.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t==i.transparentSrc)&&(0===t.indexOf("blob:")?!o.isUploaded(t):0===t.indexOf("data:")&&u(e))}),f=t.map(d,function(t){var n;return l[t.src]?new e(function(e){l[t.src].then(function(n){return"string"==typeof n?n:void e({image:t,blobInfo:n.blobInfo})})}):(n=new e(function(e,n){var i,o,l,c,u,d;i=s,l=e,c=n,0===(o=t).src.indexOf("blob:")?(d=i.getByUri(o.src))?l({image:o,blobInfo:d}):r.uriToBlob(o.src).then(function(e){r.blobToDataUri(e).then(function(t){u=r.parseDataUri(t).data,d=i.create(a(),e,u),i.add(d),l({image:o,blobInfo:d})})},function(e){c(e)}):(u=r.parseDataUri(o.src).data,(d=i.findFirst(function(e){return e.base64()===u}))?l({image:o,blobInfo:d}):r.uriToBlob(o.src).then(function(e){d=i.create(a(),e,u),i.add(d),l({image:o,blobInfo:d})},function(e){c(e)}))}).then(function(e){return delete l[e.image.src],e}).catch(function(e){return delete l[t.src],e}),l[t.src]=n,n)}),e.all(f)}}}}),r("27",[],function(){var e=0;return{uuid:function(t){return t+e+++(n=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+n()+n()+n());var n}}}),r("6t",["1k","1r","3q","27"],function(e,t,n,r){return function(){var i=[],o=n.constant,a=function(t){var n,i,a;if(!t.blob||!t.base64)throw"blob and base64 representations of the image are required for BlobInfo to be created";return n=t.id||r.uuid("blobid"),i=t.name||n,{id:o(n),name:o(i),filename:o(i+"."+(a=t.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[a.toLowerCase()]||"dat")),blob:o(t.blob),base64:o(t.base64),blobUri:o(t.blobUri||e.createObjectURL(t.blob)),uri:o(t.uri)}},s=function(e){return l(function(t){return t.id()===e})},l=function(e){return t.filter(i,e)[0]};return{create:function(e,t,n,r){return a("object"==typeof e?e:{id:e,name:r,blob:t,base64:n})},add:function(e){s(e.id())||i.push(e)},get:s,getByUri:function(e){return l(function(t){return t.blobUri()==e})},findFirst:l,removeByUri:function(n){i=t.filter(i,function(t){return t.blobUri()!==n||(e.revokeObjectURL(t.blobUri()),!1)})},destroy:function(){t.each(i,function(t){e.revokeObjectURL(t.blobUri())}),i=[]}}}}),r("6u",[],function(){return function(){var e={},t=function(e,t){return{status:e,resultUri:t}},n=function(t){return t in e};return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,r){e[n]=t(2,r)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}}}),r("6i",["1r","6r","6s","6t","6u","29"],function(e,t,n,r,i,o){return function(a){var s,l,c=new r,u=a.settings,d=new i,f=function(e){return function(t){return a.selection?e(t):[]}},p=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},h=function(e,t,n){return e=p(e,'src="'+t+'"','src="'+n+'"'),p(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},m=function(t,n){e.each(a.undoManager.data,function(r){"fragmented"===r.type?r.fragments=e.map(r.fragments,function(e){return h(e,t,n)}):r.content=h(r.content,t,n)})},g=function(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},v=function(e,t){c.removeByUri(e.src),m(e.src,t),a.$(e).attr({src:u.images_reuse_filename?t+"?"+(new Date).getTime():t,"data-mce-src":a.convertURL(t,"src")})},b=function(n){return s||(s=new t(d,{url:u.images_upload_url,basePath:u.images_upload_base_path,credentials:u.images_upload_credentials,handler:u.images_upload_handler})),x().then(f(function(t){var r;return r=e.map(t,function(e){return e.blobInfo}),s.upload(r,g).then(f(function(r){var i=e.map(r,function(e,n){var r=t[n].image;return e.status&&!1!==a.settings.images_replace_blob_uris?v(r,e.url):e.error&&o.uploadError(a,e.error),{element:r,status:e.status}});return n&&n(i),i}))}))},y=function(e){if(!1!==u.automatic_uploads)return b(e)},w=function(e){return!u.images_dataimg_filter||u.images_dataimg_filter(e)},x=function(){return l||(l=new n(d,c)),l.findAll(a.getBody(),w).then(f(function(t){return t=e.filter(t,function(e){return"string"!=typeof e||(o.displayError(a,e),!1)}),e.each(t,function(e){m(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},C=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var r=d.getResultUri(n);if(r)return'src="'+r+'"';var i=c.getByUri(n);return i||(i=e.reduce(a.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':t})};return a.on("setContent",function(){!1!==a.settings.automatic_uploads?y():x()}),a.on("RawSaveContent",function(e){e.content=C(e.content)}),a.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=C(e.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(t){e.each(t,function(e){var t=e.attr("src");if(!c.getByUri(t)){var n=d.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:c,uploadImages:b,uploadImagesAuto:y,scanForImages:x,destroy:function(){c.destroy(),d.destroy(),l=s=null}}}}),r("6j",["1i","1","1v","2r","1y","5s","24"],function(e,t,n,r,i,o,a){var s=function(e,t){return e.hasOwnProperty(t.nodeName)},l=function(t){var l,c,u,d,f,p,h,m,g,v,b,y,w,x,C,$,S=t.settings,k=t.dom,T=t.selection,_=t.schema,E=_.getBlockElements(),D=T.getStart(),A=t.getBody();if(b=S.forced_root_block,D&&i.isElement(D)&&b&&(v=A.nodeName.toLowerCase(),_.isValidChild(v,b.toLowerCase())&&(x=E,C=A,$=D,!e.exists(o.parents(n.fromDom($),n.fromDom(C)),function(e){return s(x,e.dom())})))){for(c=(l=T.getRng()).startContainer,u=l.startOffset,d=l.endContainer,f=l.endOffset,g=a.hasFocus(t),D=A.firstChild;D;)if(y=E,w=D,i.isText(w)||i.isElement(w)&&!s(y,w)&&!r.isBookmarkNode(w)){if(i.isText(D)&&0===D.nodeValue.length){h=D,D=D.nextSibling,k.remove(h);continue}p||(p=k.create(b,t.settings.forced_root_block_attrs),D.parentNode.insertBefore(p,D),m=!0),h=D,D=D.nextSibling,p.appendChild(h)}else p=null,D=D.nextSibling;m&&g&&(l.setStart(c,u),l.setEnd(d,f),T.setRng(l),t.nodeChanged())}};return{setup:function(e){e.settings.forced_root_block&&e.on("NodeChange",t.curry(l,e))}}}),r("6k",["b","2u","15"],function(e,t,n){return function(r){var i,o=[];"onselectionchange"in r.getDoc()||r.on("NodeChange Click MouseUp KeyUp Focus",function(e){var n,o;o={startContainer:(n=r.selection.getRng()).startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=e.type&&t.isEq(o,i)||r.fire("SelectionChange"),i=o}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var t=r.selection.getStart(!0);!t||!e.range&&r.selection.isCollapsed()||!function(e){var t,n;if((n=r.$(e).parentsUntil(r.getBody()).add(e)).length===o.length){for(t=n.length;t>=0&&n[t]===o[t];t--);if(-1===t)return o=n,!0}return o=n,!1}(t)&&r.dom.isChildOf(t,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==r.selection.getNode().nodeName?n.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())}),this.nodeChanged=function(e){var t,n,i,o=r.selection;r.initialized&&o&&!r.settings.disable_nodechange&&!r.readonly&&(i=r.getBody(),(t=o.getStart(!0)||i).ownerDocument==r.getDoc()&&r.dom.isChildOf(t,i)||(t=i),n=[],r.dom.getParent(t,function(e){return e===i||void n.push(e)}),(e=e||{}).element=t,e.parents=n,r.fire("NodeChange",e))}}}),r("76",[],function(){var e=function(e){var t,n,r,i;return i=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,r=t.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}};return{calc:function(t,n){return r=(l=t).inline?e(l.getBody()):{left:0,top:0},s=(a=t).getBody(),i=a.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:0,top:0},{pageX:(o=function(t,n){if(n.target.ownerDocument!==t.getDoc()){var r=e(t.getContentAreaContainer()),i=(a=(o=t).getBody(),s=o.getDoc().documentElement,l={left:a.scrollLeft,top:a.scrollTop},c={left:a.scrollLeft||s.scrollLeft,top:a.scrollTop||s.scrollTop},o.inline?l:c);return{left:n.pageX-r.left+i.left,top:n.pageY-r.top+i.top}}var o,a,s,l,c;return{left:n.pageX,top:n.pageY}}(t,n)).left-r.left+i.left,pageY:o.top-r.top+i.top};var r,i,o,a,s,l}}}),r("6v",["1j","m","76","1y","1r","15","3q"],function(e,t,n,r,i,o,a){var s=r.isContentEditableFalse,l=r.isContentEditableTrue,c=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},u=function(e,t){return function(n){if(0===n.button){var r=i.find(t.dom.getParents(n.target),a.or(s,l));if(d=t.getBody(),s(f=r)&&f!==d){var o=t.dom.getPos(r),c=t.getBody(),u=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?c.scrollWidth:u.offsetWidth)-2,e.maxY=(t.inline?c.scrollHeight:u.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=function(e,t,n,r){var i=t.cloneNode(!0);e.dom.setStyles(i,{width:n,height:r}),e.dom.setAttrib(i,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o}(t,r,e.width,e.height)}}var d,f}},d=function(e,t){return function(n){if(e.dragging&&(l=t,p=t.selection,h=p.getSel().getRangeAt(0).startContainer,u=3===h.nodeType?h.parentNode:h,d=e.element,u!==d&&!l.dom.isChildOf(u,d)&&!s(u))){var r=(o=e.element,(a=o.cloneNode(!0)).removeAttribute("data-mce-selected"),a),i=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||(r=i.targetClone,t.undoManager.transact(function(){c(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}var o,a,l,u,d,p,h;f(e)}},f=function(e){e.dragging=!1,e.element=null,c(e.ghost)},p=function(r){var i,a,s,l,c,p,h,m,g,v,b,y={};i=t.DOM,p=e,a=u(y,r),g=y,v=r,b=o.throttle(function(e,t){v._selectionOverrides.hideFakeCaret(),v.selection.placeCaretAt(e,t)},0),s=function(e){var t,r,i,o,a,s,l,c,u,d,f,p,h=Math.max(Math.abs(e.screenX-g.screenX),Math.abs(e.screenY-g.screenY));if(g.element&&!g.dragging&&h>10){if(v.fire("dragstart",{target:g.element}).isDefaultPrevented())return;g.dragging=!0,v.focus()}if(g.dragging){var m=(f=g,{pageX:(p=n.calc(v,e)).pageX-f.relX,pageY:p.pageY+5});u=g.ghost,d=v.getBody(),u.parentNode!==d&&d.appendChild(u),t=g.ghost,r=m,i=g.width,o=g.height,a=g.maxX,s=g.maxY,l=0,c=0,t.style.left=r.pageX+"px",t.style.top=r.pageY+"px",r.pageX+i>a&&(l=r.pageX+i-a),r.pageY+o>s&&(c=r.pageY+o-s),t.style.width=i-l+"px",t.style.height=o-c+"px",b(e.clientX,e.clientY)}},l=d(y,r),h=y,m=r,c=function(){f(h),h.dragging&&m.fire("dragend")},r.on("mousedown",a),r.on("mousemove",s),r.on("mouseup",l),i.bind(p,"mousemove",s),i.bind(p,"mouseup",c),r.on("remove",function(){i.unbind(p,"mousemove",s),i.unbind(p,"mouseup",c)})};return{init:function(e){var t;p(e),(t=e).on("drop",function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(s(n)||s(t.dom.getContentEditableParent(n)))&&e.preventDefault()})}}}),r("6w",["1n","46","6g","n","1y","3o","15"],function(e,t,n,r,i,o,a){var s=i.isContentEditableFalse;return function(i,l){var c,u,d=null,f=function(){(function(){var e,n,o,a,s;for(e=r("*[contentEditable=false]",i),a=0;a<e.length;a++)o=(n=e[a]).previousSibling,t.endsWithCaretContainer(o)&&(1==(s=o.data).length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),o=n.nextSibling,t.startsWithCaretContainer(o)&&(1==(s=o.data).length?o.parentNode.removeChild(o):o.deleteData(0,1))})(),u&&(n.remove(u),u=null),d&&(d.remove(),d=null),e(c)},p=function(){c=a.setInterval(function(){i.ownerDocument.activeElement===i?r("div.mce-visual-caret",i).toggleClass("mce-visual-caret-hidden"):r("div.mce-visual-caret",i).addClass("mce-visual-caret-hidden")},500)};return{show:function(e,n){var a,c,h,m,g,v,b,y,w,x,C;return f(),(C=n)&&/^(TD|TH)$/i.test(C.nodeName)?null:l(n)?(u=t.insertBlock("p",n,e),h=n,m=e,x=o.collapse(h.getBoundingClientRect(),m),"BODY"==i.tagName?(g=i.ownerDocument.documentElement,v=i.scrollLeft||g.scrollLeft,b=i.scrollTop||g.scrollTop):(w=i.getBoundingClientRect(),v=i.scrollLeft-w.left,b=i.scrollTop-w.top),x.left+=v,x.right+=v,x.top+=b,x.bottom+=b,x.width=1,(y=h.offsetWidth-h.clientWidth)>0&&(m&&(y*=-1),x.left+=y,x.right+=y),a=x,r(u).css("top",a.top),d=r('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(a).appendTo(i),e&&d.addClass("mce-visual-caret-before"),p(),(c=n.ownerDocument.createRange()).setStart(u,0),c.setEnd(u,0),c):(u=t.insertInline(n,e),c=n.ownerDocument.createRange(),s(u.nextSibling)?(c.setStart(u,0),c.setEnd(u,0)):(c.setStart(u,1),c.setEnd(u,1)),c)},hide:f,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){a.clearInterval(c)}}}}),r("77",["1r","1y","3o"],function(e,t,n){var r=function(i){var o=function(t){return e.map(t,function(e){return(e=n.clone(e)).node=i,e})};if(e.isArray(i))return e.reduce(i,function(e,t){return e.concat(r(t))},[]);if(t.isElement(i))return o(i.getClientRects());if(t.isText(i)){var a=i.ownerDocument.createRange();return a.setStart(i,0),a.setEnd(i,i.data.length),o(a.getClientRects())}};return{getClientRects:r}}),r("6x",["3q","1r","1y","77","3o","5b","3n"],function(e,t,n,r,i,o,a){var s=n.isContentEditableFalse,l=o.findNode,c=e.curry,u=function(e,t){return Math.abs(e.left-t)},d=function(e,t){return Math.abs(e.right-t)},f=function(e,n){var r=function(e,t){return e>=t.left&&e<=t.right};return t.reduce(e,function(e,t){var i,o;return i=Math.min(u(e,n),d(e,n)),o=Math.min(u(t,n),d(t,n)),r(n,t)?t:r(n,e)?e:o==i&&s(t.node)?t:o<i?t:e})},p=function(e,t,n,r){for(;r=l(r,e,a.isEditableCaretCandidate,t);)if(n(r))return},h=function(e,n){var o=[],a=function(e,i){var a;return a=t.filter(r.getClientRects(i),function(t){return!e(t,n)}),o=o.concat(a),0===a.length};return o.push(n),p(-1,e,c(a,i.isAbove),n.node),p(1,e,c(a,i.isBelow),n.node),o};return{findClosestClientRect:f,findLineNodeRects:h,closestCaret:function(e,n,i){var o,a,l,c,p;return o=r.getClientRects((p=e,t.filter(t.toArray(p.getElementsByTagName("*")),s))),o=t.filter(o,function(e){return i>=e.top&&i<=e.bottom}),(a=f(o,n))&&(a=f(h(e,a),n))&&s(a.node)?(c=n,{node:(l=a).node,before:u(l,c)<d(l,c)}):null}}}),r("30",["1i","3o"],function(e,t){return{isXYWithinRange:function(n,r,i){return!i.collapsed&&e.foldl(i.getClientRects(),function(e,i){return e||t.containsXY(i,n,r)},!1)}}}),r("5y",["1o","1q"],function(e,t){return{adaptable:function(n,r){var i=null,o=null;return{cancel:function(){null!==i&&(e(i),i=null,o=null)},throttle:function(){o=arguments,null===i&&(i=t(function(){n.apply(null,o),i=null,o=null},r))}}},first:function(n,r){var i=null;return{cancel:function(){null!==i&&(e(i),i=null)},throttle:function(){var e=arguments;null===i&&(i=t(function(){n.apply(null,e),i=null,e=null},r))}}},last:function(n,r){var i=null;return{cancel:function(){null!==i&&(e(i),i=null)},throttle:function(){var o=arguments;null!==i&&e(i),i=t(function(){n.apply(null,o),i=null,o=null},r)}}}}}),r("6z",["32","5b","1y","3q"],function(e,t,n,r){var i=n.isContentEditableTrue,o=n.isContentEditableFalse,a=function(e,t,n,r){return t._selectionOverrides.showCaret(e,n,r)},s=function(n,s){var l,c;return s=t.normalizeRange(1,n.getBody(),s),l=e.fromRangeStart(s),o(l.getNode())?a(1,n,l.getNode(),!l.isAtEnd()):o(l.getNode(!0))?a(1,n,l.getNode(!0),!1):(c=n.dom.getParent(l.getNode(),r.or(o,i)),o(c)?a(1,n,c,!1):null)};return{showCaret:a,selectNode:function(e,t){var n,r;return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((r=(n=t).ownerDocument.createRange()).selectNode(n),r)},renderCaretAtRange:s,renderRangeCaret:function(e,t){return t&&t.collapsed&&s(e,t)||t}}}),r("6y",["5y","6z"],function(e,t){return{setup:function(n){var r=e.first(function(){if(!n.removed){var e=t.renderRangeCaret(n,n.selection.getRng());n.selection.setRng(e)}},0);n.on("focus",function(){r.throttle()}),n.on("blur",function(){r.cancel()})}}}),r("1g",["b"],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}}),r("6l",["1i","47","1v","48","5f","62","6v","2o","b","46","32","5b","3r","6w","6x","1y","30","6y","6z","1g"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b,y){var w=m.isContentEditableTrue,x=m.isContentEditableFalse,C=d.isAfterContentEditableFalse,$=d.isBeforeContentEditableFalse;return function(m){var S,k,T,_=m.getBody(),E=new p(m.getBody(),function(e){return m.dom.isBlock(e)}),D="sel-"+m.dom.uniqueId(),A=function(e){e&&m.selection.setRng(e)},N=function(){return m.selection.getRng()},R=function(e,t){m.selection.scrollIntoView(e,t)},O=function(e,t,n){return m.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(R(t,-1===e),E.show(n,t))},P=function(e,t){return t=d.normalizeRange(e,_,t),-1==e?u.fromRangeStart(t):u.fromRangeEnd(t)},I=function(e){return c.isCaretContainer(e)||c.startsWithCaretContainer(e)||c.endsWithCaretContainer(e)},M=function(e){return I(e.startContainer)||I(e.endContainer)},L=function(t,a){var s,c,u,d,f,p,h,g,v,b,y=m.$,w=m.dom;if(!t)return null;if(t.collapsed){if(!M(t))if(!1===a){if(g=P(-1,t),x(g.getNode(!0)))return O(-1,g.getNode(!0),!1);if(x(g.getNode()))return O(-1,g.getNode(),!g.isAtEnd())}else{if(g=P(1,t),x(g.getNode()))return O(1,g.getNode(),!g.isAtEnd());if(x(g.getNode(!0)))return O(1,g.getNode(!0),!1)}return null}return d=t.startContainer,f=t.startOffset,p=t.endOffset,3===d.nodeType&&0===f&&x(d.parentNode)&&(d=d.parentNode,f=w.nodeIndex(d),d=d.parentNode),1!=d.nodeType?null:(p==f+1&&(s=d.childNodes[f]),x(s)?(v=b=s.cloneNode(!0),(h=m.fire("ObjectSelected",{target:s,targetClone:v})).isDefaultPrevented()?null:(c=o.descendant(n.fromDom(m.getBody()),"#"+D).fold(function(){return y([])},function(e){return y([e.dom()])}),v=h.targetClone,0===c.length&&(c=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",D)).appendTo(m.getBody()),t=m.dom.createRng(),v===b&&l.ie?(c.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(v),t.setStartAfter(c[0].firstChild.firstChild),t.setEndAfter(v)):(c.empty().append("").append(v).append(""),t.setStart(c[0].firstChild,1),t.setEnd(c[0].lastChild,0)),c.css({top:w.getPos(s,m.getBody()).y}),c[0].focus(),(u=m.selection.getSel()).removeAllRanges(),u.addRange(t),e.each(i.descendants(n.fromDom(m.getBody()),"*[data-mce-selected]"),function(e){r.remove(e,"data-mce-selected")}),s.setAttribute("data-mce-selected",1),S=s,F(),t)):null)},B=function(){S&&(S.removeAttribute("data-mce-selected"),o.descendant(n.fromDom(m.getBody()),"#"+D).each(t.remove),S=null)},F=function(){E.hide()};return l.ceFalse&&(function(){var e=function(e){for(var t=m.getBody();e&&e!=t;){if(w(e)||x(e))return e;e=e.parentNode}return null};m.on("mouseup",function(e){var t=N();t.collapsed&&s.isXYInContentArea(m,e.clientX,e.clientY)&&A(b.renderCaretAtRange(m,t))}),m.on("click",function(t){var n;(n=e(t.target))&&(x(n)&&(t.preventDefault(),m.focus()),w(n)&&m.dom.isChildOf(n,m.selection.getNode())&&B())}),m.on("blur NewBlock",function(){B()});var t,n,r=function(e,t){var n,r,i=m.dom.getParent(e,m.dom.isBlock),o=m.dom.getParent(t,m.dom.isBlock);return i&&(n=i,r=o,!(m.dom.getParent(n,m.dom.isBlock)===m.dom.getParent(r,m.dom.isBlock)))&&function(e){var t=new f(e);if(!e.firstChild)return!1;var n=u.before(e.firstChild),r=t.next(n);return r&&!$(r)&&!C(r)}(i)};n=!1,(t=m).on("touchstart",function(){n=!1}),t.on("touchmove",function(){n=!0}),t.on("touchend",function(r){var i=e(r.target);x(i)&&(n||(r.preventDefault(),L(b.selectNode(t,i))))}),m.on("mousedown",function(t){var n;if(!1!==s.isXYInContentArea(m,t.clientX,t.clientY))if(n=e(t.target))x(n)?(t.preventDefault(),L(b.selectNode(m,n))):(B(),w(n)&&t.shiftKey||g.isXYWithinRange(t.clientX,t.clientY,m.selection.getRng())||m.selection.placeCaretAt(t.clientX,t.clientY));else{B(),F();var i=h.closestCaret(_,t.clientX,t.clientY);i&&(r(t.target,i.node)||(t.preventDefault(),m.getBody().focus(),A(O(1,i.node,i.before))))}}),m.on("keypress",function(e){y.modifierPressed(e)||(e.keyCode,x(m.selection.getNode())&&e.preventDefault())}),m.on("getSelectionRange",function(e){var t=e.range;if(S){if(!S.parentNode)return void(S=null);(t=t.cloneRange()).selectNode(S),e.range=t}}),m.on("setSelectionRange",function(e){var t;(t=L(e.range,e.forward))&&(e.range=t)}),m.on("AfterSetSelectionRange",function(e){var t,n=e.range;M(n)||F(),t=n.startContainer.parentNode,m.dom.hasClass(t,"mce-offscreen-selection")||B()}),m.on("copy",function(e){var t,n=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!l.ie){var r=(t=m.dom.get(D))?t.getElementsByTagName("*")[0]:t;r&&(e.preventDefault(),n.clearData(),n.setData("text/html",r.outerHTML),n.setData("text/plain",r.outerText))}}),a.init(m),v.setup(m)}(),k=m.contentStyles,T=".mce-content-body",k.push(E.getCss()),k.push(T+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+T+" *[contentEditable=false] {cursor: default;}"+T+" *[contentEditable=true] {cursor: text;}")),{showCaret:O,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(c.showCaretContainerBlock(e),A(N()),R(e[0]))},hideFakeCaret:F,destroy:function(){E.destroy(),S=null}}}}),r("5z",[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(e,t){var n=e.length+t.length+2,r=new Array(n),i=new Array(n),o=function(n,r,i,a,l){var c=s(n,r,i,a);if(null===c||c.start===r&&c.diag===r-a||c.end===n&&c.diag===n-i)for(var u=n,d=i;u<r||d<a;)u<r&&d<a&&e[u]===t[d]?(l.push([0,e[u]]),++u,++d):r-n>a-i?(l.push([2,e[u]]),++u):(l.push([1,t[d]]),++d);else{o(n,c.start,i,c.start-c.diag,l);for(var f=c.start;f<c.end;++f)l.push([0,e[f]]);o(c.end,r,c.end-c.diag,a,l)}},a=function(n,r,i,o){for(var a=n;a-r<o&&a<i&&e[a]===t[a-r];)++a;return{start:n,end:a,diag:r}},s=function(n,o,s,l){var c=o-n,u=l-s;if(0===c||0===u)return null;var d=c-u,f=u+c,p=(f%2==0?f:f+1)/2;r[1+p]=n,i[1+p]=o+1;for(var h=0;h<=p;++h){for(var m=-h;m<=h;m+=2){var g=m+p;m===-h||m!=h&&r[g-1]<r[g+1]?r[g]=r[g+1]:r[g]=r[g-1]+1;for(var v=r[g],b=v-n+s-m;v<o&&b<l&&e[v]===t[b];)r[g]=++v,++b;if(d%2!=0&&d-h<=m&&m<=d+h&&i[g-d]<=r[g])return a(i[g-d],m+n-s,o,l)}for(m=d-h;m<=d+h;m+=2){for(g=m+p-d,m===d-h||m!=d+h&&i[g+1]<=i[g-1]?i[g]=i[g+1]-1:i[g]=i[g-1],b=(v=i[g]-1)-n+s-m;v>=n&&b>=s&&e[v]===t[b];)i[g]=v--,b--;if(d%2==0&&-h<=m&&m<=h&&i[g]<=r[g+d])return a(i[g],m+n-s,o,l)}}},l=[];return o(0,e.length,0,t.length,l),l}}}),r("4o",["1j","v","5z","1r"],function(e,t,n,r){var i=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""},o=function(t,n,r){var i=function(t){var n,r,i;for(i=e.createElement("div"),n=e.createDocumentFragment(),t&&(i.innerHTML=t);r=i.firstChild;)n.appendChild(r);return n}(n);if(t.hasChildNodes()&&r<t.childNodes.length){var o=t.childNodes[r];o.parentNode.insertBefore(i,o)}else t.appendChild(i)};return{read:function(e){return r.filter(r.map(e.childNodes,i),function(e){return e.length>0})},write:function(e,t){var a,s,l,c=r.map(t.childNodes,i);return a=n.diff(c,e),s=t,l=0,r.each(a,function(e){e[0]===n.KEEP?l++:e[0]===n.INSERT?(o(s,e[1],l),l++):e[0]===n.DELETE&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(s,l)}),t}}}),r("2c",["1i","23","4o"],function(e,t,n){var r=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},i=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},o=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content};return{createFragmentedLevel:r,createCompleteLevel:i,createFromEditor:function(o){var a,s,l;return a=n.read(o.getBody()),s=(l=e.bind(a,function(e){var n=t.trimInternal(o.serializer,e);return n.length>0?[n]:[]})).join(""),-1!==s.indexOf("</iframe>")?r(l):i(s)},applyToEditor:function(e,t,r){"fragmented"===t.type?n.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(r?t.beforeBookmark:t.bookmark)},isEq:function(e,t){return!!e&&!!t&&o(e)===o(t)}}}),r("d",["2b","2c","1e"],function(e,t,n){return function(r){var i,o,a=this,s=0,l=[],c=0,u=function(){return 0===c},d=function(e){u()&&(a.typing=e)},f=function(e){r.setDirty(e)},p=function(e){d(!1),a.add({},e)},h=function(){a.typing&&(d(!1),a.add())};return r.on("init",function(){a.add()}),r.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(h(),a.beforeChange())}),r.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&p(e)}),r.on("ObjectResizeStart Cut",function(){a.beforeChange()}),r.on("SaveContent ObjectResized blur",p),r.on("DragEnd",p),r.on("KeyUp",function(e){var n=e.keyCode;e.isDefaultPrevented()||((n>=33&&n<=36||n>=37&&n<=40||45===n||e.ctrlKey)&&(p(),r.nodeChanged()),46!==n&&8!==n||r.nodeChanged(),o&&a.typing&&!1===t.isEq(t.createFromEditor(r),l[0])&&(!1===r.isDirty()&&(f(!0),r.fire("change",{level:l[0],lastLevel:null})),r.fire("TypingUndo"),o=!1,r.nodeChanged()))}),r.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(a.typing&&p(e));var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||a.typing||n||(a.beforeChange(),d(!0),a.add({},e),o=!0)}}),r.on("MouseDown",function(e){a.typing&&p(e)}),r.addShortcut("meta+z","","Undo"),r.addShortcut("meta+y,meta+shift+z","","Redo"),r.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||r.nodeChanged()}),a={data:l,typing:!1,beforeChange:function(){u()&&(i=e.getUndoBookmark(r.selection))},add:function(o,a){var c,d,p,h=r.settings;if(p=t.createFromEditor(r),o=o||{},o=n.extend(o,p),!1===u()||r.removed)return null;if(d=l[s],r.fire("BeforeAddUndo",{level:o,lastLevel:d,originalEvent:a}).isDefaultPrevented())return null;if(d&&t.isEq(d,o))return null;if(l[s]&&(l[s].beforeBookmark=i),h.custom_undo_redo_levels&&l.length>h.custom_undo_redo_levels){for(c=0;c<l.length-1;c++)l[c]=l[c+1];l.length--,s=l.length}o.bookmark=e.getUndoBookmark(r.selection),s<l.length-1&&(l.length=s+1),l.push(o),s=l.length-1;var m={level:o,lastLevel:d,originalEvent:a};return r.fire("AddUndo",m),s>0&&(f(!0),r.fire("change",m)),o},undo:function(){var e;return a.typing&&(a.add(),a.typing=!1,d(!1)),s>0&&(e=l[--s],t.applyToEditor(r,e,!0),f(!0),r.fire("undo",{level:e})),e},redo:function(){var e;return s<l.length-1&&(e=l[++s],t.applyToEditor(r,e,!1),f(!0),r.fire("redo",{level:e})),e},clear:function(){l=[],s=0,a.typing=!1,a.data=l,r.fire("ClearUndos")},hasUndo:function(){return s>0||a.typing&&l[0]&&!t.isEq(t.createFromEditor(r),l[0])},hasRedo:function(){return s<l.length-1&&!a.typing},transact:function(e){return h(),a.beforeChange(),a.ignore(e),a.add()},ignore:function(e){try{c++,e()}finally{c--}},extra:function(e,n){var i,o;a.transact(e)&&(o=l[s].bookmark,i=l[s-1],t.applyToEditor(r,i,!0),a.transact(n)&&(l[s-1].beforeBookmark=o))}}}}),r("4q",["1r","1y","n"],function(e,t,n){var r,i,o={},a=e.filter,s=e.each;return i=function(r){var i,o,l=r.selection.getRng();i=t.matchNodeNames("pre"),l.collapsed||(o=r.selection.getSelectedBlocks(),s(a(a(o,i),function(t){return i(t.previousSibling)&&-1!==e.indexOf(o,t.previousSibling)}),function(e){var t,r;t=e.previousSibling,n(r=e).remove(),n(t).append("<br><br>").append(r.childNodes)}))},o[r="pre"]||(o[r]=[]),o[r].push(i),{postProcess:function(e,t){s(o[e],function(e){e(t)})}}}),r("2w",["1e"],function(e){var t=e.each;return{walk:function(e,n,r){var i,o,a,s,l,c,u,d=n.startContainer,f=n.startOffset,p=n.endContainer,h=n.endOffset;if((u=e.select("td[data-mce-selected],th[data-mce-selected]")).length>0)t(u,function(e){r([e])});else{var m,g,v,b=function(e){var t;return 3===(t=e[0]).nodeType&&t===d&&f>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===h&&e.length>0&&t===p&&3===t.nodeType&&e.splice(e.length-1,1),e},y=function(e,t,n){for(var r=[];e&&e!=n;e=e[t])r.push(e);return r},w=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},x=function(e,t,n){var i=n?"nextSibling":"previousSibling";for(l=(s=e).parentNode;s&&s!=t;s=l)l=s.parentNode,(c=y(s===e?s:s[i],i)).length&&(n||c.reverse(),r(b(c)))};if(1===d.nodeType&&d.hasChildNodes()&&(d=d.childNodes[f]),1===p.nodeType&&p.hasChildNodes()&&(g=h,v=(m=p).childNodes,--g>v.length-1?g=v.length-1:g<0&&(g=0),p=v[g]||m),d===p)return r(b([d]));for(i=e.findCommonAncestor(d,p),s=d;s;s=s.parentNode){if(s===p)return x(d,i,!0);if(s===i)break}for(s=p;s;s=s.parentNode){if(s===d)return x(p,i);if(s===i)break}o=w(d,i)||d,a=w(p,i)||p,x(d,o,!0),(c=y(o===d?o:o.nextSibling,"nextSibling",a===p?a.nextSibling:a)).length&&r(b(c)),x(p,a)}}}}),r("2k",["2r","1y","s","2f","49","4a","2i","2w","1e"],function(e,t,n,r,i,o,a,s,l){var c=/^(src|href|style)$/,u=l.each,d=o.isEq,f=function(e){return/^(TH|TD)$/.test(e.nodeName)},p=function(e,r,i){var o,a,s;return o=r[i?"startContainer":"endContainer"],a=r[i?"startOffset":"endOffset"],t.isElement(o)&&(s=o.childNodes.length-1,!i&&a&&a--,o=o.childNodes[a>s?s:a]),t.isText(o)&&i&&a>=o.nodeValue.length&&(o=new n(o,e.getBody()).next()||o),t.isText(o)&&!i&&0===a&&(o=new n(o,e.getBody()).prev()||o),o},h=function(e,t,n,r){var i=e.create(n,r);return t.parentNode.insertBefore(i,t),i.appendChild(t),i},m=function(e,t,n,r){return!(t=o.getNonWhiteSpaceSibling(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},g=function(e,n,r,i,a){var s,f,p,g,v,b,y,w,x,C,$,S,k,T,_,E=e.dom;if(!(b=E,y=i,w=n,d(y,w.inline)||d(y,w.block)||(w.selector?t.isElement(y)&&b.is(y,w.selector):void 0)||(g=i,v=n,v.links&&"A"===g.tagName)))return!1;if("all"!==n.remove)for(u(n.styles,function(e,t){e=o.normalizeStyleValue(E,o.replaceVars(e,r),t),"number"==typeof t&&(t=e,a=0),(n.remove_similar||!a||d(o.getStyle(E,a,t),e))&&E.setStyle(i,t,""),p=1}),p&&""===E.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),u(n.attributes,function(e,t){var n;if(e=o.replaceVars(e,r),"number"==typeof t&&(t=e,a=0),!a||d(E.getAttrib(a,t),e)){if("class"===t&&((e=E.getAttrib(i,t))&&(n="",u(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n)))return void E.setAttrib(i,t,n);"class"===t&&i.removeAttribute("className"),c.test(t)&&i.removeAttribute("data-mce-"+t),i.removeAttribute(t)}}),u(n.classes,function(e){e=o.replaceVars(e,r),a&&!E.hasClass(a,e)||E.removeClass(i,e)}),f=E.getAttribs(i),s=0;s<f.length;s++){var D=f[s].nodeName;if(0!==D.indexOf("_")&&0!==D.indexOf("data-"))return!1}return"none"!==n.remove?(x=e,$=n,k=(C=i).parentNode,T=x.dom,_=x.settings.forced_root_block,$.block&&(_?k===T.getRoot()&&($.list_block&&d(C,$.list_block)||u(l.grep(C.childNodes),function(e){o.isValid(x,_,e.nodeName.toLowerCase())?S?S.appendChild(e):(S=h(T,e,_),T.setAttribs(S,x.settings.forced_root_block_attrs)):S=0})):T.isBlock(C)&&!T.isBlock(k)&&(m(T,C,!1)||m(T,C.firstChild,!0,1)||C.insertBefore(T.create("br"),C.firstChild),m(T,C,!0)||m(T,C.lastChild,!1,1)||C.appendChild(T.create("br")))),$.selector&&$.inline&&!d($.inline,C)||T.remove(C,1),!0):void 0};return{removeFormat:g,remove:function(n,c,d,m,v){var b,y,w=n.formatter.get(c),x=w[0],C=!0,$=n.dom,S=n.selection,k=function(e){var t,r,i,s,l,f,p=(t=n,r=e,i=c,s=d,l=v,u(o.getParents(t.dom,r.parentNode).reverse(),function(e){var n;f||"_start"===e.id||"_end"===e.id||(n=a.matchNode(t,e,i,s,l))&&!1!==n.split&&(f=e)}),f);return function(e,t,n,r,i,o,a,s){var l,c,u,d,f,p,h=e.dom;if(n){for(p=n.parentNode,l=r.parentNode;l&&l!==p;l=l.parentNode){for(c=h.clone(l,!1),f=0;f<t.length;f++)if(g(e,t[f],s,c,c)){c=0;break}c&&(u&&c.appendChild(u),d||(d=c),u=c)}!o||a.mixed&&h.isBlock(n)||(r=h.split(n,r)),u&&(i.parentNode.insertBefore(u,i),d.appendChild(i))}return r}(n,w,p,e,e,!0,x,d)},T=function(e){var r,i,o,a,s;if(t.isElement(e)&&$.getContentEditable(e)&&(a=C,C="true"===$.getContentEditable(e),s=!0),r=l.grep(e.childNodes),C&&!s)for(i=0,o=w.length;i<o&&!g(n,w[i],d,e,e);i++);if(x.deep&&r.length){for(i=0,o=r.length;i<o;i++)T(r[i]);s&&(C=a)}},_=function(n){var r=$.get(n?"_start":"_end"),i=r[n?"firstChild":"lastChild"];return e.isBookmarkNode(i)&&(i=i[n?"firstChild":"lastChild"]),t.isText(i)&&0===i.data.length&&(i=n?r.previousSibling||r.nextSibling:r.nextSibling||r.previousSibling),$.remove(r,!0),i},E=function(e){var r,a,l=e.commonAncestorContainer;if(e=i.expandRng(n,e,w,!0),x.split){if((r=p(n,e,!0))!==(a=p(n,e))){if(/^(TR|TH|TD)$/.test(r.nodeName)&&r.firstChild&&(r="TR"===r.nodeName?r.firstChild.firstChild||r:r.firstChild||r),l&&/^T(HEAD|BODY|FOOT|R)$/.test(l.nodeName)&&f(a)&&a.firstChild&&(a=a.firstChild||a),$.isChildOf(r,a)&&r!==a&&!$.isBlock(a)&&!f(r)&&!f(a))return r=h($,r,"span",{id:"_start","data-mce-type":"bookmark"}),k(r),void(r=_(!0));r=h($,r,"span",{id:"_start","data-mce-type":"bookmark"}),a=h($,a,"span",{id:"_end","data-mce-type":"bookmark"}),k(r),k(a),r=_(!0),a=_()}else r=a=k(r);e.startContainer=r.parentNode?r.parentNode:r,e.startOffset=$.nodeIndex(r),e.endContainer=a.parentNode?a.parentNode:a,e.endOffset=$.nodeIndex(a)+1}s.walk($,e,function(e){u(e,function(e){T(e),t.isElement(e)&&"underline"===n.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===o.getTextDecoration($,e.parentNode)&&g(n,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})};if(m)m.nodeType?((y=$.createRng()).setStartBefore(m),y.setEndAfter(m),E(y)):E(m);else if("false"!==$.getContentEditable(S.getNode()))S.isCollapsed()&&x.inline&&!$.select("td[data-mce-selected],th[data-mce-selected]").length?r.removeCaretFormat(n,c,d,v):(b=S.getBookmark(),E(S.getRng(!0)),S.moveToBookmark(b),x.inline&&a.match(n,c,d,S.getStart())&&o.moveStart($,S,S.getRng(!0)),n.nodeChanged());else{m=S.getNode();for(var D=0,A=w.length;D<A&&(!w[D].ceFalseOverride||!g(n,w[D],d,m,m));D++);}}}}),r("4r",["1","2r","3s","1y","2f","4a","2i","2k","1e"],function(e,t,n,r,i,o,a,s,l){var c=l.each,u=function(e){return e&&1===e.nodeType&&!t.isBookmarkNode(e)&&!i.isCaretNode(e)&&!r.isBogus(e)},d=function(e,n){var r;for(r=e;r;r=r[n]){if(3===r.nodeType&&0!==r.nodeValue.length)return e;if(1===r.nodeType&&!t.isBookmarkNode(r))return r}return e},f=function(e,t,r){var i,o,a=new n(e);if(t&&r&&(t=d(t,"previousSibling"),r=d(r,"nextSibling"),a.compare(t,r))){for(i=t.nextSibling;i&&i!==r;)o=i,i=i.nextSibling,t.appendChild(o);return e.remove(r),l.each(l.grep(r.childNodes),function(e){t.appendChild(e)}),t}return r},p=function(e,t,n){c(e.childNodes,function(e){u(e)&&(t(e)&&n(e),e.hasChildNodes()&&p(e,t,n))})},h=function(t,n){return e.curry(function(e,n){return!(!n||!o.getStyle(t,n,e))},n)},m=function(t,n,r){return e.curry(function(e,n,r){t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),g(t,r)},n,r)},g=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},v=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=o.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))};return{mergeWithChildren:function(e,t,n,r){c(t,function(t){c(e.dom.select(t.inline,r),function(r){u(r)&&s.removeFormat(e,t,n,r,t.exact?r:null)}),function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";c(e.select(r,n),function(n){u(n)&&c(t.styles,function(t,r){e.setStyle(n,r,"")})})}}(e.dom,t,r)})},mergeUnderlineAndColor:function(t,n,r,i){(n.styles.color||n.styles.textDecoration)&&(l.walk(i,e.curry(v,t),"childNodes"),v(t,i))},mergeBackgroundColorAndFontSize:function(e,t,n,r){t.styles&&t.styles.backgroundColor&&p(r,h(e,"fontSize"),m(e,"backgroundColor",o.replaceVars(t.styles.backgroundColor,n)))},mergeSubSup:function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(p(r,h(e,"fontSize"),m(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},mergeSiblings:function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=f(e,o.getNonWhiteSpaceSibling(r),r),r=f(e,r,o.getNonWhiteSpaceSibling(r,!0)))},mergeWithParents:function(e,t,n,r,i){a.matchNode(e,i.parentNode,n,r)&&s.removeFormat(e,t,r,i)||t.merge_with_parents&&e.dom.getParent(i.parentNode,function(o){if(a.matchNode(e,o,n,r))return s.removeFormat(e,t,r,i),!0})}}}),r("2e",["2r","1y","2f","49","4a","4q","2i","4r","3u","2w","1e"],function(e,t,n,r,i,o,a,s,l,c,u){var d=u.each,f=function(p,h,m,g){var v,b,y=p.formatter.get(h),w=y[0],x=!g&&p.selection.isCollapsed(),C=p.dom,$=p.selection,S=function(e,t){if(t=t||w,e){if(t.onformat&&t.onformat(e,t,m,g),d(t.styles,function(t,n){C.setStyle(e,n,i.replaceVars(t,m))}),t.styles){var n=C.getAttrib(e,"style");n&&e.setAttribute("data-mce-style",n)}d(t.attributes,function(t,n){C.setAttrib(e,n,i.replaceVars(t,m))}),d(t.classes,function(t){t=i.replaceVars(t,m),C.hasClass(e,t)||C.addClass(e,t)})}},k=function(e,t){var r=!1;return!!w.selector&&(d(e,function(e){if(!("collapsed"in e&&e.collapsed!==x))return C.is(t,e.selector)&&!n.isCaretNode(t)?(S(t,e),r=!0,!1):void 0}),r)},T=function(r,o,l,f){var g,v,b=[],x=!0;g=w.inline||w.block,v=r.create(g),S(v),c.walk(r,o,function(e){var t,o=function(e){var s,l,c,C;if(C=x,s=e.nodeName.toLowerCase(),l=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&r.getContentEditable(e)&&(C=x,x="true"===r.getContentEditable(e),c=!0),i.isEq(s,"br"))return t=0,void(w.block&&r.remove(e));if(w.wrapper&&a.matchNode(p,e,h,m))t=0;else{if(x&&!c&&w.block&&!w.wrapper&&i.isTextBlock(p,s)&&i.isValid(p,l,g))return e=r.rename(e,g),S(e),b.push(e),void(t=0);if(w.selector){var $=k(y,e);if(!w.inline||$)return void(t=0)}!x||c||!i.isValid(p,g,s)||!i.isValid(p,l,g)||!f&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||n.isCaretNode(e)||w.inline&&r.isBlock(e)?(t=0,d(u.grep(e.childNodes),o),c&&(x=C),t=0):(t||(t=r.clone(v,!1),e.parentNode.insertBefore(t,e),b.push(t)),t.appendChild(e))}};d(e,o)}),!0===w.links&&d(b,function(e){var t=function(e){"A"===e.nodeName&&S(e,w),d(u.grep(e.childNodes),t)};t(e)}),d(b,function(o){var l,c,u,f,g,v=function(r){var i=!1;return d(r.childNodes,function(r){if((o=r)&&1===o.nodeType&&!e.isBookmarkNode(o)&&!n.isCaretNode(o)&&!t.isBogus(o))return i=r,!1;var o}),i};return g=0,d(o.childNodes,function(t){i.isWhiteSpaceNode(t)||e.isBookmarkNode(t)||g++}),l=g,(b.length>1||!r.isBlock(o))&&0===l?void r.remove(o,1):void((w.inline||w.wrapper)&&(w.exact||1!==l||(c=o,(u=v(c))&&!e.isBookmarkNode(u)&&a.matchName(r,u,w)&&(f=r.clone(u,!1),S(f),r.replace(f,c,!0),r.remove(u,1)),o=f||c),s.mergeWithChildren(p,y,m,o),s.mergeWithParents(p,w,h,m,o),s.mergeBackgroundColorAndFontSize(r,w,m,o),s.mergeSubSup(r,w,m,o),s.mergeSiblings(r,w,m,o)))})};if("false"!==C.getContentEditable($.getNode())){if(w){if(g)g.nodeType?k(y,g)||((b=C.createRng()).setStartBefore(g),b.setEndAfter(g),T(C,r.expandRng(p,b,y),0,!0)):T(C,g,0,!0);else if(x&&w.inline&&!C.select("td[data-mce-selected],th[data-mce-selected]").length)n.applyCaretFormat(p,h,m);else{var _=p.selection.getNode();p.settings.forced_root_block||!y[0].defaultBlock||C.getParent(_,C.isBlock)||f(p,y[0].defaultBlock),p.selection.setRng(l.normalize(p.selection.getRng())),v=$.getBookmark(),T(C,r.expandRng(p,$.getRng(!0),y)),w.styles&&s.mergeUnderlineAndColor(C,w,m,_),$.moveToBookmark(v),i.moveStart(C,$,$.getRng(!0)),p.nodeChanged()}o.postProcess(h,p)}}else{g=$.getNode();for(var E=0,D=y.length;E<D;E++)if(y[E].ceFalseOverride&&C.is(g,y[E].selector))return void S(g,y[E])}};return{applyFormat:f}}),r("2g",["2d","4a","2i","1e"],function(e,t,n,r){var i=r.each;return{formatChanged:function(e,o,a,s,l){var c,u,d,f,p,h,m,g;null===o.get()&&(m=e,g={},(h=o).set({}),m.on("NodeChange",function(e){var o=t.getParents(m.dom,e.element),a={};o=r.grep(o,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),i(h.get(),function(e,t){i(o,function(r){return m.formatter.matchNode(r,t,{},e.similar)?(g[t]||(i(e,function(e){e(!0,{node:r,format:t,parents:o})}),g[t]=e),a[t]=e,!1):!n.matchesUnInheritedFormatSelector(m,r,t)&&void 0})}),i(g,function(t,n){a[n]||(delete g[n],i(t,function(t){t(!1,{node:e.element,format:n,parents:o})}))})})),u=a,d=s,f=l,p=(c=o).get(),i(u.split(","),function(e){p[e]||(p[e]=[],p[e].similar=f),p[e].push(d)}),c.set(p)}}}),r("4s",["1e"],function(e){return{get:function(t){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,r,i){e.each(i,function(e,r){t.setAttrib(n,r,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return e.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){n[e]={block:e,remove:"all"}}),n}}}),r("2h",["4s","1e"],function(e,t){return function(n){var r={},i=function(e,n){e&&("string"!=typeof e?t.each(e,function(e,t){i(t,e)}):(n=n.length?n:[n],t.each(n,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),r[e]=n))};return i(e.get(n.dom)),i(n.settings.formats),{get:function(e){return e?r[e]:r},register:i,unregister:function(e){return e&&r[e]&&delete r[e],r}}}}),r("2j",["m","1e","y"],function(e,t,n){var r=t.each,i=e.DOM,o=function(e,r){var o,a,s,l=r&&r.schema||new n({}),c=function(e){var t,n,r;return a="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=i.create(a.name),n=t,(r=a).classes.length&&i.addClass(n,r.classes.join(" ")),i.setAttribs(n,r.attrs),t},u=function(e,n,r){var o,a,s,d,f,p,h,m,g=n.length>0&&n[0],v=g&&g.name;if(f=v,p="string"!=typeof(d=e)?d.nodeName.toLowerCase():d,h=l.getElementRule(p),s=!(!(m=h&&h.parentsRequired)||!m.length)&&(f&&-1!==t.inArray(m,f)?f:m[0]))v===s?(a=n[0],n=n.slice(1)):a=s;else if(g)a=n[0],n=n.slice(1);else if(!r)return e;return a&&(o=c(a)).appendChild(e),r&&(o||(o=i.create("div")).appendChild(e),t.each(r,function(t){var n=c(t);o.insertBefore(n,e)})),u(o,n,a&&a.siblings)};return e&&e.length?(a=e[0],o=c(a),(s=i.create("div")).appendChild(u(o,e.slice(1),a.siblings)),s):""},a=function(e){var n,r={classes:[],attrs:{}};return"*"!==(e=r.selector=t.trim(e))&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,n,i,o,a){switch(n){case"#":r.attrs.id=i;break;case".":r.classes.push(i);break;case":":-1!==t.inArray("checked disabled enabled read-only required".split(" "),i)&&(r.attrs[i]=i)}if("["===o){var s=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(r.attrs[s[1]]=s[2])}return""})),r.name=n||"div",r},s=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),t.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var n=t.map(e.split(/(?:~\+|~|\+)/),a),r=n.pop();return n.length&&(r.siblings=n),r}).reverse()):[]};return{getCssText:function(e,t){var n,a,l,c,u,d,f="";if(!1===(d=e.settings.preview_styles))return"";"string"!=typeof d&&(d="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var p=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(d=t.preview)?"":(n=t.block||t.inline||"span",(c=s(t.selector)).length?(c[0].name||(c[0].name=n),n=t.selector,a=o(c,e)):a=o([n],e),l=i.select(n,a)[0]||a.firstChild,r(t.styles,function(e,t){(e=p(e))&&i.setStyle(l,t,e)}),r(t.attributes,function(e,t){(e=p(e))&&i.setAttrib(l,t,e)}),r(t.classes,function(e){e=p(e),i.hasClass(l,e)||i.addClass(l,e)}),e.fire("PreviewFormats"),i.setStyles(a,{position:"absolute",left:-65535}),e.getBody().appendChild(a),u=i.getStyle(e.getBody(),"fontSize",!0),u=/px$/.test(u)?parseInt(u,10):0,r(d.split(" "),function(t){var n=i.getStyle(l,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=i.getStyle(e.getBody(),t,!0),"#ffffff"===i.toHex(n).toLowerCase())||"color"===t&&"#000000"===i.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===u)return;n=(n=parseFloat(n,10)/(/%$/.test(n)?100:1))*u+"px"}"border"===t&&n&&(f+="padding:0 2px;"),f+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),i.remove(a),f)},parseSelector:s,selectorToHtml:function(e,t){return o(s(e),t)}}}),r("2l",["2e","2i","2k"],function(e,t,n){return{toggle:function(r,i,o,a,s){var l=i.get(o);!t.match(r,o,a,s)||"toggle"in l[0]&&!l[0].toggle?e.applyFormat(r,o,a,s):n.remove(r,o,a,s)}}}),r("2m",[],function(){return{setup:function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}}}),r("f",["2d","1","2e","2f","2g","2h","2i","2j","2k","2l","2m"],function(e,t,n,r,i,o,a,s,l,c,u){return function(d){var f=o(d),p=e(null);return u.setup(d),r.setup(d),{get:f.get,register:f.register,unregister:f.unregister,apply:t.curry(n.applyFormat,d),remove:t.curry(l.remove,d),toggle:t.curry(c.toggle,d,f),match:t.curry(a.match,d),matchAll:t.curry(a.matchAll,d),matchNode:t.curry(a.matchNode,d),canApply:t.curry(a.canApply,d),formatChanged:t.curry(i.formatChanged,d,p),getCssText:t.curry(s.getCssText,d)}}}),r("4t",["28","4","5"],function(e,t,n){var r=function(e){return function(){for(var r=new t(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];if(0===r.length)throw new n("Can't merge zero objects");for(var o={},a=0;a<r.length;a++){var s=r[a];for(var l in s)s.hasOwnProperty(l)&&(o[l]=e(o[l],s[l]))}return o}},i=r(function(t,n){return e.isObject(t)&&e.isObject(n)?i(t,n):n}),o=r(function(e,t){return t});return{deepMerge:i,merge:o}}),r("4u",[],function(){return{firePreProcess:function(e,t){return e.fire("PreProcess",t)},firePostProcess:function(e,t){return e.fire("PostProcess",t)}}}),r("4v",["1i","v"],function(e,t){return{register:function(n,r,i){n.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),n.addAttributeFilter("src,href,style",function(e,t){for(var n,o,a=e.length,s="data-mce-"+t,l=r.url_converter,c=r.url_converter_scope;a--;)void 0!==(o=(n=e[a]).attributes.map[s])?(n.attr(t,o.length>0?o:null),n.attr(s,null)):(o=n.attributes.map[t],"style"===t?o=i.serializeStyle(i.parseStyle(o),n.name):l&&(o=l.call(c,o,t,n.name)),n.attr(t,o.length>0?o:null))}),n.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),n.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,i=e.length;i--;)"bookmark"!==(r=e[i]).attributes.map["data-mce-type"]||n.cleanup||r.remove()}),n.addNodeFilter("noscript",function(e){for(var n,r=e.length;r--;)(n=e[r].firstChild)&&(n.value=t.decode(n.value))}),n.addNodeFilter("script,style",function(e,t){for(var n,i,o,a=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)i=(n=e[a]).firstChild?n.firstChild.value:"","script"===t?((o=n.attr("type"))&&n.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===r.element_format&&i.length>0&&(n.firstChild.value="// <![CDATA[\n"+s(i)+"\n// ]]>")):"xhtml"===r.element_format&&i.length>0&&(n.firstChild.value="\x3c!--\n"+s(i)+"\n--\x3e")}),n.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),n.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),n.addAttributeFilter("data-mce-type",function(t){e.each(t,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(n.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),n.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},trimTrailingBr:function(e){var t,n,r=function(e){return e&&"br"===e.name};r(t=e.lastChild)&&r(n=t.prev)&&(t.remove(),n.remove())}}}),r("4w",["4t","1j","4u","1e"],function(e,t,n,r){return{process:function(i,o,a){return m=a,(h=i)&&h.hasEventListeners("PreProcess")&&!m.no_events?(l=o,c=a,p=(s=i).dom,l=l.cloneNode(!0),(u=t.implementation).createHTMLDocument&&(d=u.createHTMLDocument(""),r.each("BODY"===l.nodeName?l.childNodes:[l],function(e){d.body.appendChild(d.importNode(e,!0))}),l="BODY"!==l.nodeName?d.body.firstChild:d.body,f=p.doc,p.doc=d),n.firePreProcess(s,e.merge(c,{node:l})),f&&(p.doc=f),l):o;var s,l,c,u,d,f,p,h,m}}}),r("38",["1i","10","1e"],function(e,t,n){var r=function(t,n,r){t.addNodeFilter("font",function(t){e.each(t,function(t){var i,o,a=n.parse(t.attr("style")),s=t.attr("color"),l=t.attr("face"),c=t.attr("size");s&&(a.color=s),l&&(a["font-family"]=l),c&&(a["font-size"]=r[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",n.serialize(a)),i=t,o=["color","face","size"],e.each(o,function(e){i.attr(e,null)})})})},i=function(i,o){var a,s=t();o.convert_fonts_to_spans&&r(i,s,n.explode(o.font_size_legacy_values)),a=s,i.addNodeFilter("strike",function(t){e.each(t,function(e){var t=a.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",a.serialize(t))})})};return{register:function(e,t){t.inline_styles&&i(e,t)}}}),r("w",[],function(){var e=/^[ \t\r\n]*$/,t={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},n=function(e,t,n){var r,i,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(r=e[a])return r;for(i=e.parent;i&&i!==t;i=i.parent)if(r=i[a])return r}},r=function(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})};return r.prototype={replace:function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},attr:function(e,t){var n,r;if("string"!=typeof e){for(r in e)this.attr(r,e[r]);return this}if(n=this.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),this;return this}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}return n.map[e]}},clone:function(){var e,t,n,i,o,a=new r(this.name,this.type);if(n=this.attributes){for((o=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(i=n[e]).name&&(o[o.length]={name:i.name,value:i.value},o.map[i.name]=i.value);a.attributes=o}return a.value=this.value,a.shortEnded=this.shortEnded,a},wrap:function(e){return this.parent.insert(e,this),e.append(this),this},unwrap:function(){var e,t;for(e=this.firstChild;e;)t=e.next,this.insert(e,this,!0),e=t;this.remove()},remove:function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t,t&&(t.prev=null)):n.next=t,e.lastChild===this?(e.lastChild=n,n&&(n.next=null)):t.prev=n,this.parent=this.next=this.prev=null),this},append:function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?(t.next=e,e.prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(e){var t,r=[];for(t=this.firstChild;t;t=n(t,this))t.name===e&&r.push(t);return r},empty:function(){var e,t,r;if(this.firstChild){for(e=[],r=this.firstChild;r;r=n(r,this))e.push(r);for(t=e.length;t--;)(r=e[t]).parent=r.firstChild=r.lastChild=r.next=r.prev=null}return this.firstChild=this.lastChild=null,this},isEmpty:function(t,r,i){var o,a,s=this.firstChild;if(r=r||{},s)do{if(1===s.type){if(s.attributes.map["data-mce-bogus"])continue;if(t[s.name])return!1;for(o=s.attributes.length;o--;)if("name"===(a=s.attributes[o].name)||0===a.indexOf("data-mce-bookmark"))return!1}if(8===s.type)return!1;if(3===s.type&&!e.test(s.value))return!1;if(3===s.type&&s.parent&&r[s.parent.name]&&e.test(s.value))return!1;if(i&&i(s))return!1}while(s=n(s,this));return!0},walk:function(e){return n(this,null,e)}},r.create=function(e,n){var i,o;if(i=new r(e,t[e]||1),n)for(o in n)i.attr(o,n[o]);return i},r}),r("u",["38","w","x","y","1e"],function(e,t,n,r,i){var o=i.makeMap,a=i.each,s=i.explode,l=i.extend,c=function(e,n,r,i){(e.padd_empty_with_br||n.insert)&&r[i.name]?i.empty().append(new t("br","1")).shortEnded=!0:i.empty().append(new t("#text","3")).value=""},u=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},d=function(e,t,n,r){return r.isEmpty(t,n,function(t){return n=t,(r=e.getElementRule(n.name))&&r.paddEmpty;var n,r})};return function(f,p){var h=this,m={},g=[],v={},b={};(f=f||{}).validate=!("validate"in f)||f.validate,f.root_name=f.root_name||"body",h.schema=p=p||new r;h.filterNode=function(e){var t,n,r;n in m&&((r=v[n])?r.push(e):v[n]=[e]),t=g.length;for(;t--;)(n=g[t].name)in e.attributes.map&&((r=b[n])?r.push(e):b[n]=[e]);return e},h.addNodeFilter=function(e,t){a(s(e),function(e){var n=m[e];n||(m[e]=n=[]),n.push(t)})},h.addAttributeFilter=function(e,t){a(s(e),function(e){var n;for(n=0;n<g.length;n++)if(g[n].name===e)return void g[n].callbacks.push(t);g.push({name:e,callbacks:[t]})})},h.parse=function(e,r){var i,a,s,y,w,x,C,$,S,k,T,_,E,D,A,N,R,O,P,I,M,L=[];r=r||{},v={},b={},_=l(o("script,style,head,html,body,title,meta,param"),p.getBlockElements()),I=p.getNonEmptyElements(),P=p.children,T=f.validate,M="forced_root_block"in r?r.forced_root_block:f.forced_root_block,O=p.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,A=/[ \t\r\n]+$/,N=/[ \t\r\n]+/g,R=/^[ \t\r\n]+$/;var B=function(e,n){var r,i=new t(e,n);return e in m&&((r=v[e])?r.push(i):v[e]=[i]),i},F=function(e){var t,n,r,i,o=p.getBlockElements();for(t=e.prev;t&&3===t.type;){if((r=t.value.replace(A,"")).length>0)return void(t.value=r);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}i=t.prev,t.remove(),t=i}};if(i=new n({validate:T,allow_script_urls:f.allow_script_urls,allow_conditional_comments:f.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}(p.getSelfClosingElements()),cdata:function(e){s.append(B("#cdata",4)).value=e},text:function(e,t){var n;D||(e=e.replace(N," "),s.lastChild&&_[s.lastChild.name]&&(e=e.replace(E,""))),0!==e.length&&((n=B("#text",3)).raw=!!t,s.append(n).value=e)},comment:function(e){s.append(B("#comment",8)).value=e},pi:function(e,t){s.append(B(e,7)).value=t,F(s)},doctype:function(e){s.append(B("#doctype",10)).value=e,F(s)},start:function(e,t,n){var r,i,o,a,l;if(o=T?p.getElementRule(e):{}){for((r=B(o.outputName||e,1)).attributes=t,r.shortEnded=n,s.append(r),(l=P[s.name])&&P[r.name]&&!l[r.name]&&L.push(r),i=g.length;i--;)(a=g[i].name)in t.map&&((S=b[a])?S.push(r):b[a]=[r]);_[e]&&F(r),n||(s=r),!D&&O[e]&&(D=!0)}},end:function(e){var t,n,i,o,a,l;if(n=T?p.getElementRule(e):{}){if(_[e]&&!D){if((t=s.firstChild)&&3===t.type)if((i=t.value.replace(E,"")).length>0)t.value=i,t=t.next;else for(o=t.next,t.remove(),t=o;t&&3===t.type;)i=t.value,o=t.next,(0===i.length||R.test(i))&&(t.remove(),t=o),t=o;if((t=s.lastChild)&&3===t.type)if((i=t.value.replace(A,"")).length>0)t.value=i,t=t.prev;else for(o=t.prev,t.remove(),t=o;t&&3===t.type;)i=t.value,o=t.prev,(0===i.length||R.test(i))&&(t.remove(),t=o),t=o}if(D&&O[e]&&(D=!1),n.removeEmpty&&d(p,I,O,s)&&!s.attributes.map.name&&!s.attributes.map.id)return a=s.parent,_[s.name]?s.empty().remove():s.unwrap(),void(s=a);n.paddEmpty&&(u(l=s,"#text")&&""===l.firstChild.value||d(p,I,O,s))&&c(f,r,_,s),s=s.parent}}},p),a=s=new t(r.context||f.root_name,11),i.parse(e),T&&L.length&&(r.context?r.invalid=!0:function(e){var n,r,i,a,s,l,c,f,m,g,v,b,y,w,x,C;for(b=o("tr,td,th,tbody,thead,tfoot,table"),g=p.getNonEmptyElements(),v=p.getWhiteSpaceElements(),y=p.getTextBlockElements(),w=p.getSpecialElements(),n=0;n<e.length;n++)if((r=e[n]).parent&&!r.fixed)if(y[r.name]&&"li"==r.parent.name){for(x=r.next;x&&y[x.name];)x.name="li",x.fixed=!0,r.parent.insert(x,r.parent),x=x.next;r.unwrap(r)}else{for(a=[r],i=r.parent;i&&!p.isValidChild(i.name,r.name)&&!b[i.name];i=i.parent)a.push(i);if(i&&a.length>1){for(a.reverse(),s=l=h.filterNode(a[0].clone()),m=0;m<a.length-1;m++){for(p.isValidChild(l.name,a[m].name)?(c=h.filterNode(a[m].clone()),l.append(c)):c=l,f=a[m].firstChild;f&&f!=a[m+1];)C=f.next,c.append(f),f=C;l=c}d(p,g,v,s)?i.insert(r,a[0],!0):(i.insert(s,a[0],!0),i.insert(r,s)),i=a[0],(d(p,g,v,i)||u(i,"br"))&&i.empty().remove()}else if(r.parent){if("li"===r.name){if((x=r.prev)&&("ul"===x.name||"ul"===x.name)){x.append(r);continue}if((x=r.next)&&("ul"===x.name||"ul"===x.name)){x.insert(r,x.firstChild,!0);continue}r.wrap(h.filterNode(new t("ul",1)));continue}p.isValidChild(r.parent.name,"div")&&p.isValidChild("div",r.name)?r.wrap(h.filterNode(new t("div",1))):w[r.name]?r.empty().remove():r.unwrap()}}}(L)),M&&("body"==a.name||r.isRootContent)&&function(){var e,t,n=a.firstChild,r=function(e){e&&((n=e.firstChild)&&3==n.type&&(n.value=n.value.replace(E,"")),(n=e.lastChild)&&3==n.type&&(n.value=n.value.replace(A,"")))};if(p.isValidChild(a.name,M.toLowerCase())){for(;n;)e=n.next,3==n.type||1==n.type&&"p"!==n.name&&!_[n.name]&&!n.attr("data-mce-type")?t?t.append(n):((t=B(M,1)).attr(f.forced_root_block_attrs),a.insert(t,n),t.append(n)):(r(t),t=null),n=e;r(t)}}(),!r.invalid){for(k in v){for(S=m[k],C=(y=v[k]).length;C--;)y[C].parent||y.splice(C,1);for(w=0,x=S.length;w<x;w++)S[w](y,k,r)}for(w=0,x=g.length;w<x;w++)if((S=g[w]).name in b){for(C=(y=b[S.name]).length;C--;)y[C].parent||y.splice(C,1);for(C=0,$=S.callbacks.length;C<$;C++)S.callbacks[C](y,S.name,r)}}return a},f.remove_trailing_brs&&h.addNodeFilter("br",function(e,n,r){var i,o,a,s,u,h,m,g,v=e.length,b=l({},p.getBlockElements()),y=p.getNonEmptyElements(),w=p.getNonEmptyElements();for(b.body=1,i=0;i<v;i++)if(a=(o=e[i]).parent,b[o.parent.name]&&o===a.lastChild){for(u=o.prev;u;){if("span"!==(h=u.name)||"bookmark"!==u.attr("data-mce-type")){if("br"!==h)break;if("br"===h){o=null;break}}u=u.prev}o&&(o.remove(),d(p,y,w,a)&&((m=p.getElementRule(a.name))&&(m.removeEmpty?a.remove():m.paddEmpty&&c(f,r,b,a))))}else{for(s=o;a&&a.firstChild===s&&a.lastChild===s&&(s=a,!b[a.name]);)a=a.parent;s===a&&!0!==f.padd_empty_with_br&&((g=new t("#text",3)).value="",o.replace(g))}}),h.addAttributeFilter("href",function(e){var t,n,r,o=e.length;if(!f.allow_unsafe_link_target)for(;o--;)"a"===(t=e[o]).name&&"_blank"===t.attr("target")&&t.attr("rel",(n=t.attr("rel"),void 0,r=n?i.trim(n):"",/\b(noopener)\b/g.test(r)?r:r.split(" ").filter(function(e){return e.length>0}).concat(["noopener"]).sort().join(" ")))}),f.allow_html_in_named_anchor||h.addAttributeFilter("id,name",function(e){for(var t,n,r,i,o=e.length;o--;)if("a"===(i=e[o]).name&&i.firstChild&&!i.attr("href")){r=i.parent,t=i.lastChild;do{n=t.prev,r.insert(t,i),t=n}while(t)}}),f.fix_list_elements&&h.addNodeFilter("ul,ol",function(e){for(var n,r,i=e.length;i--;)if("ul"===(r=(n=e[i]).parent).name||"ol"===r.name)if(n.prev&&"li"===n.prev.name)n.prev.append(n);else{var o=new t("li",1);o.attr("style","list-style-type: none"),n.wrap(o)}}),f.validate&&p.getValidClasses()&&h.addAttributeFilter("class",function(e){for(var t,n,r,i,o,a,s,l=e.length,c=p.getValidClasses();l--;){for(n=(t=e[l]).attr("class").split(" "),o="",r=0;r<n.length;r++)i=n[r],s=!1,(a=c["*"])&&a[i]&&(s=!0),a=c[t.name],!s&&a&&a[i]&&(s=!0),s&&(o&&(o+=" "),o+=i);o.length||(o=null),t.attr("class",o)}}),e.register(this,f)}}),r("2y",["1","4t","4u","m","4v","4w","u","y","z","4b","1e"],function(e,t,n,r,i,o,a,s,l,c,u){var d=function(e,t,n){-1===u.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},f=function(e,r,i,o,a){var s,c,u,d,f=(s=o,new l(r,i).serialize(s));return c=e,d=f,!(u=a).no_events&&c?n.firePostProcess(c,t.merge(u,{content:d})).content:d};return function(n,l){var p,h,m,g=["data-mce-selected"];p=l&&l.dom?l.dom:r.DOM,h=l&&l.schema?l.schema:new s(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs=!("remove_trailing_brs"in n)||n.remove_trailing_brs,m=new a(n,h),i.register(m,n,p);return{schema:h,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:function(e,r){var a,s,d,g,v,b,y,w,x,C=t.merge({format:"html"},r||{}),$=o.process(l,e,C),S=(b=p,y=$,w=C,x=c.trim(w.getInner?y.innerHTML:b.getOuterHTML(y)),w.selection?x:u.trim(x)),k=(a=m,s=S,g=(d=C).selection?t.merge({forced_root_block:!1},d):d,v=a.parse(s,g),i.trimTrailingBr(v),v);return"tree"===C.format?k:f(l,n,h,k,C)},addRules:function(e){h.addValidElements(e)},setRules:function(e){h.setValidElements(e)},addTempAttr:e.curry(d,m,g),getTempAttrs:function(){return g}}}}),r("k",["2y"],function(e){return function(t,n){var r=new e(t,n);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs}}}),r("6m",["1","1v","62","46"],function(e,t,n,r){var i=function(e,t){var n;t.hasAttribute("data-mce-caret")&&(r.showCaretContainerBlock(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))},o=function(o,a){var s,l=(s=o,n.descendant(t.fromDom(s.getBody()),"*[data-mce-caret]").fold(e.constant(null),function(e){return e.dom()}));if(l)return"compositionstart"===a.type?(a.preventDefault(),a.stopPropagation(),void i(l)):void(r.hasContent(l)&&i(o,l))};return{setup:function(t){t.on("keyup compositionstart",e.curry(o,t))}}}),r("i",["1","2r"],function(e,t){var n=function(n){return{getBookmark:e.curry(t.getBookmark,n),moveToBookmark:e.curry(t.moveToBookmark,n)}};return n.isBookmarkNode=t.isBookmarkNode,n}),r("l",["1","1v","2z","1j","1y","30","b","15","1e","1g"],function(e,t,n,r,i,o,a,s,l,c){var u=i.isContentEditableFalse,d=i.isContentEditableTrue;return function(e,i){var f,p,h,m,g,v,b,y,w,x,C,$,S,k,T,_,E,D=i.dom,A=l.each,N=i.getDoc(),R=r,O=Math.abs,P=Math.round,I=i.getBody();m={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var M=".mce-content-body";i.contentStyles.push(M+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+M+" .mce-resizehandle:hover {background: #000}"+M+" img[data-mce-selected],"+M+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+M+" .mce-clonedresizable {position: absolute;"+(a.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+M+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var L=function(e){return e&&("IMG"===e.nodeName||i.dom.is(e,"figure.image"))},B=function(e){var t,n,r=e.target;t=e,n=i.selection.getRng(),L(t.target)&&!o.isXYWithinRange(t.clientX,t.clientY,n)&&!e.isDefaultPrevented()&&(e.preventDefault(),i.selection.select(r))},F=function(e){return i.dom.is(e,"figure.image")?e.querySelector("img"):e},j=function(e){var r=i.settings.object_resizing;return!1!==r&&!a.iOS&&("string"!=typeof r&&(r="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&e!=i.getBody()&&n.is(t.fromDom(e),r))},z=function(e){var t,n,r,o;t=e.screenX-v,n=e.screenY-b,k=t*g[2]+x,T=n*g[3]+C,k=k<5?5:k,T=T<5?5:T,(L(f)&&!1!==i.settings.resize_img_proportional?!c.modifierPressed(e):c.modifierPressed(e)||L(f)&&g[2]*g[3]!=0)&&(O(t)>O(n)?(T=P(k*$),k=P(T/$)):(k=P(T/$),T=P(k*$))),D.setStyles(F(p),{width:k,height:T}),r=g.startPos.x+t,o=g.startPos.y+n,r=r>0?r:0,o=o>0?o:0,D.setStyles(h,{left:r,top:o,display:"block"}),h.innerHTML=k+" &times; "+T,g[2]<0&&p.clientWidth<=k&&D.setStyle(p,"left",y+(x-k)),g[3]<0&&p.clientHeight<=T&&D.setStyle(p,"top",w+(C-T)),(t=I.scrollWidth-_)+(n=I.scrollHeight-E)!==0&&D.setStyles(h,{left:r-t,top:o-n}),S||(i.fire("ObjectResizeStart",{target:f,width:x,height:C}),S=!0)},U=function(){S=!1;var e=function(e,t){t&&(f.style[e]||!i.schema.isValid(f.nodeName.toLowerCase(),e)?D.setStyle(F(f),e,t):D.setAttrib(F(f),e,t))};e("width",k),e("height",T),D.unbind(N,"mousemove",z),D.unbind(N,"mouseup",U),R!=N&&(D.unbind(R,"mousemove",z),D.unbind(R,"mouseup",U)),D.remove(p),D.remove(h),H(f),i.fire("ObjectResized",{target:f,width:k,height:T}),D.setAttrib(f,"style",D.getAttrib(f,"style")),i.nodeChanged()},H=function(e){var t,n,r,o,s;q(),Y(),t=D.getPos(e,I),y=t.x,w=t.y,s=e.getBoundingClientRect(),n=s.width||s.right-s.left,r=s.height||s.bottom-s.top,f!=e&&(f=e,k=T=0),o=i.fire("ObjectSelected",{target:e}),j(e)&&!o.isDefaultPrevented()?A(m,function(e,t){var i;(i=D.get("mceResizeHandle"+t))&&D.remove(i),i=D.add(I,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),a.ie&&(i.contentEditable=!1),D.bind(i,"mousedown",function(t){var i;t.stopImmediatePropagation(),t.preventDefault(),v=(i=t).screenX,b=i.screenY,x=F(f).clientWidth,C=F(f).clientHeight,$=C/x,g=e,e.startPos={x:n*e[0]+y,y:r*e[1]+w},_=I.scrollWidth,E=I.scrollHeight,p=f.cloneNode(!0),D.addClass(p,"mce-clonedresizable"),D.setAttrib(p,"data-mce-bogus","all"),p.contentEditable=!1,p.unSelectabe=!0,D.setStyles(p,{left:y,top:w,margin:0}),p.removeAttribute("data-mce-selected"),I.appendChild(p),D.bind(N,"mousemove",z),D.bind(N,"mouseup",U),R!=N&&(D.bind(R,"mousemove",z),D.bind(R,"mouseup",U)),h=D.add(I,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},x+" &times; "+C)}),e.elm=i,D.setStyles(i,{left:n*e[0]+y-i.offsetWidth/2,top:r*e[1]+w-i.offsetHeight/2})}):q(),f.setAttribute("data-mce-selected","1")},q=function(){var e,t;for(e in Y(),f&&f.removeAttribute("data-mce-selected"),m)(t=D.get("mceResizeHandle"+e))&&(D.unbind(t),D.remove(t))},V=function(t){var n,r=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};if(!S&&!i.removed)return A(D.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),n="mousedown"==t.type?t.target:e.getNode(),r(n=D.$(n).closest("table,img,figure.image,hr")[0],I)&&(G(),r(e.getStart(!0),n)&&r(e.getEnd(!0),n))?void H(n):void q()},W=function(e){return u(function(e,t){for(;t&&t!=e;){if(d(t)||u(t))return t;t=t.parentNode}return null}(i.getBody(),e))},Y=function(){for(var e in m){var t=m[e];t.elm&&(D.unbind(t.elm),delete t.elm)}},G=function(){try{i.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};i.on("init",function(){G(),a.ie&&a.ie>=11&&(i.on("mousedown click",function(e){var t=e.target,n=t.nodeName;S||!/^(TABLE|IMG|HR)$/.test(n)||W(t)||(2!==e.button&&i.selection.select(t,"TABLE"==n),"mousedown"==e.type&&i.nodeChanged())}),i.dom.bind(I,"mscontrolselect",function(e){var t=function(e){s.setEditorTimeout(i,function(){i.selection.select(e)})};return W(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target)))}));var e=s.throttle(function(e){i.composing||V(e)});i.on("nodechange ResizeEditor ResizeWindow drop",e),i.on("keyup compositionend",function(t){f&&"TABLE"==f.nodeName&&e(t)}),i.on("hide blur",q),i.on("contextmenu",B)}),i.on("remove",Y);return{isResizable:j,showResizeRect:H,hideResizeRect:q,updateResizeRect:V,destroy:function(){f=p=null}}}}),r("33",["1y"],function(e){var t=function(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}};return{scrollIntoView:function(n,r,i){var o,a,s,l,c,u=n.dom,d=u.getRoot(),f=0;if(c={elm:r,alignToTop:i},n.fire("scrollIntoView",c),!c.isDefaultPrevented()&&e.isElement(r)){if(!1===i&&(f=r.offsetHeight),"BODY"!==d.nodeName){var p=n.selection.getScrollContainer();if(p)return o=t(r).y-t(p).y+f,l=p.clientHeight,void((o<(s=p.scrollTop)||o+25>s+l)&&(p.scrollTop=o<s?o:o-l+25))}a=u.getViewPort(n.getWin()),o=u.getPos(r).y+f,s=a.y,l=a.h,(o<a.y||o+25>s+l)&&n.getWin().scrollTo(0,o<s?o:o-l+25)}}}}),r("2s",["1y","1e"],function(e,t){var n=function(t){return e.isContentEditableTrue(t)||e.isContentEditableFalse(t)};return{fromPoint:function(r,i,o){var a,s,l,c,u;if(o.caretPositionFromPoint)(s=o.caretPositionFromPoint(r,i))&&((a=o.createRange()).setStart(s.offsetNode,s.offset),a.collapse(!0));else if(o.caretRangeFromPoint)a=o.caretRangeFromPoint(r,i);else if(o.body.createTextRange){a=o.body.createTextRange();try{a.moveToPoint(r,i),a.collapse(!0)}catch(e){a=function(e,n,r){var i,o,a;if(i=r.elementFromPoint(e,n),o=r.body.createTextRange(),i&&"HTML"!==i.tagName||(i=r.body),o.moveToElementText(i),(a=(a=t.toArray(o.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length>0){n=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(e,n),o.collapse(!0),o}catch(e){}}return null}(r,i,o)}return l=a,c=o.body,u=l&&l.parentElement?l.parentElement():null,e.isContentEditableFalse(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(u,c,n))?null:l}return a}}}),r("34",["1i"],function(e){return{processRanges:function(t,n){return e.map(n,function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e})}}}),r("60",["48","1v","41","5d","47","3h"],function(e,t,n,r,i,o){var a=function(e,n){return t.fromDom(e.dom().cloneNode(n))},s=function(e){return a(e,!0)},l=function(n,r){var i=t.fromTag(r),o=e.clone(n);return e.setAll(i,o),i};return{shallow:function(e){return a(e,!1)},shallowAs:l,deep:s,copy:function(e,t){var n=l(e,t),i=o.children(s(e));return r.append(n,i),n},mutate:function(e,t){var a=l(e,t);n.before(e,a);var s=o.children(e);return r.append(a,s),i.remove(e),a}}}),r("61",["1i","1v","1j"],function(e,t,n){return{fromElements:function(r,i){var o=(i||n).createDocumentFragment();return e.each(r,function(e){o.appendChild(e.dom())}),t.fromDom(o)}}}),r("63",["1i","1","2n","5c","31","1v","3f","3h","1y"],function(e,t,n,r,i,o,a,s,l){var c=function(e){return s.firstChild(e).fold(t.constant([e]),function(t){return[e].concat(c(t))})},u=function(e){return s.lastChild(e).fold(t.constant([e]),function(t){return"br"===a.name(t)?s.prevSibling(t).map(function(t){return[e].concat(u(t))}).getOr([]):[e].concat(u(t))})};return{hasAllContentsSelected:function(a,s){return r.liftN([(h=s,m=h.startContainer,g=h.startOffset,l.isText(m)?0===g?n.some(o.fromDom(m)):n.none():n.from(m.childNodes[g]).map(o.fromDom)),(d=s,f=d.endContainer,p=d.endOffset,l.isText(f)?p===f.data.length?n.some(o.fromDom(f)):n.none():n.from(f.childNodes[p-1]).map(o.fromDom))],function(n,r){var o=e.find(c(a),t.curry(i.eq,n)),s=e.find(u(a),t.curry(i.eq,r));return o.isSome()&&s.isSome()}).getOr(!1);var d,f,p,h,m,g}}}),r("64",["1i","2n","45","31","41","5d","60","1v","48","5f"],function(e,t,n,r,i,o,a,s,l,c){var u=n.immutable("element","width","rows"),d=n.immutable("element","cells"),f=n.immutable("x","y"),p=function(e,t){var n=parseInt(l.get(e,t),10);return isNaN(n)?1:n},h=function(t){return e.foldl(t,function(e,t){return t.cells().length>e?t.cells().length:e},0)},m=function(e,n){for(var i=e.rows(),o=0;o<i.length;o++)for(var a=i[o].cells(),s=0;s<a.length;s++)if(r.eq(a[s],n))return t.some(f(s,o));return t.none()},g=function(e,t,n,r,i){for(var o=[],a=e.rows(),s=n;s<=i;s++){var l=a[s].cells(),c=t<r?l.slice(t,r+1):l.slice(r,t+1);o.push(d(a[s].element(),c))}return o};return{fromDom:function(t){var n=u(a.shallow(t),0,[]);return e.each(c.descendants(t,"tr"),function(t,r){e.each(c.descendants(t,"td,th"),function(e,i){!function(e,t,n,r,i){for(var o=p(i,"rowspan"),s=p(i,"colspan"),l=e.rows(),c=n;c<n+o;c++){l[c]||(l[c]=d(a.deep(r),[]));for(var u=t;u<t+s;u++)l[c].cells()[u]=c==n&&u==t?i:a.shallow(i)}}(n,function(e,t,n){for(;r=t,i=n,o=void 0,((o=e.rows())[i]?o[i].cells():[])[r];)t++;var r,i,o;return t}(n,i,r),r,t,e)})}),u(n.element(),h(n.rows()),n.rows())},toDom:function(t){return n=t,d=t,r=e.map(d.rows(),function(t){var n=e.map(t.cells(),function(e){var t=a.deep(e);return l.remove(t,"colspan"),l.remove(t,"rowspan"),t}),r=a.shallow(t.element());return o.append(r,n),r}),c=a.shallow(n.element()),u=s.fromTag("tbody"),o.append(u,r),i.append(c,u),c;var n,r,c,u,d},subsection:function(e,t,n){return m(e,t).bind(function(t){return m(e,n).map(function(n){return r=e,o=n,a=(i=t).x(),s=i.y(),l=o.x(),c=o.y(),d=s<c?g(r,a,s,l,c):g(r,a,c,l,s),u(r.element(),h(d),d);var r,i,o,a,s,l,c,d})})}}}),r("4x",["1i","1","31","41","60","1v","61","3f","62","3h","3l","5s","63","64","5t"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h){var m=function(n,r){return e.find(n,function(e){return"li"===s.name(e)&&f.hasAllContentsSelected(e,r)}).fold(t.constant([]),function(t){return(r=n,e.find(r,function(e){return"ul"===s.name(e)||"ol"===s.name(e)})).map(function(e){return[o.fromTag("li"),o.fromTag(s.name(e))]}).getOr([]);var r})},g=function(n,r){var a,s=o.fromDom(r.commonAncestorContainer),l=d.parentsAndSelf(s,n),f=e.filter(l,function(e){return u.isInline(e)||u.isHeading(e)}),p=m(l,r),h=f.concat(p.length?p:(a=s,u.isListItem(a)?c.parent(a).filter(u.isList).fold(t.constant([]),function(e){return[a,e]}):u.isList(a)?[a]:[]));return e.map(h,i.shallow)},v=function(){return a.fromElements([])},b=function(t,n){return i=o.fromDom(n.cloneContents()),s=g(t,n),l=e.foldl(s,function(e,t){return r.append(t,e),t},i),s.length>0?a.fromElements([l]):l;var i,s,l},y=function(e,r){return(i=e,o=r[0],l.ancestor(o,"table",t.curry(n.eq,i))).bind(function(e){var t=r[0],n=r[r.length-1],i=p.fromDom(e);return p.subsection(i,t,n).map(function(e){return a.fromElements([p.toDom(e)])})}).getOrThunk(v);var i,o};return{read:function(e,t){var n,r,i=h.getCellsFromElementOrRanges(t,e);return i.length>0?y(e,i):(n=e,(r=t).length>0&&r[0].collapsed?v():b(n,r[0]))}}}),r("35",["1v","34","4x","36","4b"],function(e,t,n,r,i){return{getContent:function(o,a){var s,l=o.selection.getRng(),c=o.dom.create("body"),u=o.selection.getSel(),d=t.processRanges(o,r.getRanges(u));if((a=a||{}).get=!0,a.format=a.format||"html",a.selection=!0,(a=o.fire("BeforeGetContent",a)).isDefaultPrevented())return o.fire("GetContent",a),a.content;if("text"===a.format)return o.selection.isCollapsed()?"":i.trim(l.text||(u.toString?u.toString():""));l.cloneContents?(s=a.contextual?n.read(e.fromDom(o.getBody()),d).dom():l.cloneContents())&&c.appendChild(s):void 0!==l.item||void 0!==l.htmlText?(c.innerHTML="<br>"+(l.item?l.item(0).outerHTML:l.htmlText),c.removeChild(c.firstChild)):c.innerHTML=l.toString(),a.getInner=!0;var f=o.selection.serializer.serialize(c,a);return"tree"===a.format?f:(a.content=o.selection.isCollapsed()?"":f,o.fire("GetContent",a),a.content)}}}),r("37",[],function(){return{setContent:function(e,t,n){var r,i,o,a=e.selection.getRng(),s=e.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=t,n.no_events||!(n=e.fire("BeforeSetContent",n)).isDefaultPrevented()){if(t=n.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=t:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(i=s.createDocumentFragment(),o=s.createElement("div"),i.appendChild(o),o.outerHTML=t,a.insertNode(i))),r=e.dom.get("__caret"),(a=s.createRange()).setStartBefore(r),a.setEndBefore(r),e.selection.setRng(a),e.dom.remove("__caret");try{e.selection.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=e.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t);n.no_events||e.fire("SetContent",n)}else e.fire("SetContent",n)}}}),r("q",["31","1v","b","i","32","l","33","s","24","2s","34","35","36","2t","20","37","1e"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g){var v=g.each,b=g.trim,y=function(n){return!(!n||!n.ownerDocument)&&e.contains(t.fromDom(n.ownerDocument),t.fromDom(n))},w=function(e,t,n,i){this.dom=e,this.win=t,this.serializer=n,this.editor=i,this.bookmarkManager=new r(this),this.controlSelection=new o(this,i)};return w.prototype={setCursorLocation:function(e,t){var n=this.dom.createRng();e?(n.setStart(e,t),n.setEnd(e,t),this.setRng(n),this.collapse(!1)):(this._moveEndPoint(n,this.editor.getBody(),!0),this.setRng(n))},getContent:function(e){return d.getContent(this.editor,e)},setContent:function(e,t){m.setContent(this.editor,e,t)},getStart:function(e){var t,n=this.getRng();return 1==(t=n.startContainer).nodeType&&t.hasChildNodes()&&(e&&n.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,n.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,r=this.getRng();return t=r.endContainer,n=r.endOffset,1==t.nodeType&&t.hasChildNodes()&&(e&&r.collapsed||(t=t.childNodes[n>0?n-1:n])),t&&3==t.nodeType?t.parentNode:t},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,r=this.dom,i=r.createRng();return e&&(n=r.nodeIndex(e),i.setStart(e.parentNode,n),i.setEnd(e.parentNode,n+1),t&&(this._moveEndPoint(i,e,!0),this._moveEndPoint(i,e)),this.setRng(i)),e},isCollapsed:function(){var e=this.getRng(),t=this.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},collapse:function(e){var t=this.getRng();t.collapse(!!e),this.setRng(t)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){var t,n,r,i,o=this,a=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!o.win)return null;if(void 0===(i=o.win.document)||null===i)return null;if(void 0!==o.editor.bookmark&&!1===l.hasFocus(o.editor)){var s=h.getRng(o.editor);if(s.isSome())return s.getOr(i.createRange())}try{(t=o.getSel())&&(n=t.rangeCount>0?t.getRangeAt(0):t.createRange?t.createRange():i.createRange())}catch(e){}return(n=u.processRanges(o.editor,[n])[0])||(n=i.createRange?i.createRange():i.body.createTextRange()),n.setStart&&9===n.startContainer.nodeType&&n.collapsed&&(r=o.dom.getRoot(),n.setStart(r,0),n.setEnd(r,0)),o.selectedRange&&o.explicitRange&&(0===a(n.START_TO_START,n,o.selectedRange)&&0===a(n.END_TO_END,n,o.selectedRange)?n=o.explicitRange:(o.selectedRange=null,o.explicitRange=null)),n},setRng:function(e,t){var r,i,o;if((o=e)&&(o.select||y(o.startContainer)&&y(o.endContainer)))if(e.select){this.explicitRange=null;try{e.select()}catch(e){}}else{if(r=this.getSel(),e=this.editor.fire("SetSelectionRange",{range:e,forward:t}).range,r){this.explicitRange=e;try{r.removeAllRanges(),r.addRange(e)}catch(e){}!1===t&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),this.selectedRange=r.rangeCount>0?r.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!r.setBaseAndExtent||n.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&((i=e.startContainer.childNodes[e.startOffset])&&"IMG"===i.tagName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),r.anchorNode===e.startContainer&&r.focusNode===e.endContainer||r.setBaseAndExtent(i,0,i,1))),this.editor.fire("AfterSetSelectionRange",{range:e,forward:t})}},setNode:function(e){return this.setContent(this.dom.getOuterHTML(e)),e},getNode:function(){var e,t,n,r,i,o=this.getRng(),a=this.dom.getRoot(),s=function(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n};return o?(t=o.startContainer,n=o.endContainer,r=o.startOffset,i=o.endOffset,e=o.commonAncestorContainer,!o.collapsed&&(t==n&&i-r<2&&t.hasChildNodes()&&(e=t.childNodes[r]),3===t.nodeType&&3===n.nodeType&&(t=t.length===r?s(t.nextSibling,!0):t.parentNode,n=0===i?s(n.previousSibling,!1):n.parentNode,t&&t===n))?t:e&&3==e.nodeType?e.parentNode:e):a},getSelectedBlocks:function(e,t){var n,r,i=this.dom,o=[];if(r=i.getRoot(),e=i.getParent(e||this.getStart(),i.isBlock),t=i.getParent(t||this.getEnd(),i.isBlock),e&&e!=r&&o.push(e),e&&t&&e!=t){n=e;for(var a=new s(e,r);(n=a.next())&&n!=t;)i.isBlock(n)&&o.push(n)}return t&&e!=t&&t!=r&&o.push(t),o},isForward:function(){var e,t,n=this.dom,r=this.getSel();return!(r&&r.anchorNode&&r.focusNode)||((e=n.createRng()).setStart(r.anchorNode,r.anchorOffset),e.collapse(!0),(t=n.createRng()).setStart(r.focusNode,r.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this,t=e.getRng();if(!f.hasMultipleRanges(e.getSel())){var n=p.normalize(e.dom,t);return n.each(function(t){e.setRng(t,e.isForward())}),n.getOr(t)}return t},selectorChanged:function(e,t){var n,r=this;return r.selectorChangedData||(r.selectorChangedData={},n={},r.editor.on("NodeChange",function(e){var t=e.element,i=r.dom,o=i.getParents(t,null,i.getRoot()),a={};v(r.selectorChangedData,function(e,t){v(o,function(r){if(i.is(r,t))return n[t]||(v(e,function(e){e(!0,{node:r,selector:t,parents:o})}),n[t]=e),a[t]=e,!1})}),v(n,function(e,r){a[r]||(delete n[r],v(e,function(e){e(!1,{node:t,selector:r,parents:o})}))})})),r.selectorChangedData[e]||(r.selectorChangedData[e]=[]),r.selectorChangedData[e].push(t),r},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){a.scrollIntoView(this.editor,e,t)},placeCaretAt:function(e,t){this.setRng(c.fromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(e,t,r){var i=t,o=new s(t,i),a=this.dom.schema.getNonEmptyElements();do{if(3==t.nodeType&&0!==b(t.nodeValue).length)return void(r?e.setStart(t,0):e.setEnd(t,t.nodeValue.length));if(a[t.nodeName]&&!/^(TD|TH)$/.test(t.nodeName))return void(r?e.setStartBefore(t):"BR"==t.nodeName?e.setEndBefore(t):e.setEndAfter(t));if(n.ie&&n.ie<11&&this.dom.isBlock(t)&&this.dom.isEmpty(t))return void(r?e.setStart(t,0):e.setEnd(t,0))}while(t=r?o.next():o.prev());"BODY"==i.nodeName&&(r?e.setStart(i,0):e.setEnd(i,i.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?i.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},w}),r("7h",["3q","1r","77","3n","5b","3r","32","3o"],function(e,t,n,r,i,o,a,s){var l=e.curry,c=function(e,o,a,s,l,c){var u,d,f=0,p=[],h=function(r){var i,s,c;for(c=n.getClientRects(r),-1==e&&(c=c.reverse()),i=0;i<c.length;i++)if(s=c[i],!a(s,d)){if(p.length>0&&o(s,t.last(p))&&f++,s.line=f,l(s))return!0;p.push(s)}};return(d=t.last(c.getClientRects()))?(h(u=c.getNode()),function(e,t,n,o){for(;o=i.findNode(o,e,r.isEditableCaretCandidate,t);)if(n(o))return}(e,s,h,u),p):p};return{upUntil:l(c,-1,s.isAbove,s.isBelow),downUntil:l(c,1,s.isBelow,s.isAbove),positionsUntil:function(e,n,r,i){var l,c,u,d,f,p,h=new o(n),m=[],g=0,v=function(e){return t.last(e.getClientRects())};1==e?(l=h.next,c=s.isBelow,u=s.isAbove,d=a.after(i)):(l=h.prev,c=s.isAbove,u=s.isBelow,d=a.before(i)),p=v(d);do{if(d.isVisible()&&!u(f=v(d),p)){if(m.length>0&&c(f,t.last(m))&&g++,(f=s.clone(f)).position=d,f.line=g,r(f))return m;m.push(f)}}while(d=l(d));return m},isAboveLine:l(function(e,t){return t.line>e}),isLine:l(function(e,t){return t.line===e})}}),r("78",["b","46","32","5b","3r","6x","7h","1y","6z","2v","1r","3q"],function(e,t,n,r,i,o,a,s,l,c,u,d){var f=s.isContentEditableFalse,p=c.getSelectedNode,h=r.isAfterContentEditableFalse,m=r.isBeforeContentEditableFalse,g=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},v=function(e,t,i){return i=r.normalizeRange(e,t,i),-1===e?n.fromRangeStart(i):n.fromRangeEnd(i)},b=function(e,n,i,o,a){var c,u,d,h,m,g,b,y;return!a.collapsed&&(c=p(a),f(c))?l.showCaret(e,n,c,-1===e):(y=a,h=t.isCaretContainerBlock(y.startContainer),o(u=v(e,n.getBody(),a))?l.selectNode(n,u.getNode(-1===e)):(u=i(u))?o(u)?l.showCaret(e,n,u.getNode(-1===e),1===e):o(d=i(u))&&(m=u,g=d,!(b=r.isInSameBlock(m,g))&&s.isBr(m.getNode())||b)?l.showCaret(e,n,d.getNode(-1===e),1===e):h?l.renderRangeCaret(n,u.toRange()):null:h?a:null)},y=function(t,r,o){var a,s,l,c,u=new i(t.getBody()),f=d.curry(g,u.next),p=d.curry(g,u.prev);if(o.collapsed&&t.settings.forced_root_block){if(!(a=t.dom.getParent(o.startContainer,"PRE")))return;(1===r?f(n.fromRangeStart(o)):p(n.fromRangeStart(o)))||(c=(l=t).dom.create(l.settings.forced_root_block),(!e.ie||e.ie>=11)&&(c.innerHTML='<br data-mce-bogus="1">'),s=c,1===r?t.$(a).after(s):t.$(a).before(s),t.selection.select(s,!0),t.selection.collapse())}},w=function(e,t){var n,r=t?1:-1,i=t?a.downUntil:a.upUntil,s=e.selection.getRng();return(n=function(e,t,n,r){var i,s,c,d,g,b,y,w,x;if(x=p(r),i=v(e,t.getBody(),r),s=n(t.getBody(),a.isAboveLine(1),i),c=u.filter(s,a.isLine(1)),g=u.last(i.getClientRects()),m(i)&&(x=i.getNode()),h(i)&&(x=i.getNode(!0)),!g)return null;if(b=g.left,(d=o.findClosestClientRect(c,b))&&f(d.node))return y=Math.abs(b-d.left),w=Math.abs(b-d.right),l.showCaret(e,t,d.node,y<w);if(x){var C=a.positionsUntil(e,t.getBody(),a.isAboveLine(1),x);if(d=o.findClosestClientRect(u.filter(C,a.isLine(1)),b))return l.renderRangeCaret(t,d.position.toRange());if(d=u.last(u.filter(C,a.isLine(0))))return l.renderRangeCaret(t,d.position.toRange())}}(r,e,i,s))?n:(n=y(e,r,s))||null};return{moveH:function(e,t){return function(){var n,r,o,a,s,l,c,u,f,p,v=(r=t,a=new i((n=e).getBody()),s=d.curry(g,a.next),l=d.curry(g,a.prev),c=r?1:-1,u=r?s:l,f=r?m:h,p=n.selection.getRng(),(o=b(c,n,u,f,p))?o:(o=y(n,c,p))||null);return!!v&&(e.selection.setRng(v),!0)}},moveV:function(e,t){return function(){var n=w(e,t);return!!n&&(e.selection.setRng(n),!0)}}}}),r("79",["1i","1","4t"],function(e,t,n){var r=function(r,i){return e.bind((o=r,e.map(o,function(e){return n.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:t.noop},e)})),function(e){return t=e,(n=i).keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey?[e]:[];var t,n});var o};return{match:r,action:function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}},execute:function(t,n){return e.find(r(t,n),function(e){return e.action()})}}}),r("70",["3d","5p","78","79","1g"],function(e,t,n,r,i){return{setup:function(o,a){o.on("keydown",function(s){var l,c,u,d;!1===s.isDefaultPrevented()&&(l=o,c=a,u=s,d=e.detect().os,r.execute([{keyCode:i.RIGHT,action:n.moveH(l,!0)},{keyCode:i.LEFT,action:n.moveH(l,!1)},{keyCode:i.UP,action:n.moveV(l,!1)},{keyCode:i.DOWN,action:n.moveV(l,!0)},{keyCode:i.RIGHT,action:t.move(l,c,!0)},{keyCode:i.LEFT,action:t.move(l,c,!1)},{keyCode:i.RIGHT,ctrlKey:!d.isOSX(),altKey:d.isOSX(),action:t.moveNextWord(l,c)},{keyCode:i.LEFT,ctrlKey:!d.isOSX(),altKey:d.isOSX(),action:t.movePrevWord(l,c)}],u).each(function(e){u.preventDefault()}))})}}}),r("7a",["1i","1","1v","3h","32","5l","3y","3l","5s","2f"],function(e,t,n,r,i,o,a,s,l,c){var u=function(e){return 1===r.children(e).length},d=function(r,d){var f,p,h,m=n.fromDom(r.getBody()),g=n.fromDom(r.selection.getStart()),v=e.filter((f=m,p=g,h=l.parentsAndSelf(p,f),e.findIndex(h,s.isBlock).fold(t.constant(h),function(e){return h.slice(0,e)})),u);return e.last(v).map(function(n){var s=i.fromRangeStart(r.selection.getRng());return!!a.willDeleteLastPositionInElement(d,s,n.dom())&&(function(n,r,i,a){var s=t.curry(c.isFormatElement,r),l=e.map(e.filter(a,s),function(e){return e.dom()});if(0===l.length)o.deleteElement(r,n,i);else{var u=c.replaceWithCaretFormat(i.dom(),l);r.selection.setRng(u.toRange())}}(d,r,n,v),!0)}).getOr(!1)};return{backspaceDelete:function(e,t){return!!e.selection.isCollapsed()&&d(e,t)}}}),r("71",["3v","3w","3x","3z","7a","40","79","1g"],function(e,t,n,r,i,o,a,s){return{setup:function(l,c){l.on("keydown",function(u){var d,f,p;!1===u.isDefaultPrevented()&&(d=l,f=c,p=u,a.execute([{keyCode:s.BACKSPACE,action:a.action(n.backspaceDelete,d,!1)},{keyCode:s.DELETE,action:a.action(n.backspaceDelete,d,!0)},{keyCode:s.BACKSPACE,action:a.action(r.backspaceDelete,d,f,!1)},{keyCode:s.DELETE,action:a.action(r.backspaceDelete,d,f,!0)},{keyCode:s.BACKSPACE,action:a.action(t.backspaceDelete,d,!1)},{keyCode:s.DELETE,action:a.action(t.backspaceDelete,d,!0)},{keyCode:s.BACKSPACE,action:a.action(e.backspaceDelete,d,!1)},{keyCode:s.DELETE,action:a.action(e.backspaceDelete,d,!0)},{keyCode:s.BACKSPACE,action:a.action(o.backspaceDelete,d,!1)},{keyCode:s.DELETE,action:a.action(o.backspaceDelete,d,!0)},{keyCode:s.BACKSPACE,action:a.action(i.backspaceDelete,d,!1)},{keyCode:s.DELETE,action:a.action(i.backspaceDelete,d,!0)}],p).each(function(e){p.preventDefault()}))}),l.on("keyup",function(e){var t,r;!1===e.isDefaultPrevented()&&(t=l,r=e,a.execute([{keyCode:s.BACKSPACE,action:a.action(n.paddEmptyElement,t)},{keyCode:s.DELETE,action:a.action(n.paddEmptyElement,t)}],r))})}}}),r("6p",[],function(){var e=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var i=e.getParam(t,"","hash");return i.hasOwnProperty(e.id)?i[e.id]:n}return r};return{getIframeAttrs:function(e){return e.getParam("iframe_attrs",{})},getDocType:function(e){return e.getParam("doctype","<!DOCTYPE html>")},getDocumentBaseUrl:function(e){return e.getParam("document_base_url","")},getBodyId:function(t){return e(t,"body_id","tinymce")},getBodyClass:function(t){return e(t,"body_class","")},getContentSecurityPolicy:function(e){return e.getParam("content_security_policy","")},shouldPutBrInPre:function(e){return e.getParam("br_in_pre",!0)},getForcedRootBlock:function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":t},getForcedRootBlockAttrs:function(e){return e.getParam("forced_root_block_attrs",{})},getBrNewLineSelector:function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},getNoNewLineSelector:function(e){return e.getParam("no_newline_selector","")},shouldKeepStyles:function(e){return e.getParam("keep_styles",!0)},shouldEndContainerOnEmtpyBlock:function(e){return e.getParam("end_container_on_empty_block",!1)}}}),r("7l",["1","2n","1v","3l","1y","s"],function(e,t,n,r,i,o){var a=function(e){return t.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))};return{moveToCaretPosition:function(e,t){var n,r,a,s=t,l=e.dom,c=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var u=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(l.doc.createTextNode(""),t.firstChild)}if(a=l.createRng(),t.normalize(),t.hasChildNodes()){for(n=new o(t,t);r=n.current();){if(i.isText(r)){a.setStart(r,0),a.setEnd(r,0);break}if(c[r.nodeName.toLowerCase()]){a.setStartBefore(r),a.setEndBefore(r);break}s=r,r=n.next()}r||(a.setStart(s,0),a.setEnd(s,0))}else i.isBr(t)?t.nextSibling&&l.isBlock(t.nextSibling)?(a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));e.selection.setRng(a),l.remove(void 0),e.selection.scrollIntoView(t)}},getEditableRoot:function(e,t){var n,r,i=e.getRoot();for(n=t;n!==i&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i},getParentBlock:a,getParentBlockName:function(t){return a(t).fold(e.constant(""),function(e){return e.nodeName.toUpperCase()})},isListItemParentBlock:function(e){return a(e).filter(function(e){return r.isListItem(n.fromDom(e))}).isSome()}}}),r("7k",["1y","7l"],function(e,t){var n=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},r=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},i=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},o=function(t,n,r){for(var i=t[r?"firstChild":"lastChild"];i&&!e.isElement(i);)i=i[r?"nextSibling":"previousSibling"];return i===n};return{insert:function(e,a,s,l,c){var u,d,f,p=e.dom,h=e.selection.getRng();if(s!==e.getBody()){r(f=s)&&r(f.parentNode)&&(c="LI");var m=c?a(c):p.create("BR");if(o(s,l,!0)&&o(s,l,!1))n(s,"LI")?p.insertAfter(m,i(s)):p.replace(m,s);else if(o(s,l,!0))n(s,"LI")?(p.insertAfter(m,i(s)),m.appendChild(p.doc.createTextNode(" ")),m.appendChild(s)):s.parentNode.insertBefore(m,s);else if(o(s,l,!1))p.insertAfter(m,i(s));else{s=i(s);var g=h.cloneRange();g.setStartAfter(l),g.setEndAfter(s);var v=g.extractContents();"LI"===c&&(d="LI",(u=v).firstChild&&u.firstChild.nodeName===d)?(m=v.firstChild,p.insertAfter(v,s)):(p.insertAfter(v,s),p.insertAfter(m,s))}p.remove(l),t.moveToCaretPosition(e,m)}}}}),r("7i",["6p","46","1y","s","2f","7k","7l","2t","4b","1e"],function(e,t,n,r,i,o,a,s,l,c){var u=function(e){e.innerHTML='<br data-mce-bogus="1">'},d=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},f=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},p=function(e,t,r){return!1===n.isText(t)?r:e?1===r&&t.data.charAt(r-1)===l.ZWSP?0:r:r===t.data.length-1&&t.data.charAt(r)===l.ZWSP?t.data.length:r},h=function(e,t){var n,r,i=e.getRoot();for(n=t;n!==i&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i},m=function(t,n){var r=e.getForcedRootBlock(t);r&&r.toLowerCase()===n.tagName.toLowerCase()&&t.dom.setAttribs(n,e.getForcedRootBlockAttrs(t))};return{insert:function(g,v){var b,y,w,x,C,$,S,k,T,_,E,D,A,N,R,O,P,I,M=g.dom,L=g.schema,B=L.getNonEmptyElements(),F=g.selection.getRng(),j=function(t){var n,r,o,a=w,s=L.getTextInlineElements();if(t||"TABLE"===_||"HR"===_?(n=M.create(t||D),m(g,n)):n=C.cloneNode(!1),o=n,!1===e.shouldKeepStyles(g))M.setAttrib(n,"style",null),M.setAttrib(n,"class",null);else do{if(s[a.nodeName]){if(i.isCaretNode(a))continue;r=a.cloneNode(!1),M.setAttrib(r,"id",""),n.hasChildNodes()?(r.appendChild(n.firstChild),n.appendChild(r)):(o=r,n.appendChild(r))}}while((a=a.parentNode)&&a!==y);return u(o),n},z=function(e){var t,i,o,a;if(a=p(e,w,x),n.isText(w)&&(e?a>0:a<w.nodeValue.length))return!1;if(w.parentNode===C&&A&&!e)return!0;if(e&&n.isElement(w)&&w===C.firstChild)return!0;if(d(w,"TABLE")||d(w,"HR"))return A&&!e||!A&&e;for(t=new r(w,C),n.isText(w)&&(e&&0===a?t.prev():e||a!==w.nodeValue.length||t.next());i=t.current();){if(n.isElement(i)){if(!i.getAttribute("data-mce-bogus")&&(o=i.nodeName.toLowerCase(),B[o]&&"br"!==o))return!1}else if(n.isText(i)&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;e?t.prev():t.next()}return!0},U=function(){S=/^(H[1-6]|PRE|FIGURE)$/.test(_)&&"HGROUP"!==E?j(D):j(),e.shouldEndContainerOnEmtpyBlock(g)&&f(M,T)&&M.isEmpty(C)?S=M.split(T,C):M.insertAfter(S,C),a.moveToCaretPosition(g,S)};if(s.normalize(M,F).each(function(e){F.setStart(e.startContainer,e.startOffset),F.setEnd(e.endContainer,e.endOffset)}),w=F.startContainer,x=F.startOffset,D=e.getForcedRootBlock(g),$=v.shiftKey,n.isElement(w)&&w.hasChildNodes()&&(A=x>w.childNodes.length-1,w=w.childNodes[Math.min(x,w.childNodes.length-1)]||w,x=A&&n.isText(w)?w.nodeValue.length:0),y=h(M,w))return(D&&!$||!D&&$)&&(w=function(e,t,n,r,i){var o,a,s,l,c,u,d,p=t||"P",g=e.dom,v=h(g,r);if(!(a=g.getParent(r,g.isBlock))||!f(g,a)){if(u=(a=a||v)===e.getBody()||(d=a)&&/^(TD|TH|CAPTION)$/.test(d.nodeName)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=g.create(p),m(e,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=r;l.parentNode!==a;)l=l.parentNode;for(;l&&!g.isBlock(l);)s=l,l=l.previousSibling;if(s&&e.schema.isValidChild(u,p.toLowerCase())){for(o=g.create(p),m(e,o),s.parentNode.insertBefore(o,s),l=s;l&&!g.isBlock(l);)c=l.nextSibling,o.appendChild(l),l=c;n.setStart(r,i),n.setEnd(r,i)}}return r}(g,D,F,w,x)),C=M.getParent(w,M.isBlock),T=C?M.getParent(C.parentNode,M.isBlock):null,_=C?C.nodeName.toUpperCase():"","LI"!==(E=T?T.nodeName.toUpperCase():"")||v.ctrlKey||(C=T,T=T.parentNode,_=E),/^(LI|DT|DD)$/.test(_)&&M.isEmpty(C)?void o.insert(g,j,T,C,D):void(D&&C===g.getBody()||(D=D||"P",t.isCaretContainerBlock(C)?(S=t.showCaretContainerBlock(C),M.isEmpty(C)&&u(C),a.moveToCaretPosition(g,S)):z()?U():z(!0)?(S=C.parentNode.insertBefore(j(),C),a.moveToCaretPosition(g,d(C,"HR")?S:C)):(b=(P=F,I=P.cloneRange(),I.setStart(P.startContainer,p(!0,P.startContainer,P.startOffset)),I.setEnd(P.endContainer,p(!1,P.endContainer,P.endOffset)),I).cloneRange(),b.setEndAfter(C),k=b.extractContents(),function(e){do{n.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(k),S=k.firstChild,M.insertAfter(k,C),function(e,t,r){var i,o,a=r,s=[];if(a){for(;a=a.firstChild;){if(e.isBlock(a))return;n.isElement(a)&&!t[a.nodeName.toLowerCase()]&&s.push(a)}for(i=s.length;i--;)!(a=s[i]).hasChildNodes()||a.firstChild===a.lastChild&&""===a.firstChild.nodeValue?e.remove(a):(o=a)&&"A"===o.nodeName&&0===c.trim(l.trim(o.innerText||o.textContent)).length&&e.remove(a)}}(M,B,S),N=M,R=C,R.normalize(),(O=R.lastChild)&&!/^(left|right)$/gi.test(N.getStyle(O,"float",!0))||N.add(R,"br"),M.isEmpty(C)&&u(C),S.normalize(),M.isEmpty(S)?(M.remove(S),U()):a.moveToCaretPosition(g,S)),M.setAttrib(S,"id",""),g.fire("NewBlock",{newBlock:S})))}}}),r("7m",["1v","2z","6p","7l"],function(e,t,n,r){var i=function(n,i){return r.getParentBlock(n).filter(function(n){return i.length>0&&t.is(e.fromDom(n),i)}).isSome()};return{shouldInsertBr:function(e){return i(e,n.getBrNewLineSelector(e))},shouldBlockNewLine:function(e){return i(e,n.getNoNewLineSelector(e))}}}),r("7j",["5n","1i","2n","6p","7m","7l","5o"],function(e,t,n,r,i,o,a){var s=e.generate([{br:[]},{block:[]},{none:[]}]),l=function(e,t){return i.shouldBlockNewLine(e)},c=function(e){return function(t,n){return""===r.getForcedRootBlock(t)===e}},u=function(e){return function(t,n){return o.isListItemParentBlock(t)===e}},d=function(e){return function(t,n){return"PRE"===o.getParentBlockName(t)===e}},f=function(e){return function(t,n){return r.shouldPutBrInPre(t)===e}},p=function(e,t){return i.shouldInsertBr(e)},h=function(e,t){return t},m=function(e){var t=r.getForcedRootBlock(e),n=o.getEditableRoot(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},g=function(e,r){return function(i,o){return t.foldl(e,function(e,t){return e&&t(i,o)},!0)?n.some(r):n.none()}};return{getAction:function(e,t){return a.evaluateUntil([g([l],s.none()),g([d(!0),f(!1),h],s.br()),g([d(!0),f(!1)],s.block()),g([d(!0),f(!0),h],s.block()),g([d(!0),f(!0)],s.br()),g([u(!0),h],s.br()),g([u(!0)],s.block()),g([c(!0),h,m],s.block()),g([c(!0)],s.br()),g([p],s.br()),g([c(!1),h],s.br()),g([m],s.block())],[e,t.shiftKey]).getOr(s.none())}}}),r("7b",["1","7i","1z","7j"],function(e,t,n,r){return{insert:function(i,o){r.getAction(i,o).fold(function(){n.insert(i,o)},function(){t.insert(i,o)},e.noop)}}}),r("72",["7b","1g"],function(e,t){return{setup:function(n){n.on("keydown",function(r){var i,o,a;r.keyCode===t.ENTER&&(i=n,(o=r).isDefaultPrevented()||(o.preventDefault(),(a=i.undoManager).typing&&(a.typing=!1,a.add()),i.undoManager.transact(function(){!1===i.selection.isCollapsed()&&i.execCommand("Delete"),e.insert(i,o)})))})}}}),r("7c",["1","32","1y","43","44"],function(e,t,n,r,i){var o=function(e,t,r){return!(c=r,u=t,!a(c)||!n.isText(u.container())||(i=e,o=t,s=o.container(),l=o.offset(),s.insertData(l,""),i.selection.setCursorLocation(s,l+1),0));var i,o,s,l,c,u},a=function(t){return t.fold(e.constant(!1),e.constant(!0),e.constant(!0),e.constant(!1))};return{insertAtSelection:function(n){return!!n.selection.isCollapsed()&&(a=n,s=e.curry(i.isInlineTarget,a),l=t.fromRangeStart(a.selection.getRng()),r.readLocation(s,a.getBody(),l).map(e.curry(o,a,l)).getOr(!1));var a,s,l}}}),r("73",["7c","79","1g"],function(e,t,n){return{setup:function(r){r.on("keydown",function(i){var o,a;!1===i.isDefaultPrevented()&&(o=r,a=i,t.execute([{keyCode:n.SPACEBAR,action:t.action(e.insertAtSelection,o)}],a).each(function(e){a.preventDefault()}))})}}}),r("6n",["70","5p","71","72","73"],function(e,t,n,r,i){return{setup:function(o){var a=t.setupSelectedState(o);e.setup(o,a),n.setup(o,a),r.setup(o),i.setup(o)}}}),r("6o",["1j","2","b","46","2s","15","1e","1g"],function(e,t,n,r,i,o,a,s){return function(l){var c,u,d,f=a.each,p=s.BACKSPACE,h=s.DELETE,m=l.dom,g=l.selection,v=l.settings,b=l.parser,y=n.gecko,w=n.ie,x=n.webkit,C="data:text/mce-internal,",$=w?"Text":"URL",S=function(e,t){try{l.getDoc().execCommand(e,!1,t)}catch(e){}},k=function(e){return e.isDefaultPrevented()},T=function(){l.shortcuts.add("meta+a",null,"SelectAll")},_=function(){l.on("keydown",function(e){if(!k(e)&&e.keyCode===p&&g.isCollapsed()&&0===g.getRng(!0).startOffset){var t=g.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},E=function(){l.inline||(l.contentStyles.push("body {min-height: 150px}"),l.on("click",function(e){var t;if("HTML"==e.target.nodeName){if(n.ie>11)return void l.getBody().focus();t=l.selection.getRng(),l.getBody().focus(),l.selection.setRng(t),l.selection.normalize(),l.nodeChanged()}}))},D=function(){};return l.on("keydown",function(e){var t,n,r,i,o;if(!k(e)&&e.keyCode==s.BACKSPACE&&(n=(t=g.getRng()).startContainer,r=t.startOffset,i=m.getRoot(),o=n,t.collapsed&&0===r)){for(;o&&o.parentNode&&o.parentNode.firstChild==o&&o.parentNode!=i;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(l.formatter.toggle("blockquote",null,o),(t=m.createRng()).setStart(n,0),t.setEnd(n,0),g.setRng(t))}}),d=function(e){var t=m.create("body"),n=e.cloneContents();return t.appendChild(n),g.serializer.serialize(t,{format:"html"})},l.on("keydown",function(e){var t,n,r,i,o,a=e.keyCode;if(!k(e)&&(a==h||a==p)){if(t=l.selection.isCollapsed(),n=l.getBody(),t&&!m.isEmpty(n))return;if(!t&&(r=l.selection.getRng(),i=d(r),(o=m.createRng()).selectNode(l.getBody()),i!==d(o)))return;e.preventDefault(),l.setContent(""),n.firstChild&&m.isBlock(n.firstChild)?l.selection.setCursorLocation(n.firstChild,0):l.selection.setCursorLocation(n,0),l.nodeChanged()}}),n.windowsPhone||l.on("keyup focusin mouseup",function(e){s.modifierPressed(e)||g.normalize()},!0),x&&(l.settings.content_editable||m.bind(l.getDoc(),"mousedown mouseup",function(e){var t;if(e.target==l.getDoc().documentElement)if(t=g.getRng(),l.getBody().focus(),"mousedown"==e.type){if(r.isCaretContainer(t.startContainer))return;g.placeCaretAt(e.clientX,e.clientY)}else g.setRng(t)}),l.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==m.getContentEditableParent(t)&&(e.preventDefault(),l.selection.select(t),l.nodeChanged()),"A"==t.nodeName&&m.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),g.select(t))}),v.forced_root_block&&l.on("init",function(){S("DefaultParagraphSeparator",v.forced_root_block)}),l.on("init",function(){l.dom.bind(l.getBody(),"submit",function(e){e.preventDefault()})}),_(),b.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()}),n.iOS?(l.inline||l.on("keydown",function(){e.activeElement==e.body&&l.getWin().focus()}),E(),l.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),l.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):T()),n.ie>=11&&(E(),_()),n.ie&&(T(),S("AutoUrlDetect",!1),l.on("dragstart",function(e){var t,n,r;(t=e).dataTransfer&&(l.selection.isCollapsed()&&"IMG"==t.target.tagName&&g.select(t.target),(n=l.selection.getContent()).length>0&&(r=C+escape(l.id)+","+escape(n),t.dataTransfer.setData($,r)))}),l.on("drop",function(e){if(!k(e)){var t=(a=e).dataTransfer&&(s=a.dataTransfer.getData($))&&s.indexOf(C)>=0?(s=s.substr(C.length).split(","),{id:unescape(s[0]),html:unescape(s[1])}):null;if(t&&t.id!=l.id){e.preventDefault();var n=i.fromPoint(e.x,e.y,l.getDoc());g.setRng(n),r=t.html,o=!0,l.queryCommandSupported("mceInsertClipboardContent")?l.execCommand("mceInsertClipboardContent",!1,{content:r,internal:o}):l.execCommand("mceInsertContent",!1,r)}}var r,o,a,s})),y&&(l.on("keydown",function(e){if(!k(e)&&e.keyCode===p){if(!l.getBody().getElementsByTagName("hr").length)return;if(g.isCollapsed()&&0===g.getRng(!0).startOffset){var t=g.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return m.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(m.remove(n),e.preventDefault())}}}),t.Range.prototype.getClientRects||l.on("mousedown",function(e){if(!k(e)&&"HTML"===e.target.nodeName){var t=l.getBody();t.blur(),o.setEditorTimeout(l,function(){t.focus()})}}),c=function(){var e=m.getAttribs(g.getStart().cloneNode(!1));return function(){var t=g.getStart();t!==l.getBody()&&(m.setAttrib(t,"style",null),f(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}},u=function(){return!g.isCollapsed()&&m.getParent(g.getStart(),m.isBlock)!=m.getParent(g.getEnd(),m.isBlock)},l.on("keypress",function(e){var t;if(!k(e)&&(8==e.keyCode||46==e.keyCode)&&u())return t=c(),l.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),m.bind(l.getDoc(),"cut",function(e){var t;!k(e)&&u()&&(t=c(),o.setEditorTimeout(l,function(){t()}))}),v.readonly||l.on("BeforeExecCommand MouseDown",function(){D(),S("StyleWithCSS",!1),S("enableInlineTableEditing",!1),v.object_resizing||S("enableObjectResizing",!1)}),l.on("SetContent ExecCommand",function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||f(m.select("a"),function(e){var t=e.parentNode,n=m.getRoot();if(t.lastChild===e){for(;t&&!m.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}m.add(t,"br",{"data-mce-bogus":1})}})}),l.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),n.mac&&l.on("keydown",function(e){!s.metaKeyPressed(e)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),l.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))}),_()),{refreshContentEditable:D,isHidden:function(){var e;return!y||l.removed?0:!(e=l.selection.getSel())||!e.rangeCount||0===e.rangeCount}}}}),r("5w",["41","1v","48","1j","2","6i","6j","6k","6l","d","f","k","6m","m","q","u","w","y","6n","15","6o","1e"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b,y,w,x){var C=p.DOM,$=function(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&y.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()},100)};return{initContentBody:function(y,S){var k,T,_,E,D,A,N,R,O,P=y.settings,I=y.getElement(),M=y.getDoc();P.inline||(y.getElement().style.visibility=y.orgVisibility),S||P.content_editable||(M.open(),M.write(y.iframeHTML),M.close()),P.content_editable&&(y.on("remove",function(){var e=this.getBody();C.removeClass(e,"mce-content-body"),C.removeClass(e,"mce-edit-focus"),C.setAttrib(e,"contentEditable",null)}),C.addClass(I,"mce-content-body"),y.contentDocument=M=P.content_document||r,y.contentWindow=P.content_window||i,y.bodyElement=I,P.content_document=P.content_window=null,P.root_name=I.nodeName.toLowerCase()),(k=y.getBody()).disabled=!0,y.readonly=P.readonly,y.readonly||(y.inline&&"static"===C.getStyle(k,"position",!0)&&(k.style.position="relative"),k.contentEditable=y.getParam("content_editable_state",!0)),k.disabled=!1,y.editorUpload=new o(y),y.schema=new v(P),y.dom=new p(M,{keep_values:!0,url_converter:y.convertURL,url_converter_scope:y,hex_colors:P.force_hex_style_colors,class_filter:P.class_filter,update_styles:!0,root_element:y.inline?y.getBody():null,collect:P.content_editable,schema:y.schema,onSetAttrib:function(e){y.fire("SetAttrib",e)}}),y.parser=((O=new m((R=y).settings,R.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,i,o=e.length,a=R.dom;o--;)if(r=(n=e[o]).attr(t),i="data-mce-"+t,!n.attributes.map[i]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===t?((r=a.serializeStyle(a.parseStyle(r),n.name)).length||(r=null),n.attr(i,r),n.attr(t,r)):"tabindex"===t?(n.attr(i,r),n.attr(t,null)):n.attr(i,R.convertURL(r,t,n.name))}}),O.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)0!==(n=(t=e[r]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),O.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),O.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=R.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(r)&&0===t.getAll("br").length&&(t.append(new g("br",1)).shortEnded=!0)}),O),y.serializer=new d(P,y),y.selection=new h(y.dom,y.getWin(),y.serializer,y),y.formatter=new u(y),y.undoManager=new c(y),y._nodeChangeDispatcher=new s(y),y._selectionOverrides=new l(y),f.setup(y),b.setup(y),a.setup(y),y.fire("PreInit"),P.browser_spellcheck||P.gecko_spellcheck||(M.body.spellcheck=!1,C.setAttrib(k,"spellcheck","false")),y.quirks=new w(y),y.fire("PostRender"),P.directionality&&(k.dir=P.directionality),P.nowrap&&(k.style.whiteSpace="nowrap"),P.protect&&y.on("BeforeSetContent",function(e){x.each(P.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),y.on("SetContent",function(){y.addVisual(y.getBody())}),P.padd_empty_editor&&y.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),y.load({initial:!0,format:"html"}),y.startContent=y.getContent({format:"raw"}),y.on("compositionstart compositionend",function(e){y.composing="compositionstart"===e.type}),y.contentStyles.length>0&&(T="",x.each(y.contentStyles,function(e){T+=e+"\r\n"}),y.dom.addStyle(T)),(N=y,N.inline?C.styleSheetLoader:N.dom.styleSheetLoader).loadAll(y.contentCSS,function(e){$(y)},function(e){$(y)}),P.content_style&&(_=y,E=P.content_style,D=t.fromDom(_.getDoc().head),A=t.fromTag("style"),n.set(A,"type","text/css"),e.append(A,t.fromText(E)),e.append(D,A))}}}),r("5x",["1v","48","3g","1j","2","b","6p","m","5w","27"],function(e,t,n,r,i,o,a,s,l,c){var u=s.DOM,d=function(s,d){var f,p,h,m,g,v,b,y=s.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),w=(f=s.id,p=y,h=d.height,m=a.getIframeAttrs(s),b=e.fromTag("iframe"),t.setAll(b,m),t.setAll(b,{id:f+"_ifr",frameBorder:"0",allowTransparency:"true",title:p}),n.setAll(b,{width:"100%",height:(g=h,v="number"==typeof g?g+"px":g,v||""),display:"block"}),b).dom();w.onload=function(){w.onload=null,s.fire("load")};var x,C,$,S,k=function(e,t){if(r.domain!==i.location.hostname&&o.ie&&o.ie<12){var n=c.uuid("mce");e[n]=function(){l.initContentBody(e)};var a='javascript:(function(){document.open();document.domain="'+r.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return u.setAttrib(t,"src",a),!0}return!1}(s,w);return s.contentAreaContainer=d.iframeContainer,s.iframeElement=w,s.iframeHTML=(x=s,S=a.getDocType(x)+"<html><head>",a.getDocumentBaseUrl(x)!==x.documentBaseUrl&&(S+='<base href="'+x.documentBaseURI.getURI()+'" />'),S+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',C=a.getBodyId(x),$=a.getBodyClass(x),a.getContentSecurityPolicy(x)&&(S+='<meta http-equiv="Content-Security-Policy" content="'+a.getContentSecurityPolicy(x)+'" />'),S+'</head><body id="'+C+'" class="mce-content-body '+$+'" data-id="'+x.id+'"><br></body></html>'),u.add(d.iframeContainer,w),k};return{init:function(e,t){var n=d(e,t);t.editorContainer&&(u.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=u.isHidden(t.editorContainer)),e.getElement().style.display="none",u.setAttrib(e.id,"aria-hidden",!0),n||l.initContentBody(e)}}}),r("4j",["28","1j","2","4k","4l","m","5w","5x","1e"],function(e,t,n,r,i,o,a,s,l){var c=o.DOM,u=function(e,t,n){var i,o,a=r.get(n);if(i=r.urls[n]||e.documentBaseUrl.replace(/\/$/,""),n=l.trim(n),a&&-1===l.inArray(t,n)){if(l.each(r.dependencies(n),function(n){u(e,t,n)}),e.plugins[n])return;o=new a(e,i,e.$),e.plugins[n]=o,o.init&&(o.init(e,i),t.push(n))}},d=function(e){return e.replace(/^\-/,"")},f=function(e){return{editorContainer:e,iframeContainer:e}},p=function(e){var t,n,r=e.getElement();return e.inline?f(null):(t=r,n=c.create("div"),c.insertAfter(n,t),f(n))},h=function(t){var n,r,i,o,a,s,l,u,d,f,h,m=t.settings,g=t.getElement();return t.orgDisplay=g.style.display,e.isString(m.theme)?(f=(o=t).settings,h=o.getElement(),a=f.width||c.getStyle(h,"width")||"100%",s=f.height||c.getStyle(h,"height")||h.offsetHeight,l=f.min_height||100,(u=/^[0-9\.]+(|px)$/i).test(""+a)&&(a=Math.max(parseInt(a,10),100)),u.test(""+s)&&(s=Math.max(parseInt(s,10),l)),d=o.theme.renderUI({targetNode:h,width:a,height:s,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(s=(d.iframeHeight||s)+("number"==typeof s?d.deltaHeight||0:""))<l&&(s=l),d.height=s,d):e.isFunction(m.theme)?(i=(n=t).getElement(),(r=n.settings.theme(n,i)).editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||n.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||n.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:i.offsetHeight,r):p(t)};return{init:function(t){var n,r,o,f,p,m,g=t.settings,v=t.getElement();return t.rtl=g.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(g.language),g.aria_label=g.aria_label||c.getAttrib(v,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),m=(f=t).settings.theme,e.isString(m)?(f.settings.theme=d(m),p=i.get(m),f.theme=new p(f,i.urls[m]),f.theme.init&&f.theme.init(f,i.urls[m]||f.documentBaseUrl.replace(/\/$/,""),f.$)):f.theme={},r=t,o=[],l.each(r.settings.plugins.split(/[ ,]/),function(e){u(r,o,d(e))}),n=h(t),t.editorContainer=n.editorContainer?n.editorContainer:null,g.content_css&&l.each(l.explode(g.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),g.content_editable?a.initContentBody(t):s.init(t,n)}}}),r("25",["28","2","g","h","m","o","p","b","29","4j","4k","4l","1e"],function(e,t,n,r,i,o,a,s,l,c,u,d,f){var p=i.DOM,h=function(e){return"-"===e.charAt(0)},m=function(t,n){var r=a.ScriptLoader;!function(t,n,r,i){var o=n.settings,a=o.theme;if(e.isString(a)){if(!h(a)&&!d.urls.hasOwnProperty(a)){var s=o.theme_url;s?d.load(a,n.documentBaseURI.toAbsolute(s)):d.load(a,"themes/"+a+"/theme"+r+".js")}t.loadQueue(function(){d.waitFor(a,i)})}else i()}(r,t,n,function(){var e,i,o,a,s;o=r,(s=(a=t).settings).language&&"en"!==s.language&&!s.language_url&&(s.language_url=a.editorManager.baseURL+"/langs/"+s.language+".js"),s.language_url&&!a.editorManager.i18n.data[s.language]&&o.add(s.language_url),e=t.settings,i=n,f.isArray(e.plugins)&&(e.plugins=e.plugins.join(" ")),f.each(e.external_plugins,function(t,n){u.load(n,t),e.plugins+=" "+n}),f.each(e.plugins.split(/[ ,]/),function(e){if((e=f.trim(e))&&!u.urls[e])if(h(e)){e=e.substr(1,e.length);var t=u.dependencies(e);f.each(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+i+".js"};e=u.createUrl(t,e),u.load(e.resource,e)})}else u.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+i+".js"})}),r.loadQueue(function(){t.removed||c.init(t)},t,function(e){l.pluginLoadError(t,e[0]),t.removed||c.init(t)})})};return{render:function(e){var i=e.settings,a=e.id,l=function(){p.unbind(t,"ready",l),e.render()};if(o.Event.domLoaded){if(e.getElement()&&s.contentEditable){i.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var c=e.getElement().form||p.getParent(a,"form");c&&(e.formElement=c,i.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(p.insertAfter(p.create("input",{type:"hidden",name:a}),a),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},p.bind(c,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!i.submit_patch||c.submit.nodeType||c.submit.length||c._mceOldSubmit||(c._mceOldSubmit=c.submit,c.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)})),e.windowManager=new r(e),e.notificationManager=new n(e),"xml"===i.encoding&&e.on("GetContent",function(e){e.save&&(e.content=p.encode(e.content))}),i.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),i.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),m(e,e.suffix)}}else p.bind(t,"ready",l)}}}),r("26",[],function(){return{add:function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r}}}),r("1f",["1j","1e"],function(e,t){var n=t.each,r=t.trim,i="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),o={ftp:21,http:80,https:443,mailto:25},a=function(t,o){var s,l,c=this;if(t=r(t),s=(o=c.settings=o||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))c.source=t;else{var u=0===t.indexOf("//");0!==t.indexOf("/")||u||(t=(s&&s.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(l=o.base_uri?o.base_uri.path:new a(e.location.href).directory,""===o.base_uri.protocol?t="//mce_host"+c.toAbsPath(l,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(s&&s.protocol||"http")+"://mce_host"+c.toAbsPath(l,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),n(i,function(e,n){var r=t[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),c[e]=r}),s&&(c.protocol||(c.protocol=s.protocol),c.userInfo||(c.userInfo=s.userInfo),c.port||"mce_host"!==c.host||(c.port=s.port),c.host&&"mce_host"!==c.host||(c.host=s.host),c.source=""),u&&(c.protocol="")}};return a.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t;if("./"===e)return e;if("mce_host"!=(e=new a(e,{base_uri:this})).host&&this.host!=e.host&&e.host||this.port!=e.port||this.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),r=e.getURI();return n==r||"/"==n.charAt(n.length-1)&&n.substr(0,n.length-1)==r?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new a(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=o[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,i,o=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(r=0,i=e.length;r<i;r++)if(r>=n.length||e[r]!=n[r]){o=r+1;break}if(e.length<n.length)for(r=0,i=n.length;r<i;r++)if(r>=e.length||e[r]!=n[r]){o=r+1;break}if(1===o)return t;for(r=0,i=e.length-(o-1);r<i;r++)a+="../";for(r=o-1,i=n.length;r<i;r++)a+=r!=o-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var r,i,o,a=0,s=[];for(i=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,function(e){e&&s.push(e)}),e=s,r=t.length-1,s=[];r>=0;r--)0!==t[r].length&&"."!==t[r]&&(".."!==t[r]?a>0?a--:s.push(t[r]):a++);return 0!==(o=(r=e.length-a)<=0?s.reverse().join("/"):e.slice(0,r).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(o="/"+o),i&&o.lastIndexOf("/")!==o.length-1&&(o+=i),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},a.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},a.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},a}),r("7",["6","8","a","21","b","22","c","m","n","23","24","z","25","26","1e","1f","27"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g){var v=s.DOM,b=h.extend,y=h.each,w=h.trim,x=h.resolve,C=i.ie,$=function(n,o,s){var c,u,d=this;c=d.documentBaseUrl=s.documentBaseURL,u=s.baseURI,o=r.getEditorSettings(d,n,c,s.defaultSettings,o),d.settings=o,e.language=o.language||"en",e.languageLoad=o.language_load,e.baseURL=s.baseURL,d.id=n,d.setDirty(!1),d.plugins={},d.documentBaseURI=new m(o.document_base_url,{base_uri:u}),d.baseURI=u,d.contentCSS=[],d.contentStyles=[],d.shortcuts=new a(d),d.loadedCSS={},d.editorCommands=new t(d),d.suffix=s.suffix,d.editorManager=s,d.inline=o.inline,d.buttons={},d.menuItems={},o.cache_suffix&&(i.cacheSuffix=o.cache_suffix.replace(/^[\?\&]+/,"")),!1===o.override_viewport&&(i.overrideViewPort=!1),s.fire("SetupEditor",d),d.execCallback("setup",d),d.$=l.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})};return b($.prototype={render:function(){f.render(this)},focus:function(e){u.focus(this,e)},execCallback:function(e){var t,n=this.settings[e];if(n)return this.callbackLookup&&(t=this.callbackLookup[e])&&(n=t.func,t=t.scope),"string"==typeof n&&(t=(t=n.replace(/\.\w+$/,""))?x(t):0,n=x(n),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:n,scope:t}),n.apply(t||this,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&h.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){var r,i=e in this.settings?this.settings[e]:t;return"hash"===n?(r={},"string"==typeof i?y(i.indexOf("=")>0?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),function(e){(e=e.split("=")).length>1?r[w(e[0])]=w(e[1]):r[w(e[0])]=w(e)}):r=i,r):i},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&void 0===t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),n.buttons=n.buttons,t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return p.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems,n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:g.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(v.show(this.getContainer()),v.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(C&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(v.hide(e.getContainer()),v.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,r=this,i=r.getElement();if(i&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=i,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"==e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(i.nodeName)?i.value=t:(r.inline||(i.innerHTML=t),(n=v.getParent(r.id,"form"))&&y(n.elements,function(e){if(e.name==r.id)return e.value=t,!1})),e.element=i=null,!1!==e.set_dirty&&r.setDirty(!1),t},setContent:function(e,t){var n,r,i=this,o=i.getBody();return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||i.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(r=C&&C<11?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?e="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(e="<li>"+r+"</li>"),(n=i.settings.forced_root_block)&&i.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(e=r,e=i.dom.createHTML(n,i.settings.forced_root_block_attrs,e)):C||e||(e='<br data-mce-bogus="1">'),i.dom.setHTML(o,e),i.fire("SetContent",t)):("raw"!==t.format&&(e=new d({validate:i.validate},i.schema).serialize(i.parser.parse(e,{isRootContent:!0,insert:!0}))),t.content=w(e),i.dom.setHTML(o,t.content),t.no_events||i.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this.getBody();if(this.removed)return"";if((e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||this.fire("BeforeGetContent",e),"raw"===e.format)t=h.trim(c.trimExternal(this.serializer,n.innerHTML));else if("text"===e.format)t=n.innerText||n.textContent;else{if("tree"===e.format)return this.serializer.serialize(n,e);t=this.serializer.serialize(n,e)}return"text"!==e.format?e.content=w(t):e.content=t,e.no_events||this.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=b({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){o.setMode(this,e)},getContainer:function(){return this.container||(this.container=v.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=v.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var t,n=this,r=n.settings,i=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),y(i.select("table,a",e),function(e){var o;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",void((o=i.getAttrib(e,"border"))&&"0"!=o||!n.hasVisual?i.removeClass(e,t):i.addClass(e,t));case"A":return void(i.getAttrib(e,"href",!1)||(o=i.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?i.addClass(e,t):i.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&v.remove(e.getElement().nextSibling),e.inline||(C&&C<10&&e.getDoc().execCommand("SelectAll",!1,null),v.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),v.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t,n=this;if(!n.destroyed){if(!e&&!n.removed)return void n.remove();e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),(t=n.formElement)&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),v.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},n),$}),r("e",["1j"],function(e){return{isEditorUIElement:function(e){return-1!==e.className.toString().indexOf("mce-")}}}),r("4m",["5y","3d","1j","m","20"],function(e,t,n,r,i){var o=function(e,n){var r,o,a=t.detect().browser;a.isIE()||a.isEdge()?(o=e).on("focusout",function(){i.store(o)}):(r=n,e.on("mouseup touchend",function(e){r.throttle()})),e.on("keyup nodechange",function(t){var n;"nodechange"===(n=t).type&&n.selectionChange||i.store(e)})};return{register:function(t){var a,s,l,c=e.first(function(){i.store(t)},0);t.inline&&(a=t,s=c,l=function(){s.throttle()},r.DOM.bind(n,"mouseup",l),a.on("remove",function(){r.DOM.unbind(n,"mouseup",l)})),t.on("init",function(){o(t,c)}),t.on("remove",function(){c.cancel()})}}}),r("2a",["1","1j","e","m","4m","15"],function(e,t,n,r,i,o){var a,s=r.DOM,l=function(e){return n.isEditorUIElement(e)},c=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==s.getParent(t,function(t){return l(t)||!!n&&e.dom.is(t,n)})},u=function(e,n){var r=n.editor;i.register(r),r.on("focusin",function(){var t=e.focusedEditor;t!=r&&(t&&t.fire("blur",{focusedEditor:r}),e.setActive(r),e.focusedEditor=r,r.fire("focus",{blurredEditor:t}),r.focus(!0))}),r.on("focusout",function(){o.setEditorTimeout(r,function(){var n=e.focusedEditor;c(r,function(){try{return t.activeElement}catch(e){return t.body}}())||n!=r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),a||(a=function(n){var r,i=e.activeEditor;r=n.target,i&&r.ownerDocument===t&&(r===t.body||c(i,r)||e.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},s.bind(t,"focusin",a))},d=function(e,n){e.focusedEditor==n.editor&&(e.focusedEditor=null),e.activeEditor||(s.unbind(t,"focusin",a),a=null)};return{setup:function(t){t.on("AddEditor",e.curry(u,t)),t.on("RemoveEditor",e.curry(d,t))},isEditorUIElement:l,isUIElement:c}}),r("17",["1e"],function(e){"use strict";var t={},n="en";return{setCode:function(e){e&&(n=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return n},rtl:!1,add:function(e,n){var r=t[e];for(var i in r||(t[e]=r={}),n)r[i]=n[i];this.setCode(e)},translate:function(r){var i=t[n]||{},o=function(t){return e.is(t,"function")?Object.prototype.toString.call(t):a(t)?"":""+t},a=function(t){return""===t||null===t||e.is(t,"undefined")},s=function(t){return t=o(t),e.hasOwn(i,t)?o(i[t]):t};if(a(r))return"";if(e.is(r,"object")&&e.hasOwn(r,"raw"))return o(r.raw);if(e.is(r,"array")){var l=r.slice(1);r=s(r[0]).replace(/\{([0-9]+)\}/g,function(t,n){return e.hasOwn(l,n)?o(l[n]):t})}return s(r).replace(/{context:\w+}$/,"")},data:t}}),r("9",["1i","28","1j","2","6","7","b","29","m","n","2a","17","1c","1d","1e","1f"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m){var g,v,b=l.DOM,y=h.explode,w=h.each,x=h.extend,C=0,$=!1,S=[],k=[],T=function(e){w(v.get(),function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)})},_=function(e){e!==$&&(e?c(r).on("resize scroll",T):c(r).off("resize scroll",T),$=e)},E=function(t){var n=k;delete S[t.id];for(var r=0;r<S.length;r++)if(S[r]===t){S.splice(r,1);break}return k=e.filter(k,function(e){return t!==e}),v.activeEditor===t&&(v.activeEditor=k.length>0?k[0]:null),v.focusedEditor===t&&(v.focusedEditor=null),n.length!==k.length};return x(v={defaultSettings:{},$:c,majorVersion:"4",minorVersion:"7.4",releaseDate:"2017-12-05",editors:S,i18n:d,activeEditor:null,settings:{},setup:function(){var e,t,i,o,a="";if(t=m.getDocumentBaseUrl(n.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),i=r.tinymce||r.tinyMCEPreInit)e=i.base||i.baseURL,a=i.suffix;else{for(var s=n.getElementsByTagName("script"),l=0;l<s.length;l++){var c=(o=s[l].src).substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!=c.indexOf(".min")&&(a=".min"),e=o.substring(0,o.lastIndexOf("/"));break}}!e&&n.currentScript&&(-1!=(o=n.currentScript.src).indexOf(".min")&&(a=".min"),e=o.substring(0,o.lastIndexOf("/")))}this.baseURL=new m(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new m(this.baseURL),this.suffix=a,u.setup(this)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new m(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new m(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;for(var o in r)i.PluginManager.urls[o]=r[o]},init:function(e){var t,i,l=this;i=h.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var u=function(e){var t=e.id;return t||(t=(t=e.name)&&!b.get(t)?e.name:b.uniqueId(),e.setAttribute("id",t)),t},d=function(e,t){return t.constructor===RegExp?t.test(e.className):b.hasClass(e,t)},f=function(e){t=e},m=function(){var t,p=0,g=[],v=function(e,n,r){var i=new o(e,n,l);g.push(i),i.on("init",function(){++p===t.length&&f(g)}),i.targetElm=i.targetElm||r,i.render()};return b.unbind(r,"ready",m),function(t){var n=e[t];if(n)n.apply(l,Array.prototype.slice.call(arguments,2))}("onpageload"),t=c.unique(function(e){var t,r=[];if(a.ie&&a.ie<11)return s.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return w(e.types,function(e){r=r.concat(b.select(e.selector))}),r;if(e.selector)return b.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":(t=e.elements||"").length>0&&w(y(t),function(e){var t;(t=b.get(e))?r.push(t):w(n.forms,function(t){w(t.elements,function(t){t.name===e&&(e="mce_editor_"+C++,b.setAttrib(t,"id",e),r.push(t))})})});break;case"textareas":case"specific_textareas":w(b.select("textarea"),function(t){e.editor_deselector&&d(t,e.editor_deselector)||e.editor_selector&&!d(t,e.editor_selector)||r.push(t)})}return r}(e)),e.types?void w(e.types,function(n){h.each(t,function(t){return!b.is(t,n.selector)||(v(u(t),x({},e,n),t),!1)})}):(h.each(t,function(e){var t;(t=l.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(E(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}),void(0===(t=h.grep(t,function(e){return!l.get(e.id)})).length?f([]):w(t,function(t){var n;n=t,e.inline&&n.tagName.toLowerCase()in i?s.initError("Could not initialize inline editor on invalid inline target element",t):v(u(t),e,t)})))};return l.settings=e,b.bind(r,"ready",m),new p(function(e){t?e(t):f=function(t){e(t)}})},get:function(n){return 0===arguments.length?k.slice(0):t.isString(n)?e.find(k,function(e){return e.id===n}).getOr(null):t.isNumber(n)&&k[n]?k[n]:null},add:function(e){var t=this;return S[e.id]===e?e:(null===t.get(e.id)&&("length"!==e.id&&(S[e.id]=e),S.push(e),k.push(e)),_(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),g||(g=function(){t.fire("BeforeUnload")},b.bind(r,"beforeunload",g)),e)},createEditor:function(e,t){return this.add(new o(e,t,this))},remove:function(e){var n,i,o=this;if(e)return t.isString(e)?(e=e.selector||e,void w(b.select(e),function(e){(i=o.get(e.id))&&o.remove(i)})):(i=e,t.isNull(o.get(i.id))?null:(E(i)&&o.fire("RemoveEditor",{editor:i}),0===k.length&&b.unbind(r,"beforeunload",g),i.remove(),_(k.length>0),i));for(n=k.length-1;n>=0;n--)o.remove(k[n])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new o(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand("mceAddEditor",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){w(k,function(e){e.save()})},addI18n:function(e,t){d.add(e,t)},translate:function(e){return d.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},f),v.setup(),v}),r("j",["1","2s","2t","2u","2v","2w","2x"],function(e,t,n,r,i,o,a){var s=function(t){return{walk:function(e,n){return o.walk(t,e,n)},split:a.split,normalize:function(r){return n.normalize(t,r).fold(e.constant(!1),function(e){return r.setStart(e.startContainer,e.startOffset),r.setEnd(e.endContainer,e.endOffset),!0})}}};return s.compareRanges=r.isEq,s.getCaretRangeFromPoint=t.fromPoint,s.getSelectedNode=i.getSelectedNode,s.getNode=i.getNode,s}),r("t",[],function(){"use strict";var e=Math.min,t=Math.max,n=Math.round,r=function(e,t,r){var o,a,s,l,c,u;return o=t.x,a=t.y,s=e.w,l=e.h,c=t.w,u=t.h,"b"===(r=(r||"").split(""))[0]&&(a+=u),"r"===r[1]&&(o+=c),"c"===r[0]&&(a+=n(u/2)),"c"===r[1]&&(o+=n(c/2)),"b"===r[3]&&(a-=l),"r"===r[4]&&(o-=s),"c"===r[3]&&(a-=n(l/2)),"c"===r[4]&&(o-=n(s/2)),i(o,a,s,l)},i=function(e,t,n,r){return{x:e,y:t,w:n,h:r}};return{inflate:function(e,t,n){return i(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:r,findBestRelativePosition:function(e,t,n,i){var o,a;for(a=0;a<i.length;a++)if((o=r(e,t,i[a])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return i[a];return null},intersect:function(n,r){var o,a,s,l;return o=t(n.x,r.x),a=t(n.y,r.y),s=e(n.x+n.w,r.x+r.w),l=e(n.y+n.h,r.y+r.h),s-o<0||l-a<0?null:i(o,a,s-o,l-a)},clamp:function(e,n,r){var o,a,s,l,c,u,d,f,p,h;return c=e.x,u=e.y,d=e.x+e.w,f=e.y+e.h,p=n.x+n.w,h=n.y+n.h,o=t(0,n.x-c),a=t(0,n.y-u),s=t(0,d-p),l=t(0,f-h),c+=o,u+=a,r&&(d+=o,f+=a,c-=s,u-=l),i(c,u,(d-=s)-c,(f-=l)-u)},create:i,fromClientRect:function(e){return i(e.left,e.top,e.width,e.height)}}}),r("12",[],function(){"use strict";var e={};return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},get:function(t){var n=t.toLowerCase(),r=e.hasOwnProperty(n)?e[n]:null;if(null===r)throw new Error("Could not find module for type: "+t);return r},create:function(t,n){var r;if("string"==typeof t?(n=n||{}).type=t:t=(n=t).type,t=t.toLowerCase(),!(r=e[t]))throw new Error("Could not find control by type: "+t);return(r=new r(n)).type=t,r}}}),r("13",["1e"],function(e){var t,n,r=e.each,i=e.extend,o=function(){};return o.extend=t=function(e){var o,a,s,l=this.prototype,c=function(){var e,t,r;if(!n&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(r=t[e]).init&&r.init.apply(this,arguments)},u=function(){return this},d=function(e,t){return function(){var n,r=this._super;return this._super=l[e],n=t.apply(this,arguments),this._super=r,n}};for(a in n=!0,o=new this,n=!1,e.Mixins&&(r(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),l.Mixins&&(e.Mixins=l.Mixins.concat(e.Mixins))),e.Methods&&r(e.Methods.split(","),function(t){e[t]=u}),e.Properties&&r(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}}),e.Statics&&r(e.Statics,function(e,t){c[t]=e}),e.Defaults&&l.Defaults&&(e.Defaults=i({},l.Defaults,e.Defaults)),e)"function"==typeof(s=e[a])&&l[a]?o[a]=d(a,s):o[a]=s;return c.prototype=o,c.constructor=c,c.extend=t,c},o}),r("14",[],function(){var e=Math.min,t=Math.max,n=Math.round;return function(r){var i=this,o=0,a=0,s=0,l=function(r){var l;return"object"==typeof r?"r"in r?(o=r.r,a=r.g,s=r.b):"v"in r&&function(r,i,l){var c,u,d,f;if(r=(parseInt(r,10)||0)%360,i=parseInt(i,10)/100,l=parseInt(l,10)/100,i=t(0,e(i,1)),l=t(0,e(l,1)),0!==i){switch(c=r/60,d=(u=l*i)*(1-Math.abs(c%2-1)),f=l-u,Math.floor(c)){case 0:o=u,a=d,s=0;break;case 1:o=d,a=u,s=0;break;case 2:o=0,a=u,s=d;break;case 3:o=0,a=d,s=u;break;case 4:o=d,a=0,s=u;break;case 5:o=u,a=0,s=d;break;default:o=a=s=0}o=n(255*(o+f)),a=n(255*(a+f)),s=n(255*(s+f))}else o=a=s=n(255*l)}(r.h,r.s,r.v):(l=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(r))?(o=parseInt(l[1],10),a=parseInt(l[2],10),s=parseInt(l[3],10)):(l=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(r))?(o=parseInt(l[1],16),a=parseInt(l[2],16),s=parseInt(l[3],16)):(l=/#([0-F])([0-F])([0-F])/gi.exec(r))&&(o=parseInt(l[1]+l[1],16),a=parseInt(l[2]+l[2],16),s=parseInt(l[3]+l[3],16)),o=o<0?0:o>255?255:o,a=a<0?0:a>255?255:a,s=s<0?0:s>255?255:s,i};r&&l(r),i.toRgb=function(){return{r:o,g:a,b:s}},i.toHsv=function(){return r=o,i=a,l=s,c=0,u=0,(d=e(r/=255,e(i/=255,l/=255)))==(f=t(r,t(i,l)))?{h:0,s:0,v:100*(u=d)}:(c=(f-d)/f,u=f,{h:n(60*((r==d?3:l==d?1:5)-(r==d?i-l:l==d?r-i:l-r)/(f-d))),s:n(100*c),v:n(100*u)});var r,i,l,c,u,d,f},i.toHex=function(){var e=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+e(o)+e(a)+e(s)},i.parse=l}}),r("18",["2"],function(e){var t=function(e,n){var r,i,o,a;if(n=n||'"',null===e)return"null";if("string"==(o=typeof e))return i="\bb\tt\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(r=i.indexOf(t))+1?"\\"+i.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"==o){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(r=0,i="[";r<e.length;r++)i+=(r>0?",":"")+t(e[r],n);return i+"]"}for(a in i="{",e)e.hasOwnProperty(a)&&(i+="function"!=typeof e[a]?(i.length>1?","+n:n)+a+n+":"+t(e[a],n):"");return i+"}"}return""+e};return{serialize:t,parse:function(t){try{return e[String.fromCharCode(101)+"val"]("("+t+")")}catch(e){}}}}),r("19",["m"],function(e){return{callbacks:{},count:0,send:function(t){var n=this,r=e.DOM,i=void 0!==t.count?t.count:n.count,o="tinymce_jsonp_"+i;n.callbacks[i]=function(e){r.remove(o),delete n.callbacks[i],t.callback(e)},r.add(r.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),n.count++}}}),r("1h",["39","1q","1c","1e"],function(e,t,n,r){var i={send:function(n){var o,a=0,s=function(){!n.async||4==o.readyState||a++>1e4?(n.success&&a<1e4&&200==o.status?n.success.call(n.success_scope,""+o.responseText,o,n):n.error&&n.error.call(n.error_scope,a>1e4?"TIMED_OUT":"GENERAL",o,n),o=null):t(s,10)};if(n.scope=n.scope||this,n.success_scope=n.success_scope||n.scope,n.error_scope=n.error_scope||n.scope,n.async=!1!==n.async,n.data=n.data||"",i.fire("beforeInitialize",{settings:n}),o=new e){if(o.overrideMimeType&&o.overrideMimeType(n.content_type),o.open(n.type||(n.data?"POST":"GET"),n.url,n.async),n.crossDomain&&(o.withCredentials=!0),n.content_type&&o.setRequestHeader("Content-Type",n.content_type),n.requestheaders&&r.each(n.requestheaders,function(e){o.setRequestHeader(e.key,e.value)}),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),(o=i.fire("beforeSend",{xhr:o,settings:n}).xhr).send(n.data),!n.async)return s();t(s,10)}}};return r.extend(i,n),i}),r("1a",["18","1h","1e"],function(e,t,n){var r=n.extend,i=function(e){this.settings=r({},e),this.count=0};return i.sendRPC=function(e){return(new i).send(e)},i.prototype={send:function(n){var i=n.error,o=n.success;(n=r(this.settings,n)).success=function(t,r){void 0===(t=e.parse(t))&&(t={error:"JSON Parse error."}),t.error?i.call(n.error_scope||n.scope,t.error,r):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},i}),r("1b",["1j","2"],function(e,t){var n,r,i,o,a,s;try{if(t.localStorage)return t.localStorage}catch(e){}a="tinymce",r=e.documentElement,(s=!!r.addBehavior)&&r.addBehavior("#default#userData");var l=function(){for(var e in o=[],i)o.push(e);n.length=o.length},c=function(){var e,t="";if(s){for(var n in i)e=i[n],t+=(t?",":"")+n.length.toString(32)+","+n+","+e.length.toString(32)+","+e;r.setAttribute(a,t);try{r.save(a)}catch(e){}l()}};return n={key:function(e){return o[e]},getItem:function(e){return e in i?i[e]:null},setItem:function(e,t){i[e]=""+t,c()},removeItem:function(e){delete i[e],c()},clear:function(){i={},c()}},function(){var e,t,n,o=0;if(i={},s){var c=function(e){var n,r;return-1===(r=void 0!==e?o+e:t.indexOf(",",o))||r>t.length?null:(n=t.substring(o,r),o=r+1,n)};r.load(a),t=r.getAttribute(a)||"";do{var u=c();if(null===u)break;if(null!==(e=c(parseInt(u,32)||0))){if(null===(u=c()))break;n=c(parseInt(u,32)||0),e&&(i[e]=n)}}while(null!==e);l()}}(),n}),r("3",["6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","1g","1h"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b,y,w,x,C,$,S,k,T,_,E,D,A,N,R,O,P,I,M,L,B,F,j,z,U,H,q,V,W,Y){var G=r,X={geom:{Rect:$},util:{Promise:H,Delay:I,Tools:q,VK:W,URI:V,Class:O,EventDispatcher:M,Observable:U,I18n:L,XHR:Y,JSON:B,JSONRequest:j,JSONP:F,LocalStorage:z,Color:P},dom:{EventUtils:b,Sizzle:x,DomQuery:v,TreeWalker:C,DOMUtils:g,ScriptLoader:y,RangeUtils:p,Serializer:h,ControlSelection:m,BookmarkManager:f,Selection:w,Event:b.Event},html:{Styles:A,Entities:k,Node:T,Schema:E,SaxParser:_,DomParser:S,Writer:N,Serializer:D},ui:{Factory:R},Env:o,AddOnManager:e,Formatter:c,UndoManager:s,EditorCommands:n,WindowManager:d,NotificationManager:u,EditorObservable:i,Shortcuts:a,Editor:t,FocusManager:l,EditorManager:r,DOM:g.DOM,ScriptLoader:y.ScriptLoader,PluginManager:e.PluginManager,ThemeManager:e.ThemeManager,trim:q.trim,isArray:q.isArray,is:q.is,toArray:q.toArray,makeMap:q.makeMap,each:q.each,map:q.map,grep:q.grep,inArray:q.inArray,extend:q.extend,create:q.create,walk:q.walk,createNS:q.createNS,resolve:q.resolve,explode:q.explode,_addCacheSuffix:q._addCacheSuffix,isOpera:o.opera,isWebKit:o.webkit,isIE:o.ie,isGecko:o.gecko,isMac:o.mac};return q.extend(G,X)}),r("0",["1","2","3"],function(e,t,n){var r=this||t;return function(){return o=n,t.tinymce=o,t.tinyMCE=o,i=n,"function"!=typeof r.define||r.define.amd||(r.define("ephox/tinymce",[],e.constant(i)),r.define("9",[],e.constant(i))),"object"==typeof module&&(module.exports=i),n;var i,o}}),n("0")()}(),function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],i=r.deps,o=r.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=n(i[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";r.instance=c}(t),r.instance},r=t,i=function(e,t){r(e,[],function(){return t})};i("1",window),i("6",tinymce.util.Tools.resolve),r("2",["6"],function(e){return e("tinymce.ThemeManager")}),r("13",["6"],function(e){return e("tinymce.EditorManager")}),r("c",["6"],function(e){return e("tinymce.util.Tools")}),r("2f",["13","c"],function(e,t){var n=function(e){return e.getParam("menubar")};return{isBrandingEnabled:function(e){return e.getParam("branding",!0)},hasMenubar:function(e){return!1!==n(e)},getMenubar:n,hasStatusbar:function(e){return e.getParam("statusbar",!0)},getToolbarSize:function(e){return e.getParam("toolbar_items_size")},getResize:function(e){var t=e.getParam("resize","vertical");return!1===t?"none":"both"===t?"both":"vertical"},isReadOnly:function(e){return e.getParam("readonly",!1)},getFixedToolbarContainer:function(e){return e.getParam("fixed_toolbar_container")},getInlineToolbarPositionHandler:function(e){return e.getParam("inline_toolbar_position_handler")},getMenu:function(e){return e.getParam("menu")},getRemovedMenuItems:function(e){return e.getParam("removed_menuitems","")},getMinWidth:function(e){return e.getParam("min_width",100)},getMinHeight:function(e){return e.getParam("min_height",100)},getMaxWidth:function(e){return e.getParam("max_width",65535)},getMaxHeight:function(e){return e.getParam("max_height",65535)},getSkinUrl:function(t){var n=t.settings,r=n.skin,i=n.skin_url;if(!1!==r){var o=r||"lightgray";i=i?t.documentBaseURI.toAbsolute(i):e.baseURL+"/skins/"+o}return i},isSkinDisabled:function(e){return!1===e.settings.skin},isInline:function(e){return e.getParam("inline",!1)},getToolbars:function(e){var n=e.getParam("toolbar");return!1===n?[]:t.isArray(n)?t.grep(n,function(e){return e.length>0}):function(e,t){for(var n=[],r=1;r<10;r++){var i=e["toolbar"+r];if(!i)break;n.push(i)}var o=e.toolbar?[e.toolbar]:[t];return n.length>0?n:o}(e.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image")}}}),r("2j",["6"],function(e){return e("tinymce.dom.DOMUtils")}),r("b",["6"],function(e){return e("tinymce.ui.Factory")}),r("38",["6"],function(e){return e("tinymce.util.I18n")}),r("2k",[],function(){return{fireSkinLoaded:function(e){return e.fire("SkinLoaded")},fireResizeEditor:function(e){return e.fire("ResizeEditor")},fireBeforeRenderUI:function(e){return e.fire("BeforeRenderUI")}}}),r("39",[],function(){var e=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}};return{addKeys:function(t,n){t.shortcuts.add("Alt+F9","",e(n,"menubar")),t.shortcuts.add("Alt+F10,F10","",e(n,"toolbar")),t.shortcuts.add("Alt+F11","",e(n,"elementpath")),n.on("cancel",function(){t.focus()})}}}),r("14",["6"],function(e){return e("tinymce.Env")}),r("3q",["6"],function(e){return e("tinymce.geom.Rect")}),r("2u",["6"],function(e){return e("tinymce.util.Delay")}),i("2y",Array),i("2z",Error),r("z",["2y","2z"],function(e,t){var n=function(e){return function(){return e}};return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=new e(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];var o=n.concat(r);return t.apply(null,o)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:n(!1),always:n(!0)}}),i("3h",Object),r("31",["z","3h"],function(e,t){var n,r,i,o,a=e.never,s=e.always,l=function(){return c},c=(o={fold:function(e,t){return e()},is:a,isSome:a,isNone:s,getOr:i=function(e){return e},getOrThunk:r=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:i,orThunk:r,map:l,ap:l,each:function(){},bind:l,flatten:l,exists:a,forall:s,filter:l,equals:n=function(e){return e.isNone()},equals_:n,toArray:function(){return[]},toString:e.constant("none()")},t.freeze&&t.freeze(o),o),u=function(e){var t=function(){return e},n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:function(t){return u(t(e))},ap:function(t){return t.fold(l,function(t){return u(t(e))})},each:function(t){t(e)},bind:r,flatten:t,exists:r,forall:r,filter:function(t){return t(e)?i:c},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(a,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i};return{some:u,none:l,from:function(e){return null===e||void 0===e?c:u(e)}}}),r("3r",["31","14","2j"],function(e,t,n){return{getUiContainerDelta:function(){var r=t.container;if(r&&"static"!==n.DOM.getStyle(r,"position",!0)){var i=n.DOM.getPos(r),o=r.scrollLeft-i.x,a=r.scrollTop-i.y;return e.some({x:o,y:a})}return e.none()}}}),r("3e",["b","c","2f"],function(e,t,n){var r=function(n,r,i){var o,a=[];if(r)return t.each(r.split(/[ ,]/),function(t){var r,s=function(){var e=n.selection;t.settings.stateSelector&&e.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&e.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})};"|"===t?o=null:(o||(o={type:"buttongroup",items:[]},a.push(o)),n.buttons[t]&&(r=t,"function"==typeof(t=n.buttons[r])&&(t=t()),t.type=t.type||"button",t.size=i,t=e.create(t),o.items.push(t),n.initialized?s():n.on("init",s)))}),{type:"toolbar",layout:"flow",items:a}};return{createToolbar:r,createToolbars:function(e,i){var o=[];if(t.each(n.getToolbars(e),function(t){var n;(n=t)&&o.push(r(e,n,i))}),o.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:o}}}}),r("3a",["14","2j","3q","b","2u","c","3r","2f","3e"],function(e,t,n,r,i,o,a,s,l){var c=t.DOM,u=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},d=function(e,t){e.moveTo(t.left,t.top)},f=function(e,t,n,r,i,o){return o=u({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:u(r),contentAreaRect:u(i),panelRect:o})),o};return{addContextualToolbars:function(t){var u,p=function(){return t.contextToolbars||[]},h=function(e,r){var i,l,u,p,h,m,g,v,b,y,w,x,C,$,S,k,T=s.getInlineToolbarPositionHandler(t);if(!t.removed){if(!e||!e.toolbar.panel)return k=t,void o.each(k.contextToolbars,function(e){e.panel&&e.panel.hide()});g=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],h=e.toolbar.panel,r&&h.show(),x=e.element,C=c.getPos(t.getContentAreaContainer()),$=t.dom.getRect(x),"BODY"===(S=t.dom.getRoot()).nodeName&&($.x-=S.ownerDocument.documentElement.scrollLeft||S.scrollLeft,$.y-=S.ownerDocument.documentElement.scrollTop||S.scrollTop),$.x+=C.x,$.y+=C.y,u=$,l=c.getRect(h.getEl()),p=c.getRect(t.getContentAreaContainer()||t.getBody());var _=a.getUiContainerDelta().getOr({x:0,y:0});if(u.x+=_.x,u.y+=_.y,l.x+=_.x,l.y+=_.y,p.x+=_.x,p.y+=_.y,v=25,"inline"!==c.getStyle(e.element,"display",!0)){var E=e.element.getBoundingClientRect();u.w=E.width,u.h=E.height}t.inline||(p.w=t.getDoc().documentElement.offsetWidth),t.selection.controlSelection.isResizable(e.element)&&u.w<v&&(u=n.inflate(u,0,8)),i=n.findBestRelativePosition(l,u,p,g),u=n.clamp(u,p),i?(m=n.relativePosition(l,u,i),d(h,f(T,m.x,m.y,u,p,l))):(p.h+=l.h,(u=n.intersect(p,u))?(i=n.findBestRelativePosition(l,u,p,["bc-tc","bl-tl","br-tr"]))?(m=n.relativePosition(l,u,i),d(h,f(T,m.x,m.y,u,p,l))):d(h,f(T,u.x,u.y,u,p,l)):h.hide()),b=h,w=function(e,t){return e===t},y=(y=i)?y.substr(0,2):"",o.each({t:"down",b:"up"},function(e,t){b.classes.toggle("arrow-"+e,w(t,y.substr(0,1)))}),o.each({l:"left",r:"right"},function(e,t){b.classes.toggle("arrow-"+e,w(t,y.substr(1,1)))})}},m=function(e){return function(){i.requestAnimationFrame(function(){t.selection&&h(b(t.selection.getNode()),e)})}},g=function(n){var i;return n.toolbar.panel?(n.toolbar.panel.show(),void h(n)):(function(){if(!u){var n=m(!0);u=t.selection.getScrollContainer()||t.getWin(),c.bind(u,"scroll",n),c.bind(e.container,"scroll",n),t.on("remove",function(){c.unbind(u,"scroll",n),c.unbind(e.container,"scroll",n)})}}(),i=r.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:l.createToolbar(t,n.toolbar.items),oncancel:function(){t.focus()}}),n.toolbar.panel=i,i.renderTo().reflow(),void h(n))},v=function(){o.each(p(),function(e){e.panel&&e.panel.hide()})},b=function(e){var n,r,i,o=p();for(n=(i=t.$(e).parents().add(e)).length-1;n>=0;n--)for(r=o.length-1;r>=0;r--)if(o[r].predicate(i[n]))return{toolbar:o[r],element:i[n]};return null};t.on("click keyup setContent ObjectResized",function(e){("setcontent"!==e.type||e.selection)&&i.setEditorTimeout(t,function(){var e;(e=b(t.selection.getNode()))?(v(),g(e)):v()})}),t.on("blur hide contextmenu",v),t.on("ObjectResizeStart",function(){var e=b(t.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()}),t.on("ResizeEditor ResizeWindow",m(!0)),t.on("nodeChange",m(!1)),t.on("remove",function(){o.each(p(),function(e){e.panel&&e.panel.remove()}),t.contextToolbars={}}),t.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var e=b(t.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()})}}}),i("3i",String),r("2l",["31","2y","2z","3i"],function(e,t,n,r){var i,o=void 0===(i=t.prototype.indexOf)?function(e,t){return f(e,t)}:function(e,t){return i.call(e,t)},a=function(e,t){return o(e,t)>-1},s=function(e,n){for(var r=e.length,i=new t(r),o=0;o<r;o++){var a=e[o];i[o]=n(a,o,e)}return i},l=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},c=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},u=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r,e)&&n.push(o)}return n},d=function(t,n){for(var r=0,i=t.length;r<i;r++){if(n(t[r],r,t))return e.some(r)}return e.none()},f=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},p=t.prototype.push,h=function(e){for(var r=[],i=0,o=e.length;i<o;++i){if(!t.prototype.isPrototypeOf(e[i]))throw new n("Arr.flatten item "+i+" was not an array, input: "+e);p.apply(r,e[i])}return r},m=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},g=t.prototype.slice;return{map:s,each:l,eachr:c,partition:function(e,t){for(var n=[],r=[],i=0,o=e.length;i<o;i++){var a=e[i];(t(a,i,e)?n:r).push(a)}return{pass:n,fail:r}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],i=[],o=0,a=e.length;o<a;o++){var s=e[o],l=t(s);l!==n&&(r.push(i),i=[]),n=l,i.push(s)}return 0!==i.length&&r.push(i),r},indexOf:function(t,n){var r=o(t,n);return-1===r?e.none():e.some(r)},foldr:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return l(e,function(e){n=t(n,e)}),n},find:function(t,n){for(var r=0,i=t.length;r<i;r++){var o=t[r];if(n(o,r,t))return e.some(o)}return e.none()},findIndex:d,flatten:h,bind:function(e,t){var n=s(e,t);return h(n)},forall:m,exists:function(e,t){return d(e,t).isSome()},contains:a,equal:function(e,t){return e.length===t.length&&m(e,function(e,n){return e===t[n]})},reverse:function(e){var t=g.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var i=e.slice(r,r+t);n.push(i)}return n},difference:function(e,t){return u(e,function(e){return!a(t,e)})},mapToObject:function(e,t){for(var n={},i=0,o=e.length;i<o;i++){var a=e[i];n[r(a)]=t(a,i)}return n},pure:function(e){return[e]},sort:function(e,t){var n=g.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(t){return 0===t.length?e.none():e.some(t[0])},last:function(t){return 0===t.length?e.none():e.some(t[t.length-1])}}}),r("3b",["2l","c","2f"],function(e,t,n){var r={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck"},table:{title:"Table"},help:{title:"Help"}},i=function(e,t){return"|"===e?{name:"|",item:{text:"|"}}:t?{name:e,item:t}:null},o=function(e){return e&&"|"===e.item.text},a=function(n,a,s,l){var c,u,d,f,p,h,m,g;return a?(u=a[l],f=!0):u=r[l],u&&(c={text:u.title},d=[],t.each((u.items||"").split(/[ ,]/),function(e){var t=i(e,n[e]);t&&d.push(t)}),f||t.each(n,function(t,n){var r,o;t.context!==l||(r=d,o=n,e.findIndex(r,function(e){return e.name===o}).isSome())||("before"===t.separator&&d.push({name:"|",item:{text:"|"}}),t.prependToContext?d.unshift(i(n,t)):d.push(i(n,t)),"after"===t.separator&&d.push({name:"|",item:{text:"|"}}))}),c.menu=e.map((p=d,h=s,m=e.filter(p,function(e){return!1===h.hasOwnProperty(e.name)}),g=e.filter(m,function(e,t,n){return!o(e)||!o(n[t-1])}),e.filter(g,function(e,t,n){return!o(e)||t>0&&t<n.length-1})),function(e){return e.item}),!c.menu.length)?null:c};return{createMenuButtons:function(e){for(var i=[],o=function(e){var t,i=[],o=n.getMenu(e);if(o)for(t in o)i.push(t);else for(t in r)i.push(t);return i}(e),s=t.makeMap(n.getRemovedMenuItems(e).split(/[ ,]/)),l=n.getMenubar(e),c="string"==typeof l?l.split(/[ ,]/):o,u=0;u<c.length;u++){var d=c[u],f=a(e.menuItems,n.getMenu(e),s,d);f&&i.push(f)}return i}}}),r("8",["2j","2k","2f"],function(e,t,n){var r=e.DOM,i=function(e){return{width:e.clientWidth,height:e.clientHeight}},o=function(e,o,a){var s,l,c,u;s=e.getContainer(),l=e.getContentAreaContainer().firstChild,c=i(s),u=i(l),null!==o&&(o=Math.max(n.getMinWidth(e),o),o=Math.min(n.getMaxWidth(e),o),r.setStyle(s,"width",o+(c.width-u.width)),r.setStyle(l,"width",o)),a=Math.max(n.getMinHeight(e),a),a=Math.min(n.getMaxHeight(e),a),r.setStyle(l,"height",a),t.fireResizeEditor(e)};return{resizeTo:o,resizeBy:function(e,t,n){var r=e.getContentAreaContainer();o(e,r.clientWidth+t,r.clientHeight+n)}}}),r("3c",["14","b","c","2k"],function(e,t,n,r){var i=function(e,t,n){var r,i=e.settings[n];i&&i((r=t.getEl("body"),{element:function(){return r}}))},o=function(e,o,a){return function(s){var l,c,u,d,f,p=s.control,h=p.parents().filter("panel")[0],m=h.find("#"+o)[0],g=(l=a,c=o,n.grep(l,function(e){return e.name===c})[0]);u=o,d=h,f=a,n.each(f,function(e){var t=d.items().filter("#"+e.name)[0];t&&t.visible()&&e.name!==u&&(i(e,t,"onhide"),t.visible(!1))}),p.parent().items().each(function(e){e.active(!1)}),m&&m.visible()?(i(g,m,"onhide"),m.hide(),p.active(!1)):(m?(m.show(),i(g,m,"onshow")):(m=t.create({type:"container",name:o,layout:"stack",classes:"sidebar-panel",html:""}),h.prepend(m),i(g,m,"onrender"),i(g,m,"onshow")),p.active(!0)),r.fireResizeEditor(e)}};return{hasSidebar:function(t){return!(e.ie&&!(e.ie>=11)||!t.sidebars)&&t.sidebars.length>0},createSidebar:function(e){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:n.map(e.sidebars,function(t){var n=t.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:o(e,t.name,e.sidebars)}})}]}}}}),r("3d",["2k"],function(e){return{fireSkinLoaded:function(t){var n=function(){t._skinLoaded=!0,e.fireSkinLoaded(t)};return function(){t.initialized?n():t.on("init",n)}}}}),r("2g",["2j","b","38","c","2k","2f","39","3a","3b","8","3c","3d","3e"],function(e,t,n,r,i,o,a,s,l,c,u,d,f){var p=e.DOM,h=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}};return{render:function(e,r,m){var g,v,b,y,w;if(!1===o.isSkinDisabled(e)&&m.skinUiCss?p.styleSheetLoader.load(m.skinUiCss,d.fireSkinLoaded(e)):d.fireSkinLoaded(e)(),g=r.panel=t.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===o.hasMenubar(e)?null:{type:"menubar",border:"0 0 1 0",items:l.createMenuButtons(e)},f.createToolbars(e,o.getToolbarSize(e))]},u.hasSidebar(e)?(y=e,{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[h("0"),u.createSidebar(y)]}):h("1 0 0 0")]}),"none"!==o.getResize(e)&&(v={type:"resizehandle",direction:o.getResize(e),onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;b={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){"both"===o.getResize(e)?c.resizeTo(e,b.width+t.deltaX,b.height+t.deltaY):c.resizeTo(e,null,b.height+t.deltaY)}}),o.hasStatusbar(e)){var x=n.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce" rel="noopener" target="_blank">tinymce</a>']),C=o.isBrandingEnabled(e)?{type:"label",classes:"branding",html:" "+x}:null;g.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},v,C]})}return i.fireBeforeRenderUI(e),e.on("SwitchMode",(w=g,function(e){w.find("*").disabled("readonly"===e.mode)})),g.renderBefore(m.targetNode).reflow(),o.isReadOnly(e)&&e.setMode("readonly"),m.width&&p.setStyle(g.getEl(),"width",m.width),e.on("remove",function(){g.remove(),g=null}),a.addKeys(e,g),s.addContextualToolbars(e),{iframeContainer:g.find("#iframe")[0].getEl(),editorContainer:g.getEl()}}}}),i("12",document),r("2o",["6"],function(e){return e("tinymce.dom.DomQuery")}),r("2n",["12","2j","14","c"],function(e,t,n,r){"use strict";var i=0,o={id:function(){return"mceu_"+i++},create:function(n,i,o){var a=e.createElement(n);return t.DOM.setAttribs(a,i),"string"==typeof o?a.innerHTML=o:r.each(o,function(e){e.nodeType&&a.appendChild(e)}),a},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n||o.getContainer())},getContainer:function(){return n.container?n.container:e.body},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(t){return e.getElementById(t)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,r){return t.DOM.toggleClass(e,n,r)},css:function(e,n,r){return t.DOM.setStyle(e,n,r)},getRuntimeStyle:function(e,n){return t.DOM.getStyle(e,n,!0)},on:function(e,n,r,i){return t.DOM.bind(e,n,r,i)},off:function(e,n,r){return t.DOM.unbind(e,n,r)},fire:function(e,n,r){return t.DOM.fire(e,n,r)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}};return o}),r("1s",["12","1","2n"],function(e,t,n){"use strict";function r(t,r,i){var o,a,s,l,c,u,d,f,p,h;return p=n.getViewPort(),s=(a=n.getPos(r)).x,l=a.y,t.state.get("fixed")&&"static"==n.getRuntimeStyle(e.body,"position")&&(s-=p.x,l-=p.y),o=t.getEl(),c=(h=n.getSize(o)).width,u=h.height,d=(h=n.getSize(r)).width,f=h.height,"b"===(i=(i||"").split(""))[0]&&(l+=f),"r"===i[1]&&(s+=d),"c"===i[0]&&(l+=Math.round(f/2)),"c"===i[1]&&(s+=Math.round(d/2)),"b"===i[3]&&(l-=u),"r"===i[4]&&(s-=c),"c"===i[3]&&(l-=Math.round(u/2)),"c"===i[4]&&(s-=Math.round(c/2)),{x:s,y:l,w:c,h:u}}return{testMoveRel:function(e,t){for(var i=n.getViewPort(),o=0;o<t.length;o++){var a=r(this,e,t[o]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<i.w&&a.y>0&&a.y+a.h<i.h)return t[o]}else if(a.x>i.x&&a.x+a.w<i.w+i.x&&a.y>i.y&&a.y+a.h<i.h+i.y)return t[o]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));var n=r(this,e,t);return this.moveTo(n.x,n.y)},moveBy:function(e,t){var n=this.layoutRect();return this.moveTo(n.x+e,n.y+t),this},moveTo:function(e,r){function i(e,t,n){return e<0?0:e+n>t?(e=t-n)<0?0:e:e}if(this.settings.constrainToViewport){var o=n.getViewPort(t),a=this.layoutRect();e=i(e,o.w+o.x,a.w),r=i(r,o.h+o.y,a.h)}return this.state.get("rendered")?this.layoutRect({x:e,y:r}).repaint():(this.settings.x=e,this.settings.y=r),this.fire("move",{x:e,y:r}),this}}}),r("2p",["6"],function(e){return e("tinymce.util.Class")}),r("2q",["6"],function(e){return e("tinymce.util.EventDispatcher")}),r("2r",[],function(){"use strict";return{parseBox:function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(e,t){function n(t){var n=parseFloat(function(t){var n=e.ownerDocument.defaultView;if(n){var r=n.getComputedStyle(e,null);return r?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),r.getPropertyValue(t)):null}return e.currentStyle[t]}(t),10);return isNaN(n)?0:n}return{top:n(t+"TopWidth"),right:n(t+"RightWidth"),bottom:n(t+"BottomWidth"),left:n(t+"LeftWidth")}}}}),r("2s",["c"],function(e){"use strict";function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),r("24",["2p"],function(e){"use strict";var t,n=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=/^\s*|\s*$/g,o=e.extend({init:function(e){function t(e,t,r){function s(e){e&&t.push(e)}var l;return s(function(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}((l=n.exec(e.replace(i,"")))[1])),s(function(e){if(e)return function(t){return t._name===e}}(l[2])),s(function(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}(l[3])),s(function(e,t,n){if(e)return function(r){var i=r[e]?r[e]():"";return t?"="===t?i===n:"*="===t?i.indexOf(n)>=0:"~="===t?(" "+i+" ").indexOf(" "+n+" ")>=0:"!="===t?i!=n:"^="===t?0===i.indexOf(n):"$="===t&&i.substr(i.length-n.length)===n:!!n}}(l[4],l[5],l[6])),s(function(e){var t;if(e)return(e=/(?:not\((.+)\))|(.+)/i.exec(e))[1]?(t=o(e[1],[]),function(e){return!a(e,t)}):(e=e[2],function(t,n,r){return"first"===e?0===n:"last"===e?n===r-1:"even"===e?n%2==0:"odd"===e?n%2==1:!!t[e]&&t[e]()})}(l[7])),t.pseudo=!!l[7],t.direct=r,t}function o(e,n){var i,a,s,l=[];do{if(r.exec(""),(a=r.exec(e))&&(e=a[3],l.push(a[1]),a[2])){i=a[3];break}}while(a);for(i&&o(i,n),e=[],s=0;s<l.length;s++)">"!=l[s]&&e.push(t(l[s],[],">"===l[s-1]));return n.push(e),n}var a=this.match;this._selectors=o(e,[])},match:function(e,t){var n,r,i,o,a,s,l,c,u,d,f,p,h;for(n=0,r=(t=t||this._selectors).length;n<r;n++){for(h=e,p=0,i=(o=(a=t[n]).length)-1;i>=0;i--)for(c=a[i];h;){if(c.pseudo)for(u=d=(f=h.parent().items()).length;u--&&f[u]!==h;);for(s=0,l=c.length;s<l;s++)if(!c[s](h,u,d)){s=l+1;break}if(s===l){p++;break}if(i===o-1)break;h=h.parent()}if(p===o)return!0}return!1},find:function(e){function n(e,t,r){var i,o,s,l,c,u=t[r];for(i=0,o=e.length;i<o;i++){for(c=e[i],s=0,l=u.length;s<l;s++)if(!u[s](c,i,o)){s=l+1;break}if(s===l)r==t.length-1?a.push(c):c.items&&n(c.items(),t,r+1);else if(u.direct)return;c.items&&n(c.items(),t,r)}}var r,i,a=[],s=this._selectors;if(e.items){for(r=0,i=s.length;r<i;r++)n(e.items(),s[r],0);i>1&&(a=function(e){for(var t,n=[],r=e.length;r--;)(t=e[r]).__checked||(n.push(t),t.__checked=1);for(r=n.length;r--;)delete n[r].__checked;return n}(a))}return t||(t=o.Collection),new t(a)}});return o}),r("i",["c","24","2p"],function(e,t,n){"use strict";var r,i,o=Array.prototype.push,a=Array.prototype.slice;return i={length:0,init:function(e){e&&this.add(e)},add:function(t){return e.isArray(t)?o.apply(this,t):t instanceof r?this.add(t.toArray()):o.call(this,t),this},set:function(e){var t,n=this.length;for(this.length=0,this.add(e),t=this.length;t<n;t++)delete this[t];return this},filter:function(e){var n,i,o,a,s=[];for("string"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,n=0,i=this.length;n<i;n++)a(o=this[n])&&s.push(o);return new r(s)},slice:function(){return new r(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new r(e.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n;return void 0!==t?(this.each(function(n){n[e]&&n[e](t)}),this):(n=this[0])&&n[e]?n[e]():void 0},exec:function(t){var n=e.toArray(arguments).slice(1);return this.each(function(e){e[t]&&e[t].apply(e,n)}),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},e.each("fire on off show hide append prepend before after reflow".split(" "),function(t){i[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){i[e]=function(t){return this.prop(e,t)}}),r=n.extend(i),t.Collection=r,r}),r("3f",[],function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,r){function i(t){e.set(r,t.value)}var o;return e.on("change:"+r,function(e){t.set(n,e.value)}),t.on("change:"+n,i),(o=e._bindings)||(o=e._bindings=[],e.on("destroy",function(){for(var e=o.length;e--;)o[e]()})),o.push(function(){t.off("change:"+n,i)}),t.get(n)}})},e}),r("3g",["6"],function(e){return e("tinymce.util.Observable")}),r("2t",["3f","2p","3g","c"],function(e,t,n,r){function i(e){return e.nodeType>0}return t.extend({Mixins:[n],init:function(t){var n,r;for(n in t=t||{})(r=t[n])instanceof e&&(t[n]=r.create(this,n));this.data=t},set:function(t,n){var o,a,s=this.data[t];if(n instanceof e&&(n=n.create(this,t)),"object"==typeof t){for(o in t)this.set(o,t[o]);return this}return function e(t,n){var o,a;if(t===n)return!0;if(null===t||null===n)return t===n;if("object"!=typeof t||"object"!=typeof n)return t===n;if(r.isArray(n)){if(t.length!==n.length)return!1;for(o=t.length;o--;)if(!e(t[o],n[o]))return!1}if(i(t)||i(n))return t===n;for(o in a={},n){if(!e(t[o],n[o]))return!1;a[o]=!0}for(o in t)if(!a[o]&&!e(t[o],n[o]))return!1;return!0}(s,n)||(this.data[t]=n,a={target:this,name:t,value:n,oldValue:s},this.fire("change:"+t,a),this.fire("change",a)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire("destroy")}})}),r("1z",["12","2u"],function(e,t){var n,r={};return{add:function(i){var o=i.parent();if(o){if(!o._layout||o._layout.isNative())return;r[o._id]||(r[o._id]=o),n||(n=!0,t.requestAnimationFrame(function(){var e,t;for(e in n=!1,r)(t=r[e]).state.get("rendered")&&t.reflow();r={}},e.body))}},remove:function(e){r[e._id]&&delete r[e._id]}}}),r("o",["12","2o","2p","2q","c","2r","2s","i","2t","2n","1z"],function(e,t,n,r,i,o,a,s,l,c,u){"use strict";function d(e){return e._eventDispatcher||(e._eventDispatcher=new r({scope:e,toggleEvent:function(t,n){n&&r.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&f(e))}})),e._eventDispatcher}function f(e){function n(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function r(){var e=c._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),c._lastHoverCtrl=null)}function i(t){var n,r,i,o=e.getParentCtrl(t.target),a=c._lastHoverCtrl,s=0;if(o!==a){if(c._lastHoverCtrl=o,(r=o.parents().toArray().reverse()).push(o),a){for((i=a.parents().toArray().reverse()).push(a),s=0;s<i.length&&r[s]===i[s];s++);for(n=i.length-1;n>=s;n--)(a=i[n]).fire("mouseleave",{target:a.getEl()})}for(n=s;n<r.length;n++)(o=r[n]).fire("mouseenter",{target:o.getEl()})}}function o(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var a,s,l,c,u,d;if(u=e._nativeEvents){for((l=e.parents().toArray()).unshift(e),a=0,s=l.length;!c&&a<s;a++)c=l[a]._eventsRoot;for(c||(c=l[l.length-1]||e),e._eventsRoot=c,s=a,a=0;a<s;a++)l[a]._eventsRoot=c;var f=c._delegates;for(d in f||(f=c._delegates={}),u){if(!u)return!1;"wheel"!==d||m?("mouseenter"===d||"mouseleave"===d?c._hasMouseEnter||(t(c.getEl()).on("mouseleave",r).on("mouseover",i),c._hasMouseEnter=1):f[d]||(t(c.getEl()).on(d,n),f[d]=!0),u[d]=!1):h?t(e.getEl()).on("mousewheel",o):t(e.getEl()).on("DOMMouseScroll",o)}}}var p,h="onmousewheel"in e,m=!1,g=0,v={Statics:{classPrefix:"mce-"},isRtl:function(){return p.rtl},classPrefix:"mce-",init:function(e){function n(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)c.classes.add(e[t])}var r,s,c=this;c.settings=e=i.extend({},c.Defaults,e),c._id=e.id||"mceu_"+g++,c._aria={role:e.role},c._elmCache={},c.$=t,c.state=new l({visible:!0,active:!1,disabled:!1,value:""}),c.data=new l(e.data),c.classes=new a(function(){c.state.get("rendered")&&(c.getEl().className=this.toString())}),c.classes.prefix=c.classPrefix,(r=e.classes)&&(c.Defaults&&((s=c.Defaults.classes)&&r!=s&&n(s)),n(r)),i.each("title text name visible disabled active value".split(" "),function(t){t in e&&c[t](e[t])}),c.on("click",function(){if(c.disabled())return!1}),c.settings=e,c.borderBox=o.parseBox(e.border),c.paddingBox=o.parseBox(e.padding),c.marginBox=o.parseBox(e.margin),e.hidden&&c.hide()},Properties:"parent,name",getContainerElm:function(){return c.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,r,i,a,s,l,u,d,f=this,p=f.settings,h=f.getEl();e=f.borderBox=f.borderBox||o.measureBox(h,"border"),f.paddingBox=f.paddingBox||o.measureBox(h,"padding"),f.marginBox=f.marginBox||o.measureBox(h,"margin"),d=c.getSize(h),l=p.minWidth,u=p.minHeight,i=l||d.width,a=u||d.height,n=p.width,r=p.height,s=void 0!==(s=p.autoResize)?s:!n&&!r,n=n||i,r=r||a;var m=e.left+e.right,g=e.top+e.bottom,v=p.maxWidth||65535,b=p.maxHeight||65535;return f._layoutRect=t={x:p.x||0,y:p.y||0,w:n,h:r,deltaW:m,deltaH:g,contentW:n-m,contentH:r-g,innerW:n-m,innerH:r-g,startMinWidth:l||0,startMinHeight:u||0,minW:Math.min(i,v),minH:Math.min(a,b),maxW:v,maxH:b,autoResize:s,scrollW:0},f._lastLayoutRect={},t},layoutRect:function(e){var t,n,r,i,o,a,s=this._layoutRect;return s||(s=this.initLayoutRect()),e?(r=s.deltaW,i=s.deltaH,e.x!==o&&(s.x=e.x),e.y!==o&&(s.y=e.y),e.minW!==o&&(s.minW=e.minW),e.minH!==o&&(s.minH=e.minH),(n=e.w)!==o&&(n=(n=n<s.minW?s.minW:n)>s.maxW?s.maxW:n,s.w=n,s.innerW=n-r),(n=e.h)!==o&&(n=(n=n<s.minH?s.minH:n)>s.maxH?s.maxH:n,s.h=n,s.innerH=n-i),(n=e.innerW)!==o&&(n=(n=n<s.minW-r?s.minW-r:n)>s.maxW-r?s.maxW-r:n,s.innerW=n,s.w=n+r),(n=e.innerH)!==o&&(n=(n=n<s.minH-i?s.minH-i:n)>s.maxH-i?s.maxH-i:n,s.innerH=n,s.h=n+i),e.contentW!==o&&(s.contentW=e.contentW),e.contentH!==o&&(s.contentH=e.contentH),(t=this._lastLayoutRect).x===s.x&&t.y===s.y&&t.w===s.w&&t.h===s.h||((a=p.repaintControls)&&a.map&&!a.map[this._id]&&(a.push(this),a.map[this._id]=!0),t.x=s.x,t.y=s.y,t.w=s.w,t.h=s.h),this):s},repaint:function(){var t,n,r,i,o,a,s,l,c,u,d=this;c=e.createRange?function(e){return e}:Math.round,t=d.getEl().style,i=d._layoutRect,l=d._lastRepaintRect||{},a=(o=d.borderBox).left+o.right,s=o.top+o.bottom,i.x!==l.x&&(t.left=c(i.x)+"px",l.x=i.x),i.y!==l.y&&(t.top=c(i.y)+"px",l.y=i.y),i.w!==l.w&&(u=c(i.w-a),t.width=(u>=0?u:0)+"px",l.w=i.w),i.h!==l.h&&(u=c(i.h-s),t.height=(u>=0?u:0)+"px",l.h=i.h),d._hasBody&&i.innerW!==l.innerW&&(u=c(i.innerW),(r=d.getEl("body"))&&((n=r.style).width=(u>=0?u:0)+"px"),l.innerW=i.innerW),d._hasBody&&i.innerH!==l.innerH&&(u=c(i.innerH),(r=r||d.getEl("body"))&&((n=n||r.style).height=(u>=0?u:0)+"px"),l.innerH=i.innerH),d._lastRepaintRect=l,d.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null,c.css(this.getEl(),{width:"",height:""}),this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null,this.initLayoutRect()},on:function(e,t){var n,r,i,o=this;return d(o).on(e,"string"!=typeof(n=t)?n:function(e){return r||o.parentsAndSelf().each(function(e){var t=e.settings.callbacks;if(t&&(r=t[n]))return i=e,!1}),r?r.call(i,e):(e.action=n,void this.fire("execute",e))}),o},off:function(e,t){return d(this).off(e,t),this},fire:function(e,t,n){if((t=t||{}).control||(t.control=this),t=d(this).fire(e,t),!1!==n&&this.parent)for(var r=this.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return d(this).has(e)},parents:function(e){var t,n=new s;for(t=this.parent();t;t=t.parent())n.add(t);return e&&(n=n.filter(e)),n},parentsAndSelf:function(e){return new s(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var n=e?this._id+"-"+e:this._id;return this._elmCache[n]||(this._elmCache[n]=t("#"+n)[0]),this._elmCache[n]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this.getEl(this.ariaTarget);return void 0===t?this._aria[e]:(this._aria[e]=t,this.state.get("rendered")&&n.setAttribute("role"==e?e:"aria-"+e,t),this)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return p.translate?p.translate(e):e},before:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this),!0),this},after:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this)),this},remove:function(){var e,n,r=this,i=r.getEl(),o=r.parent();if(r.items){var a=r.items().toArray();for(n=a.length;n--;)a[n].remove()}o&&o.items&&(e=[],o.items().each(function(t){t!==r&&e.push(t)}),o.items().set(e),o._lastRect=null),r._eventsRoot&&r._eventsRoot==r&&t(i).off();var s=r.getRoot().controlIdLookup;return s&&delete s[r._id],i&&i.parentNode&&i.parentNode.removeChild(i),r.state.set("rendered",!1),r.state.destroy(),r.fire("remove"),r},renderBefore:function(e){return t(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return t(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,n,r,i,o,a=this,s=a.settings;for(i in a.$el=t(a.getEl()),a.state.set("rendered",!0),s)0===i.indexOf("on")&&a.on(i.substr(2),s[i]);if(a._eventsRoot){for(r=a.parent();!o&&r;r=r.parent())o=r._eventsRoot;if(o)for(i in o._nativeEvents)a._nativeEvents[i]=!0}f(a),s.style&&((e=a.getEl())&&(e.setAttribute("style",s.style),e.style.cssText=s.style)),a.settings.border&&(n=a.borderBox,a.$el.css({"border-top-width":n.top,"border-right-width":n.right,"border-bottom-width":n.bottom,"border-left-width":n.left}));var l=a.getRoot();for(var c in l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[a._id]=a,a._aria)a.aria(c,a._aria[c]);!1===a.state.get("visible")&&(a.getEl().style.display="none"),a.bindStates(),a.state.on("change:visible",function(e){var t,n=e.value;a.state.get("rendered")&&(a.getEl().style.display=!1===n?"none":"",a.getEl().getBoundingClientRect()),(t=a.parent())&&(t._lastRect=null),a.fire(n?"show":"hide"),u.add(a)}),a.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,r,i,o,a,s=this.getEl(),l=s.parentNode,c=function(e,t){var n,r,i=e;for(n=r=0;i&&i!=t&&i.nodeType;)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:r}}(s,l);return t=c.x,n=c.y,r=s.offsetWidth,i=s.offsetHeight,o=l.clientWidth,a=l.clientHeight,"end"==e?(t-=o-r,n-=a-i):"center"==e&&(t-=o/2-r/2,n-=a/2-i/2),l.scrollLeft=t,l.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var r=n.length;r--;)n[r].rootControl=e;return e},reflow:function(){u.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};return i.each("text title visible disabled active value".split(" "),function(e){v[e]=function(t){return 0===arguments.length?this.state.get(e):(void 0!==t&&this.state.set(e,t),this)}}),p=n.extend(v)}),r("1j",["12"],function(e){"use strict";var t=function(e){return!!e.getAttribute("data-mce-tabstop")};return function(n){function r(e){return e&&1===e.nodeType}function i(e){return r(e=e||b)?e.getAttribute("role"):null}function o(e){for(var t,n=e||b;n=n.parentNode;)if(t=i(n))return t}function a(e){var t=b;if(r(t))return t.getAttribute("aria-"+e)}function s(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t||"SELECT"==t}function l(e){var n=[];return function e(r){if(1==r.nodeType&&"none"!=r.style.display&&!r.disabled){(s(a=r)&&!a.hidden||t(a)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(i(a)))&&n.push(r);for(var o=0;o<r.childNodes.length;o++)e(r.childNodes[o])}var a}(e||w.getEl()),n}function c(e){var t,n;(n=(e=e||y).parents().toArray()).unshift(e);for(var r=0;r<n.length&&!(t=n[r]).settings.ariaRoot;r++);return t}function u(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function d(e,t){var n=-1,r=c();t=t||l(r.getEl());for(var i=0;i<t.length;i++)t[i]===b&&(n=i);n+=e,r.lastAriaIndex=u(n,t)}function f(){"tablist"==o()?d(-1,l(b.parentNode)):y.parent().submenu?g():d(-1)}function p(){var e=i(),t=o();"tablist"==t?d(1,l(b.parentNode)):"menuitem"==e&&"menu"==t&&a("haspopup")?v():d(1)}function h(){d(-1)}function m(){var e=i(),t=o();"menuitem"==e&&"menubar"==t?v():"button"==e&&a("haspopup")?v({key:"down"}):d(1)}function g(){y.fire("cancel")}function v(e){e=e||{},y.fire("click",{target:b,aria:e})}var b,y,w=n.root;try{b=e.activeElement}catch(t){b=e.body}return y=w.getParentCtrl(b),w.on("keydown",function(e){function n(e,n){s(b)||t(b)||"slider"!==i(b)&&!1!==n(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:n(e,f);break;case 39:n(e,p);break;case 38:n(e,h);break;case 40:n(e,m);break;case 27:g();break;case 14:case 13:case 32:n(e,v);break;case 9:!1!==function(e){if("tablist"==o()){var t=l(y.getEl("body"))[0];t&&t.focus()}else d(e.shiftKey?-1:1)}(e)&&e.preventDefault()}}),w.on("focusin",function(e){b=e.target,y=e.control}),{focusFirst:function(e){var t=c(e),n=l(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?u(t.lastAriaIndex,n):u(0,n)}}}}),r("n",["o","i","24","b","1j","c","2o","2s","1z"],function(e,t,n,r,i,o,a,s,l){"use strict";var c={};return e.extend({init:function(e){var n=this;n._super(e),(e=n.settings).fixed&&n.state.set("fixed",!0),n._items=new t,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new s(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),e.containerCls&&n.classes.add(e.containerCls),n._layout=r.create((e.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return(e=c[e]=c[e]||new n(e)).find(this)},add:function(e){return this.items().add(this.create(e)).parent(this),this},focus:function(e){var t,n,r;return e&&(n=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(this):(r=this.find("*"),this.statusbar&&r.add(this.statusbar.items()),r.each(function(e){return e.settings.autofocus?(t=null,!1):void(e.canFocus&&(t=t||e))}),t&&t.focus(),this)},replace:function(e,t){for(var n,r=this.items(),i=r.length;i--;)if(r[i]===e){r[i]=t;break}i>=0&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,i=this,a=[];return o.isArray(t)||(t=[t]),o.each(t,function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),n=o.extend({},i.settings.defaults,t),t.type=n.type=n.type||t.type||i.settings.defaultType||(n.defaults?n.defaults.type:null),t=r.create(n)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var r;t.parent(e),t.state.get("rendered")||((r=e.getEl("body")).hasChildNodes()&&n<=r.childNodes.length-1?a(r.childNodes[n]).before(t.renderHtml()):a(r).append(t.renderHtml()),t.postRender(),l.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew()},insert:function(e,t,n){var r,i,o;return e=this.create(e),r=this.items(),!n&&t<r.length-1&&(t+=1),t>=0&&t<r.length&&(i=r.slice(0,t).toArray(),o=r.slice(t).toArray(),r.set(i.concat(e,o))),this.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var e={};return this.find("*").each(function(t){var n=t.name(),r=t.value();n&&void 0!==r&&(e[n]=r)}),e},renderHtml:function(){var e=this._layout,t=this.settings.role;return this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(t?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new i({root:t})),t},initLayoutRect:function(){var e=this._super();return this._layout.recalc(this),e},recalc:function(){var e=this._layoutRect,t=this._lastRect;if(!t||t.w!=e.w||t.h!=e.h)return this._layout.recalc(this),e=this.layoutRect(),this._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0},reflow:function(){var t;if(l.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),r("p",["12","1","2o"],function(e,t,n){"use strict";function r(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(i,o){function a(){return h.getElementById(o.handle||i)}var s,l,c,u,d,f,p,h=o.document||e;o=o||{},c=function(e){var i,c,m,g,v,b,y,w,x,C,$,S,k=(m=h,S=Math.max,g=m.documentElement,v=m.body,b=S(g.scrollWidth,v.scrollWidth),y=S(g.clientWidth,v.clientWidth),w=S(g.offsetWidth,v.offsetWidth),x=S(g.scrollHeight,v.scrollHeight),C=S(g.clientHeight,v.clientHeight),$=S(g.offsetHeight,v.offsetHeight),{width:b<w?y:b,height:x<$?C:x});r(e),e.preventDefault(),l=e.button,i=a(),f=e.screenX,p=e.screenY,c=t.getComputedStyle?t.getComputedStyle(i,null).getPropertyValue("cursor"):i.runtimeStyle.cursor,s=n("<div></div>").css({position:"absolute",top:0,left:0,width:k.width,height:k.height,zIndex:2147483647,opacity:1e-4,cursor:c}).appendTo(h.body),n(h).on("mousemove touchmove",d).on("mouseup touchend",u),o.start(e)},d=function(e){return r(e),e.button!==l?u(e):(e.deltaX=e.screenX-f,e.deltaY=e.screenY-p,e.preventDefault(),void o.drag(e))},u=function(e){r(e),n(h).off("mousemove touchmove",d).off("mouseup touchend",u),s.remove(),o.stop&&o.stop(e)},this.destroy=function(){n(a()).off()},n(a()).on("mousedown touchstart",c)}}),r("22",["2o","p"],function(e,t){"use strict";return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,c,u){var d,f,p,h,m,g,v,b;if(f=r.getEl("scroll"+t)){if(v=a.toLowerCase(),b=s.toLowerCase(),e(r.getEl("absend")).css(v,r.layoutRect()[l]-1),!c)return void e(f).css("display","none");e(f).css("display","block"),d=r.getEl("body"),p=r.getEl("scroll"+t+"t"),h=d["client"+s]-2*i,m=(h-=n&&o?f["client"+u]:0)/d["scroll"+s],(g={})[v]=d["offset"+a]+i,g[b]=h,e(f).css(g),(g={})[v]=d["scroll"+a]*m,g[b]=h*m,e(p).css(g)}}var n,o,a;a=r.getEl("body"),n=a.scrollWidth>a.clientWidth,o=a.scrollHeight>a.clientHeight,t("h","Left","Width","contentW",n,"Height"),t("v","Top","Height","contentH",o,"Width")}var r=this,i=2;r.settings.autoScroll&&(r._hasScroll||(r._hasScroll=!0,function(){function n(n,o,a,s,l){var c,u=r._id+"-scroll"+n,d=r.classPrefix;e(r.getEl()).append('<div id="'+u+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+u+'t" class="'+d+'scrollbar-thumb"></div></div>'),r.draghelper=new t(u+"t",{start:function(){c=r.getEl("body")["scroll"+o],e("#"+u).addClass(d+"active")},drag:function(e){var t,u,d,f,p=r.layoutRect();u=p.contentW>p.innerW,d=p.contentH>p.innerH,f=r.getEl("body")["client"+a]-2*i,t=(f-=u&&d?r.getEl("scroll"+n)["client"+l]:0)/r.getEl("body")["scroll"+a],r.getEl("body")["scroll"+o]=c+e["delta"+s]/t},stop:function(){e("#"+u).removeClass(d+"active")}})}r.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}(),r.on("wheel",function(e){var t=r.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e(r.getEl("body")).on("scroll",n)),n())}}}),r("1u",["n","22"],function(e,t){"use strict";return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),r("20",["2n"],function(e){"use strict";return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var r=e.getWindowSize();t=t<=1?t*r.w:t,n=n<=1?n*r.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}}}),r("w",["12","1","2o","2u","2n","1s","1u","20"],function(e,t,n,r,i,o,a,s){"use strict";function l(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function c(){p||(p=function(e){2!=e.button&&function(e){for(var t=v.length;t--;){var n=v[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(l(r,n)||n.parent()===r))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}(e)},n(e).on("click touchstart",p))}function u(e){function t(t,n){for(var r,i=0;i<v.length;i++)if(v[i]!=e)for(r=v[i].parent();r&&(r=r.parent());)r==e&&v[i].fixed(t).moveBy(0,n).repaint()}var n=i.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function d(e,t){var r,i,o=y.zIndex||65535;if(e)b.push(t);else for(r=b.length;r--;)b[r]===t&&b.splice(r,1);if(b.length)for(r=0;r<b.length;r++)b[r].modal&&(o++,i=b[r]),b[r].getEl().style.zIndex=o,b[r].zIndex=o,o++;var a=n("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];i?n(a).css("z-index",i.zIndex-1):a&&(a.parentNode.removeChild(a),g=!1),y.currentZIndex=o}function f(e){var t;for(t=v.length;t--;)v[t]===e&&v.splice(t,1);for(t=b.length;t--;)b[t]===e&&b.splice(t,1)}var p,h,m,g,v=[],b=[],y=a.extend({Mixins:[o,s],init:function(i){var o=this;o._super(i),o._eventsRoot=o,o.classes.add("floatpanel"),i.autohide&&(c(),function(){if(!m){var r=e.documentElement,i=r.clientWidth,o=r.clientHeight;m=function(){e.all&&i==r.clientWidth&&o==r.clientHeight||(i=r.clientWidth,o=r.clientHeight,y.hideAll())},n(t).on("resize",m)}}(),v.push(o)),i.autofix&&(h||(h=function(){var e;for(e=v.length;e--;)u(v[e])},n(t).on("scroll",h)),o.on("move",function(){u(this)})),o.on("postrender show",function(e){if(e.control==o){var t,i=o.classPrefix;o.modal&&!g&&((t=n("#"+i+"modal-block",o.getContainerElm()))[0]||(t=n('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(o.getContainerElm())),r.setTimeout(function(){t.addClass(i+"in"),n(o.getEl()).addClass(i+"in")}),g=!0),d(!0,o)}}),o.on("show",function(){o.parents().each(function(e){if(e.state.get("fixed"))return o.fixed(!0),!1})}),i.popover&&(o._preBodyHtml='<div class="'+o.classPrefix+'arrow"></div>',o.classes.add("popover").add("bottom").add(o.isRtl()?"end":"start")),o.aria("label",i.ariaLabel),o.aria("labelledby",o._id),o.aria("describedby",o.describedBy||o._id+"-none")},fixed:function(e){if(this.state.get("fixed")!=e){if(this.state.get("rendered")){var t=i.getViewPort();e?this.layoutRect().y-=t.y:this.layoutRect().y+=t.y}this.classes.toggle("fixed",e),this.state.set("fixed",e)}return this},show:function(){var e,t=this._super();for(e=v.length;e--&&v[e]!==this;);return-1===e&&v.push(this),t},hide:function(){return f(this),d(!1,this),this._super()},hideAll:function(){y.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),d(!1,this)),this},remove:function(){f(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});return y.hideAll=function(){for(var e=v.length;e--;){var t=v[e];t&&t.settings.autohide&&(t.hide(),v.splice(e,1))}},y}),r("2h",["12","14","2j","b","2k","2f","39","3a","3b","3d","3e","w"],function(e,t,n,r,i,o,a,s,l,c,u,d){var f=function(e){return!(!e||t.container)};return{render:function(e,t,p){var h,m,g=n.DOM,v=o.getFixedToolbarContainer(e);v&&(m=g.select(v)[0]);var b=function(){if(h&&h.moveRel&&h.visible()&&!h._fixed){var t=e.selection.getScrollContainer(),n=e.getBody(),r=0,i=0;if(t){var o=g.getPos(n),a=g.getPos(t);r=Math.max(0,a.x-o.x),i=Math.max(0,a.y-o.y)}h.fixed(!1).moveRel(n,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(r,i)}},y=function(){h&&(h.show(),b(),g.addClass(e.getBody(),"mce-edit-focus"))},w=function(){h&&(h.hide(),d.hideAll(),g.removeClass(e.getBody(),"mce-edit-focus"))},x=function(){return h?void(h.visible()||y()):(h=t.panel=r.create({type:m?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:f(m),fixed:f(m),border:1,items:[!1===o.hasMenubar(e)?null:{type:"menubar",border:"0 0 1 0",items:l.createMenuButtons(e)},u.createToolbars(e,o.getToolbarSize(e))]}),i.fireBeforeRenderUI(e),m?h.renderTo(m).reflow():h.renderTo().reflow(),a.addKeys(e,h),y(),s.addContextualToolbars(e),e.on("nodeChange",b),e.on("activate",y),e.on("deactivate",w),void e.nodeChanged())};return e.settings.content_editable=!0,e.on("focus",function(){!1===o.isSkinDisabled(e)&&p.skinUiCss?g.styleSheetLoader.load(p.skinUiCss,x,x):x()}),e.on("blur hide",w),e.on("remove",function(){h&&(h.remove(),h=null)}),!1===o.isSkinDisabled(e)&&p.skinUiCss?g.styleSheetLoader.load(p.skinUiCss,c.fireSkinLoaded(e)):c.fireSkinLoaded(e)(),{}}}}),r("2b",["2o","o","2u"],function(e,t,n){"use strict";return function(r,i){var o,a,s=this,l=t.classPrefix;s.show=function(t,c){function u(){o&&(e(r).append('<div class="'+l+"throbber"+(i?" "+l+"throbber-inline":"")+'"></div>'),c&&c())}return s.hide(),o=!0,t?a=n.setTimeout(u,t):u(),s},s.hide=function(){var e=r.lastChild;return n.clearTimeout(a),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,s}}}),r("2i",["2b"],function(e){return{setup:function(t,n){var r;t.on("ProgressState",function(t){r=r||new e(n.panel.getEl("body")),t.state?r.show(t.time):r.hide()})}}}),r("7",["2f","2g","2h","2i"],function(e,t,n,r){return{renderUI:function(i,o,a){var s=e.getSkinUrl(i);return s&&(a.skinUiCss=s+"/skin.min.css",i.contentCSS.push(s+"/content"+(i.inline?".inline":"")+".min.css")),r.setup(i,o),e.isInline(i)?n.render(i,o,a):t.render(i,o,a)}}}),i("2m",setTimeout),r("2d",["o","1s"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),r("15",["o","2d"],function(e,t){"use strict";var n,r=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&!1!==r.tooltips&&(t.on("mouseenter",function(n){var r=t.tooltip().moveTo(-65535);if(n.control==t){var i=r.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n","bc-tc"==i),r.classes.toggle("tooltip-nw","bc-tl"==i),r.classes.toggle("tooltip-ne","bc-tr"==i),r.moveRel(t.getEl(),i)}else r.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().hide()})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},postRender:function(){var e=this.settings;this._super(),this.parent()||!e.width&&!e.height||(this.initLayoutRect(),this.repaint()),e.autofocus&&this.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return r}),r("1x",["15"],function(e){"use strict";return e.extend({Defaults:{value:0},init:function(e){this._super(e),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+t+'bar-container"><div class="'+t+'bar"></div></div><div class="'+t+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",function(t){e(t.value)}),e(t.state.get("value")),t._super()}})}),r("1t",["o","1s","1x","2u"],function(e,t,n,r){var i=function(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")};return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e,t=this,n=t.classPrefix,r="",i="",o="";return t.icon&&(r='<i class="'+n+"ico "+n+"i-"+t.icon+'"></i>'),e=' style="max-width: '+t.maxWidth+"px;"+(t.color?"background-color: "+t.color+';"':'"'),t.closeButton&&(i='<button type="button" class="'+n+'close" aria-hidden="true"></button>'),t.progressBar&&(o=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+e+' role="presentation">'+r+'<div class="'+n+'notification-inner">'+t.state.get("text")+"</div>"+o+i+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return r.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),i(e,e.state.get("text"))},100),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().firstChild.innerHTML=t.value,i(e,t.value)}),e.progressBar&&(e.progressBar.bindStates(),e.progressBar.state.on("change:value",function(t){i(e,e.state.get("text"))})),e._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}})}),r("9",["2l","2m","c","2n","1t"],function(e,t,n,r,i){return function(o){var a=function(e){return e.inline?e.getElement():e.getContentAreaContainer()};return{open:function(e,s){var l,c=n.extend(e,{maxWidth:(l=a(o),r.getSize(l).width)}),u=new i(c);return u.args=c,c.timeout>0&&(u.timer=t(function(){u.close(),s()},c.timeout)),u.on("close",function(){s()}),u.renderTo(),u},close:function(e){e.close()},reposition:function(t){var n;n=t,e.each(n,function(e){e.moveTo(0,0)}),function(t){if(t.length>0){var n=t.slice(0,1)[0],r=a(o);n.moveRel(r,"tc-tc"),e.each(t,function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")})}}(t)},getArgs:function(e){return e.args}}}}),r("2e",["12","2m","1","2o","14","2u","2r","2n","p","w","1u"],function(e,t,n,r,i,o,a,s,l,c,u){"use strict";function d(t){var n,o=r("meta[name=viewport]")[0];!1!==i.overrideViewPort&&(o||((o=e.createElement("meta")).setAttribute("name","viewport"),e.getElementsByTagName("head")[0].appendChild(o)),(n=o.getAttribute("content"))&&void 0!==h&&(h=n),o.setAttribute("content",t?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":h))}function f(t,n){(function(){for(var e=0;e<p.length;e++)if(p[e]._fullscreen)return!0;return!1})()&&!1===n&&r([e.documentElement,e.body]).removeClass(t+"fullscreen")}var p=[],h="",m=c.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var t=this;t._super(e),t.isRtl()&&t.classes.add("rtl"),t.classes.add("window"),t.bodyClasses.add("window-body"),t.state.set("fixed",!0),e.buttons&&(t.statusbar=new u({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:t.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),t.statusbar.classes.add("foot"),t.statusbar.parent(t)),t.on("click",function(e){var n=t.classPrefix+"close";(s.hasClass(e.target,n)||s.hasClass(e.target.parentNode,n))&&t.close()}),t.on("cancel",function(){t.close()}),t.aria("describedby",t.describedBy||t._id+"-none"),t.aria("label",e.title),t._fullscreen=!1},recalc:function(){var e,t,n,r,i=this,o=i.statusbar;i._fullscreen&&(i.layoutRect(s.getWindowSize()),i.layoutRect().contentH=i.layoutRect().innerH),i._super(),e=i.layoutRect(),i.settings.title&&!i._fullscreen&&((t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),i.layoutRect({w:t,x:n}),r=!0)),o&&(o.layoutRect({w:i.layoutRect().innerW}).recalc(),(t=o.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),i.layoutRect({w:t,x:n}),r=!0)),r&&i.recalc()},initLayoutRect:function(){var e,t=this._super(),n=0;if(this.settings.title&&!this._fullscreen){e=this.getEl("head");var r=s.getSize(e);t.headerW=r.width,t.headerH=r.height,n+=t.headerH}this.statusbar&&(n+=this.statusbar.layoutRect().h),t.deltaH+=n,t.minH+=n,t.h+=n;var i=s.getWindowSize();return t.x=this.settings.x||Math.max(0,i.w/2-t.w/2),t.y=this.settings.y||Math.max(0,i.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,i=e.settings,o="",a="",s=i.html;return e.preRender(),t.preRender(e),i.title&&(o='<div id="'+n+'-head" class="'+r+'window-head"><div id="'+n+'-title" class="'+r+'title">'+e.encode(i.title)+'</div><div id="'+n+'-dragh" class="'+r+'dragh"></div><button type="button" class="'+r+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),i.url&&(s='<iframe src="'+i.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(t){var i,l,c=this,u=e.documentElement,d=c.classPrefix;if(t!=c._fullscreen)if(r(n).on("resize",function(){var e;if(c._fullscreen)if(i)c._timer||(c._timer=o.setTimeout(function(){var e=s.getWindowSize();c.moveTo(0,0).resizeTo(e.w,e.h),c._timer=0},50));else{e=(new Date).getTime();var t=s.getWindowSize();c.moveTo(0,0).resizeTo(t.w,t.h),(new Date).getTime()-e>50&&(i=!0)}}),l=c.layoutRect(),c._fullscreen=t,t){c._initial={x:l.x,y:l.y,w:l.w,h:l.h},c.borderBox=a.parseBox("0"),c.getEl("head").style.display="none",l.deltaH-=l.headerH+2,r([u,e.body]).addClass(d+"fullscreen"),c.classes.add("fullscreen");var f=s.getWindowSize();c.moveTo(0,0).resizeTo(f.w,f.h)}else c.borderBox=a.parseBox(c.settings.border),c.getEl("head").style.display="",l.deltaH+=l.headerH,r([u,e.body]).removeClass(d+"fullscreen"),c.classes.remove("fullscreen"),c.moveTo(c._initial.x,c._initial.y).resizeTo(c._initial.w,c._initial.h);return c.reflow()},postRender:function(){var e,n=this;t(function(){n.classes.add("in"),n.fire("open")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new l(n._id+"-dragh",{start:function(){e={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(t){n.moveTo(e.x+t.deltaX,e.y+t.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()}),p.push(n),d(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e;for(this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),f(this.classPrefix,!1),e=p.length;e--;)p[e]===this&&p.splice(e,1);d(p.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return function(){if(!i.desktop){var e={w:n.innerWidth,h:n.innerHeight};o.setInterval(function(){var t=n.innerWidth,i=n.innerHeight;e.w==t&&e.h==i||(e={w:t,h:i},r(n).trigger("resize"))},100)}r(n).on("resize",function(){var e,t,n=s.getWindowSize();for(e=0;e<p.length;e++)t=p[e].layoutRect(),p[e].moveTo(p[e].settings.x||Math.max(0,n.w/2-t.w/2),p[e].settings.y||Math.max(0,n.h/2-t.h/2))})}(),m}),r("1r",["12","2e"],function(e,t){"use strict";var n=t.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(r){function i(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),a(t)}}}var o,a=r.callback||function(){};switch(r.buttons){case n.OK_CANCEL:o=[i("Ok",!0,!0),i("Cancel",!1)];break;case n.YES_NO:case n.YES_NO_CANCEL:o=[i("Yes",1,!0),i("No",0)],r.buttons==n.YES_NO_CANCEL&&o.push(i("Cancel",-1));break;default:o=[i("Ok",!0,!0)]}return new t({padding:20,x:r.x,y:r.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:o,title:r.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:r.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:r.onClose,onCancel:function(){a(!1)}}).renderTo(e.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,n.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=n.OK_CANCEL,n.msgBox(e)}}});return n}),r("a",["2e","1r"],function(e,t){return function(n){return{open:function(t,n,r){var i;return t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){i.find("form")[0].submit()}},{text:"Cancel",onclick:function(){i.close()}}]),(i=new e(t)).on("close",function(){r(i)}),t.data&&i.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),i.features=t||{},i.params=n||{},i=i.renderTo().reflow()},alert:function(e,n,r){var i;return(i=t.alert(e,function(){n()})).on("close",function(){r(i)}),i},confirm:function(e,n,r){var i;return(i=t.confirm(e,function(e){n(e)})).on("close",function(){r(i)}),i},close:function(e){e.close()},getParams:function(e){return e.params},setParams:function(e,t){e.params=t}}}}),r("3",["7","8","9","a"],function(e,t,n,r){return{get:function(i){return{renderUI:function(t){return e.renderUI(i,this,t)},resizeTo:function(e,n){return t.resizeTo(i,e,n)},resizeBy:function(e,n){return t.resizeBy(i,e,n)},getNotificationManagerImpl:function(){return n(i)},getWindowManagerImpl:function(){return r(i)}}}}}),r("1l",["2p","c"],function(e,t){"use strict";return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,r,i,o=this.settings;t=o.firstControlClass,n=o.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(o.controlClass),e.visible()&&(r||(r=e),i=e)}),r&&r.classes.add(t),i&&i.classes.add(n)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),r("d",["1l"],function(e){"use strict";return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),r("f",["12","1","15"],function(e,t,n){"use strict";return n.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,n,r=this._id,i=this.classPrefix,o=this.state.get("icon"),a=this.state.get("text"),s="",l=this.settings;return(e=l.image)?(o="none","string"!=typeof e&&(e=t.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",a&&(this.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+this.encode(a)+"</span>"),o=o?i+"ico "+i+"i-"+o:"",n="boolean"==typeof l.active?' aria-pressed="'+l.active+'"':"",'<div id="'+r+'" class="'+this.classes+'" tabindex="-1"'+n+'><button id="'+r+'-button" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+s+"</button></div>"},bindStates:function(){function t(e){var t=r("span."+i,n.getEl());e?(t[0]||(r("button:first",n.getEl()).append('<span class="'+i+'"></span>'),t=r("span."+i,n.getEl())),t.html(n.encode(e))):t.remove(),n.classes.toggle("btn-has-text",!!e)}var n=this,r=n.$,i=n.classPrefix+"txt";return n.state.on("change:text",function(e){t(e.value)}),n.state.on("change:icon",function(r){var i=r.value,o=n.classPrefix;n.settings.icon=i,i=i?o+"ico "+o+"i-"+n.settings.icon:"";var a=n.getEl().firstChild,s=a.getElementsByTagName("i")[0];i?(s&&s==a.firstChild||(s=e.createElement("i"),a.insertBefore(s,a.firstChild)),s.className=i):s&&a.removeChild(s),t(n.state.get("text"))}),n._super()}})}),i("2v",RegExp),r("e",["f","c","2n","2o","2v"],function(e,t,n,r,i){return e.extend({init:function(e){e=t.extend({text:"Browse...",multiple:!1,accept:null},e),this._super(e),this.classes.add("browsebutton"),e.multiple&&this.classes.add("multiple")},postRender:function(){var e=this,t=n.create("input",{type:"file",id:e._id+"-browse",accept:e.settings.accept});e._super(),r(t).on("change",function(t){var n=t.target.files;e.value=function(){return n.length?e.settings.multiple?n:n[0]:null},t.preventDefault(),n.length&&e.fire("change",t)}),r(t).on("click",function(e){e.stopPropagation()}),r(e.getEl("button")).on("click",function(e){e.stopPropagation(),t.click()}),e.getEl().appendChild(t)},remove:function(){r(this.getEl("button")).off(),r(this.getEl("input")).off(),this._super()}})}),r("g",["n"],function(e){"use strict";return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this._layout;return this.classes.add("btn-group"),this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}})}),r("h",["12","15"],function(e,t){"use strict";return t.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+t+"ico "+t+'i-checkbox"></i><span id="'+e+'-al" class="'+t+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function t(e){n.classes.toggle("checked",e),n.aria("checked",e)}var n=this;return n.state.on("change:text",function(e){n.getEl("al").firstChild.data=n.translate(e.value)}),n.state.on("change:checked change:value",function(e){n.fire("change"),t(e.value)}),n.state.on("change:icon",function(t){var r=t.value,i=n.classPrefix;if(void 0===r)return n.settings.icon;n.settings.icon=r,r=r?i+"ico "+i+"i-"+n.settings.icon:"";var o=n.getEl().firstChild,a=o.getElementsByTagName("i")[0];r?(a&&a==o.firstChild||(a=e.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=r):a&&o.removeChild(a)}),n.state.get("checked")&&t(!0),n._super()}})}),r("2w",["6"],function(e){return e("tinymce.util.VK")}),r("m",["12","2o","b","c","2w","2n","15"],function(e,t,n,r,i,o,a){"use strict";return a.extend({init:function(e){var n=this;n._super(e),e=n.settings,n.classes.add("combobox"),n.subinput=!0,n.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),n.on("click",function(r){var i=r.target,o=n.getEl();if(t.contains(o,i)||i==o)for(;i&&i!=o;)i.id&&-1!=i.id.indexOf("-open")&&(n.fire("action"),e.menu&&(n.showMenu(),r.aria&&n.menu.items()[0].focus())),i=i.parentNode}),n.on("keydown",function(e){var t;13==e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){if("INPUT"==e.target.nodeName){var t=n.state.get("value"),r=e.target.value;r!==t&&(n.state.set("value",r),n.fire("autocomplete",e))}}),n.on("mouseover",function(e){var t=n.tooltip().moveTo(-65535);if(n.statusLevel()&&-1!==e.target.className.indexOf(n.classPrefix+"status")){var r=n.statusMessage()||"Ok",i=t.text(r).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"==i),t.classes.toggle("tooltip-nw","bc-tl"==i),t.classes.toggle("tooltip-ne","bc-tr"==i),t.moveRel(e.target,i)}})},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,t=this,r=t.settings;t.menu||((e=r.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=n.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var n,r,i=this.getEl(),a=this.getEl("open"),s=this.layoutRect(),l=0,c=i.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(l=parseInt(o.getRuntimeStyle(c,"padding-right"),10)-parseInt(o.getRuntimeStyle(c,"padding-left"),10)),n=a?s.w-o.getSize(a).width-10:s.w-10;var u=e;return u.all&&(!u.documentMode||u.documentMode<=8)&&(r=this.layoutRect().h-2+"px"),t(c).css({width:n-l,lineHeight:r}),this._super(),this},postRender:function(){var e=this;return t(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e,t,n,r=this,i=r._id,o=r.settings,a=r.classPrefix,s=r.state.get("value")||"",l="",c="";return"spellcheck"in o&&(c+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(c+=' maxlength="'+o.maxLength+'"'),o.size&&(c+=' size="'+o.size+'"'),o.subtype&&(c+=' type="'+o.subtype+'"'),n='<i id="'+i+'-status" class="mce-status mce-ico" style="display: none"></i>',r.disabled()&&(c+=' disabled="disabled"'),(e=o.icon)&&"caret"!=e&&(e=a+"ico "+a+"i-"+o.icon),t=r.state.get("text"),(e||t)&&(l='<div id="'+i+'-open" class="'+a+"btn "+a+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+a+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",r.classes.add("has-open")),'<div id="'+i+'" class="'+r.classes+'"><input id="'+i+'-inp" class="'+a+'textbox" value="'+r.encode(s,!1)+'" hidefocus="1"'+c+' placeholder="'+r.encode(o.placeholder)+'" />'+n+l+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,t){var i=this;if(0!==e.length){i.menu?i.menu.items().remove():i.menu=n.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(i).renderTo(),r.each(e,function(e){var n,r;i.menu.add({text:e.title,url:e.previewUrl,match:t,classes:"menu-item-ellipsis",onclick:(n=e.value,r=e.title,function(){i.fire("selectitem",{title:r,value:n})})})}),i.menu.renderNew(),i.hideMenu(),i.menu.on("cancel",function(e){e.control.parent()===i.menu&&(e.stopPropagation(),i.focus(),i.hideMenu())}),i.menu.on("select",function(){i.focus()});var o=i.layoutRect().w;i.menu.layoutRect({w:o,minW:0,maxW:o}),i.menu.reflow(),i.menu.show(),i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else i.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",function(t){e.getEl("inp").value!=t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e.state.on("change:statusLevel",function(t){var n=e.getEl("status"),r=e.classPrefix,i=t.value;o.css(n,"display","none"===i?"none":""),o.toggleClass(n,r+"i-checkmark","ok"===i),o.toggleClass(n,r+"i-warning","warn"===i),o.toggleClass(n,r+"i-error","error"===i),e.classes.toggle("has-status","none"!==i),e.repaint()}),o.on(e.getEl("status"),"mouseleave",function(){e.tooltip().hide()}),e.on("cancel",function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())});var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",function(n){var r=n.keyCode;"INPUT"===n.target.nodeName&&(r===i.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):r===i.UP&&(n.preventDefault(),t(-1,e.menu)))}),e._super()},remove:function(){t(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),r("j",["m"],function(e){"use strict";return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(e){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.state.get("rendered")&&e.repaintColor(t.value)}),e._super()}})}),r("1v",["f","w"],function(e,t){"use strict";return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.classes.add("opened"),e.panel)e.panel.show();else{var r=n.panel;r.type&&(r={layout:"grid",items:r}),r.role=r.role||"dialog",r.popover=!0,r.autohide=!0,r.ariaRoot=!0,e.panel=new t(r).on("hide",function(){e.classes.remove("opened")}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}var i=e.panel.testMoveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));e.panel.classes.toggle("start","bc-tl"===i),e.panel.classes.toggle("end","bc-tr"===i),e.panel.moveRel(e.getEl(),i)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),r("k",["1v","2j"],function(e,t){"use strict";var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return r&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(r){r.aria&&"down"===r.aria.key||r.control!=e||n.getParent(r.target,"."+e.classPrefix+"open")||(r.stopImmediatePropagation(),t.call(e,r))}),delete e.settings.onclick,e._super()}})}),r("2x",["6"],function(e){return e("tinymce.util.Color")}),r("l",["15","p","2n","2x"],function(e,t,n,r){"use strict";return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var r,i,o=n.getPos(e);return r=t.pageX-o.x,i=t.pageY-o.y,{x:r=Math.max(0,Math.min(r/e.clientWidth,1)),y:i=Math.max(0,Math.min(i/e.clientHeight,1))}}function i(e,t){var i=(360-e.h)/360;n.css(c,{top:100*i+"%"}),t||n.css(d,{left:e.s+"%",top:100-e.v+"%"}),u.style.background=new r({s:100,v:100,h:e.h}).toHex(),f.color().parse({s:e.s,v:e.v,h:e.h})}function o(t){var n;n=e(u,t),s.s=100*n.x,s.v=100*(1-n.y),i(s),f.fire("change")}function a(t){var n;n=e(l,t),(s=p.toHsv()).h=360*(1-n.y),i(s,!0),f.fire("change")}var s,l,c,u,d,f=this,p=f.color();l=f.getEl("h"),c=f.getEl("hp"),u=f.getEl("sv"),d=f.getEl("svp"),f._repaint=function(){i(s=p.toHsv())},f._super(),f._svdraghelper=new t(f._id+"-sv",{start:o,drag:o}),f._hdraghelper=new t(f._id+"-h",{start:a,drag:a}),f._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){return arguments.length?(this.color().parse(e),void(this._rendered&&this._repaint())):this.color().toHex()},color:function(){return this._color||(this._color=new r),this._color},renderHtml:function(){var e,t=this._id,n=this.classPrefix,r="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+t+'-h" class="'+n+'colorpicker-h" style="'+("background: -ms-linear-gradient(top,"+r+");background: linear-gradient(to bottom,"+r+");")+'">'+function(){var e,t,i,o,a="";for(i="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(o=r.split(",")).length-1;e<t;e++)a+='<div class="'+n+'colorpicker-h-chunk" style="height:'+100/t+"%;"+i+o[e]+",endColorstr="+o[e+1]+");-ms-"+i+o[e]+",endColorstr="+o[e+1]+')"></div>';return a}()+'<div id="'+t+'-hp" class="'+n+'colorpicker-h-marker"></div></div>','<div id="'+t+'" class="'+this.classes+'"><div id="'+t+'-sv" class="'+n+'colorpicker-sv"><div class="'+n+'colorpicker-overlay1"><div class="'+n+'colorpicker-overlay2"><div id="'+t+'-svp" class="'+n+'colorpicker-selector1"><div class="'+n+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})}),r("q",["15","c","2n","2v"],function(e,t,n,r){return e.extend({init:function(e){e=t.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),this._super(e),this.classes.add("dropzone"),e.multiple&&this.classes.add("multiple")},renderHtml:function(){var e,t,r=this.settings;return e={id:this._id,hidefocus:"1"},t=n.create("div",e,"<span>"+this.translate(r.text)+"</span>"),r.height&&n.css(t,"height",r.height+"px"),r.width&&n.css(t,"width",r.width+"px"),t.className=this.classes,t.outerHTML},postRender:function(){var e=this,n=function(t){t.preventDefault(),e.classes.toggle("dragenter"),e.getEl().className=e.classes};e._super(),e.$el.on("dragover",function(e){e.preventDefault()}),e.$el.on("dragenter",n),e.$el.on("dragleave",n),e.$el.on("drop",function(n){if(n.preventDefault(),!e.state.get("disabled")){var i=function(n){var i=e.settings.accept;if("string"!=typeof i)return n;var o=new r("("+i.split(/\s*,\s*/).join("|")+")$","i");return t.grep(n,function(e){return o.test(e.name)})}(n.dataTransfer.files);e.value=function(){return i.length?e.settings.multiple?i:i[0]:null},i.length&&e.fire("change",n)}})},remove:function(){this.$el.off(),this._super()}})}),r("1w",["15"],function(e){"use strict";return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=""),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n;(n=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t,n,r=e||[],i="",o=this.classPrefix;for(t=0,n=r.length;t<n;t++)i+=(t>0?'<div class="'+o+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(t==n-1?" "+o+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+this._id+"-"+t+'" aria-level="'+(t+1)+'">'+r[t].name+"</div>";return i||(i='<div class="'+o+'path-item"></div>'),i}})}),r("r",["1w"],function(e){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var t=this,n=t.settings.editor;return!1!==n.settings.elementpath&&(t.on("select",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on("nodeChange",function(r){for(var i=[],o=r.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=n.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||i.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}t.row(i)})),t._super()}})}),r("1f",["n"],function(e){"use strict";return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),r("y",["n","1f","c"],function(e,t,n){"use strict";return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,r=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),r.each(function(r){var i,o=r.settings.label;o&&((i=new t(n.extend({items:{type:"label",id:r._id+"-l",text:o,flex:0,forId:r._id,disabled:r.disabled()}},e.settings.formItemDefaults))).type="formitem",r.aria("labelledby",r._id+"-l"),void 0===r.settings.flex&&(r.settings.flex=1),e.replace(r,i),i.add(r))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){function e(){var e,n,r=0,i=[];if(!1!==t.settings.labelGapCalc)for(("children"==t.settings.labelGapCalc?t.find("formitem"):t.items()).filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;r=n>r?n:r,i.push(t)}),n=t.settings.labelGap||0,e=i.length;e--;)i[e].settings.minWidth=r+n}var t=this;t._super(),t.on("show",e),e()}})}),r("s",["y"],function(e){"use strict";return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),i("3s",Date),i("3t",Math),r("3j",["3s","3t","3i"],function(e,t,n){var r=0;return{generate:function(i){var o=(new e).getTime();return i+"_"+t.floor(1e9*t.random())+ ++r+n(o)}}}),r("32",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),r("10",["z","31","2z","32","12"],function(e,t,n,r,i){var o=function(t){if(null===t||void 0===t)throw new n("Node cannot be null or undefined");return{dom:e.constant(t)}};return{fromHtml:function(e,t){var n=(t||i).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw r.error("HTML does not have a single root node",e),"HTML must have a single root node";return o(n.childNodes[0])},fromTag:function(e,t){var n=(t||i).createElement(e);return o(n)},fromText:function(e,t){var n=(t||i).createTextNode(e);return o(n)},fromDom:o,fromPoint:function(e,n,r){return t.from(e.dom().elementFromPoint(n,r)).map(o)}}}),r("3v",[],function(){return{cached:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}}}}),r("3o",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),r("3p",["3o"],function(e){var t=function(e){return e.dom().nodeName.toLowerCase()},n=function(e){return e.dom().nodeType},r=function(e){return function(t){return n(t)===e}},i=r(e.ELEMENT),o=r(e.TEXT),a=r(e.DOCUMENT);return{name:t,type:n,value:function(e){return e.dom().nodeValue},isElement:i,isText:o,isDocument:a,isComment:function(r){return n(r)===e.COMMENT||"#comment"===t(r)}}}),r("3m",["3v","10","3p","12"],function(e,t,n,r){var i=e.cached(function(){return o(t.fromDom(r))}),o=function(e){var n=e.dom().body;if(null===n||void 0===n)throw"Body is not available yet";return t.fromDom(n)};return{body:i,getBody:o,inBody:function(e){var t=n.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)}}}),r("3l",["2y","3i"],function(e,t){var n=function(n){return function(r){return function(n){if(null===n)return"null";var r=typeof n;return"object"===r&&e.prototype.isPrototypeOf(n)?"array":"object"===r&&t.prototype.isPrototypeOf(n)?"string":r}(r)===n}};return{isString:n("string"),isObject:n("object"),isArray:n("array"),isNull:n("null"),isBoolean:n("boolean"),isUndefined:n("undefined"),isFunction:n("function"),isNumber:n("number")}}),r("4a",["2l","z","2y","2z"],function(e,t,n,r){return function(){var i=arguments;return function(){for(var o=new n(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];if(i.length!==o.length)throw new r('Wrong number of arguments to struct. Expected "['+i.length+']", got '+o.length+" arguments");var s={};return e.each(i,function(e,n){s[e]=t.constant(o[n])}),s}}}),r("4f",["31","3h"],function(e,t){var n,r=void 0===(n=t.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:n,i=function(e,t){for(var n=r(e),i=0,o=n.length;i<o;i++){var a=n[i];t(e[a],a,e)}},o=function(e,t){var n={};return i(e,function(r,i){var o=t(r,i,e);n[o.k]=o.v}),n},a=function(e,t){var n=[];return i(e,function(e,r){n.push(t(e,r))}),n},s=function(e){return a(e,function(e){return e})};return{bifilter:function(e,t){var n={},r={};return i(e,function(e,i){(t(e,i)?n:r)[i]=e}),{t:n,f:r}},each:i,map:function(e,t){return o(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},mapToArray:a,tupleMap:o,find:function(t,n){for(var i=r(t),o=0,a=i.length;o<a;o++){var s=i[o],l=t[s];if(n(l,s,t))return e.some(l)}return e.none()},keys:r,values:s,size:function(e){return s(e).length}}}),r("4g",["2l","3l","2z"],function(e,t,n){var r=function(e){return e.slice(0).sort()};return{sort:r,reqMessage:function(e,t){throw new n("All required keys ("+r(e).join(", ")+") were not specified. Specified keys were: "+r(t).join(", ")+".")},unsuppMessage:function(e){throw new n("Unsupported keys for object: "+r(e).join(", "))},validateStrArr:function(r,i){if(!t.isArray(i))throw new n("The "+r+" fields must be an array. Was: "+i+".");e.each(i,function(e){if(!t.isString(e))throw new n("The value "+e+" in the "+r+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new n("All values need to be of type: "+t+". Keys ("+r(e).join(", ")+") were not.")},checkDupes:function(t){var i=r(t);e.find(i,function(e,t){return t<i.length-1&&e===i[t+1]}).each(function(e){throw new n("The field: "+e+" occurs more than once in the combined fields: ["+i.join(", ")+"].")})}}}),r("4b",["2l","z","4f","31","4g","2z","3h"],function(e,t,n,r,i,o,a){return function(s,l){var c=s.concat(l);if(0===c.length)throw new o("You must specify at least one required or optional field.");return i.validateStrArr("required",s),i.validateStrArr("optional",l),i.checkDupes(c),function(o){var u=n.keys(o);e.forall(s,function(t){return e.contains(u,t)})||i.reqMessage(s,u);var d=e.filter(u,function(t){return!e.contains(c,t)});d.length>0&&i.unsuppMessage(d);var f={};return e.each(s,function(e){f[e]=t.constant(o[e])}),e.each(l,function(e){f[e]=t.constant(a.prototype.hasOwnProperty.call(o,e)?r.some(o[e]):r.none())}),f}}}),r("42",["4a","4b"],function(e,t){return{immutable:e,immutableBag:t}}),r("43",[],function(){return{toArray:function(e,t){var n=[],r=function(e){return n.push(e),t(e)},i=t(e);do{i=i.bind(r)}while(i.isSome());return n}}}),r("4c",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),r("44",["4c"],function(e){var t=function(t,n){for(var r=void 0!==n?n:e,i=0;i<t.length&&void 0!==r&&null!==r;++i)r=r[t[i]];return r},n=function(t,n){for(var r=void 0!==n?n:e,i=0;i<t.length;++i)o=r,a=t[i],void 0!==o[a]&&null!==o[a]||(o[a]={}),r=o[a];var o,a;return r};return{path:t,resolve:function(e,n){var r=e.split(".");return t(r,n)},forge:n,namespace:function(e,t){var r=e.split(".");return n(r,t)}}}),r("3z",["44"],function(e){return{getOrDie:function(t,n){var r,i,o=(r=t,i=n,e.resolve(r,i));if(void 0===o)throw t+" not available on this browser";return o}}}),r("3w",["3z"],function(e){var t=function(){return e.getOrDie("Node")},n=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)};return{documentPositionPreceding:function(e,r){return n(e,r,t().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(e,r){return n(e,r,t().DOCUMENT_POSITION_CONTAINED_BY)}}}),i("4h",Number),r("4d",["2l","4h","3i"],function(e,t,n){var r=function(){return i(0,0)},i=function(e,t){return{major:e,minor:t}};return{nu:i,detect:function(e,o){var a=n(o).toLowerCase();return 0===e.length?r():function(e,n){var r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,n);if(!r)return{major:0,minor:0};var o=function(e){return t(n.replace(r,"$"+e))};return i(o(1),o(2))}(e,a)},unknown:r}}),r("45",["z","4d"],function(e,t){var n=function(e,t){return function(){return t===e}},r=function(e){var t=e.current;return{current:t,version:e.version,isEdge:n("Edge",t),isChrome:n("Chrome",t),isIE:n("IE",t),isOpera:n("Opera",t),isFirefox:n("Firefox",t),isSafari:n("Safari",t)}};return{unknown:function(){return r({current:void 0,version:t.unknown()})},nu:r,edge:e.constant("Edge"),chrome:e.constant("Chrome"),ie:e.constant("IE"),opera:e.constant("Opera"),firefox:e.constant("Firefox"),safari:e.constant("Safari")}}),r("46",["z","4d"],function(e,t){var n=function(e,t){return function(){return t===e}},r=function(e){var t=e.current;return{current:t,version:e.version,isWindows:n("Windows",t),isiOS:n("iOS",t),isAndroid:n("Android",t),isOSX:n("OSX",t),isLinux:n("Linux",t),isSolaris:n("Solaris",t),isFreeBSD:n("FreeBSD",t)}};return{unknown:function(){return r({current:void 0,version:t.unknown()})},nu:r,windows:e.constant("Windows"),ios:e.constant("iOS"),android:e.constant("Android"),linux:e.constant("Linux"),osx:e.constant("OSX"),solaris:e.constant("Solaris"),freebsd:e.constant("FreeBSD")}}),r("47",["z"],function(e){return function(t,n,r){var i=t.isiOS()&&!0===/ipad/i.test(r),o=t.isiOS()&&!i,a=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,l=i||a||s&&!0===/mobile/i.test(r),c=t.isiOS()||t.isAndroid(),u=c&&!l,d=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r);return{isiPad:e.constant(i),isiPhone:e.constant(o),isTablet:e.constant(l),isPhone:e.constant(u),isTouch:e.constant(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:e.constant(d)}}}),r("48",["2l","4d","3i"],function(e,t,n){var r=function(t,r){var i=n(r).toLowerCase();return e.find(t,function(e){return e.search(i)})};return{detectBrowser:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})},detectOs:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})}}}),r("4i",[],function(){return{addToStart:function(e,t){return t+e},addToEnd:function(e,t){return e+t},removeFromStart:function(e,t){return e.substring(t)},removeFromEnd:function(e,t){return e.substring(0,e.length-t)}}}),r("4j",["31","2z"],function(e,t){return{first:function(e,t){return e.substr(0,t)},last:function(e,t){return e.substr(e.length-t,e.length)},head:function(t){return""===t?e.none():e.some(t.substr(0,1))},tail:function(t){return""===t?e.none():e.some(t.substring(1))}}}),r("4e",["4i","4j","2z"],function(e,t,n){var r=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},i=function(e,t){return r(e,t,0)},o=function(e,t){return r(e,t,e.length-t.length)};return{supplant:function(e,t){return e.replace(/\${([^{}]*)}/g,function(e,n){var r,i=t[n];return"string"==(r=typeof i)||"number"===r?i:e})},startsWith:i,removeLeading:function(t,n){return i(t,n)?e.removeFromStart(t,n.length):t},removeTrailing:function(t,n){return o(t,n)?e.removeFromEnd(t,n.length):t},ensureLeading:function(t,n){return i(t,n)?t:e.addToStart(t,n)},ensureTrailing:function(t,n){return o(t,n)?t:e.addToEnd(t,n)},endsWith:o,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return t.head(e).bind(function(n){return t.tail(e).map(function(e){return n.toUpperCase()+e})}).getOr(e)}}}),r("49",["z","4e"],function(e,t){var n=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,r=function(e){return function(n){return t.contains(n,e)}},i=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return t.contains(e,"edge/")&&t.contains(e,"chrome")&&t.contains(e,"safari")&&t.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,n],search:function(e){return t.contains(e,"chrome")&&!t.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return t.contains(e,"msie")||t.contains(e,"trident")}},{name:"Opera",versionRegexes:[n,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:r("firefox")},{name:"Safari",versionRegexes:[n,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(t.contains(e,"safari")||t.contains(e,"mobile/"))&&t.contains(e,"applewebkit")}}],o=[{name:"Windows",search:r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return t.contains(e,"iphone")||t.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:r("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:r("linux"),versionRegexes:[]},{name:"Solaris",search:r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:r("freebsd"),versionRegexes:[]}];return{browsers:e.constant(i),oses:e.constant(o)}}),r("40",["45","46","47","48","49"],function(e,t,n,r,i){return{detect:function(o){var a=i.browsers(),s=i.oses(),l=r.detectBrowser(a,o).fold(e.unknown,e.nu),c=r.detectOs(s,o).fold(t.unknown,t.nu);return{browser:l,os:c,deviceType:n(c,l,o)}}}}),i("41",navigator),r("3x",["3v","40","41"],function(e,t,n){return{detect:e.cached(function(){var e=n.userAgent;return t.detect(e)})}}),r("34",["2l","31","10","3o","2z","12"],function(e,t,n,r,i,o){var a=r.ELEMENT,s=r.DOCUMENT,l=function(e){return e.nodeType!==a&&e.nodeType!==s||0===e.childElementCount};return{all:function(t,r){var i=void 0===r?o:r.dom();return l(i)?[]:e.map(i.querySelectorAll(t),n.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==a)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new i("Browser lacks native selectors")},one:function(e,r){var i=void 0===r?o:r.dom();return l(i)?t.none():t.from(i.querySelector(e)).map(n.fromDom)}}}),r("3n",["2l","z","3w","3x","34"],function(e,t,n,r,i){var o=function(e,t){return e.dom()===t.dom()},a=r.detect().browser.isIE()?function(e,t){return n.documentPositionContainedBy(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)};return{eq:o,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(n,r){return e.exists(r,t.curry(o,n))},contains:a,is:i.is}}),r("3y",["3l","2l","z","31","42","43","3n","10"],function(e,t,n,r,i,o,a,s){var l=function(e){return s.fromDom(e.dom().ownerDocument)},c=function(e){var t=e.dom();return r.from(t.parentNode).map(s.fromDom)},u=function(e){var t=e.dom();return r.from(t.previousSibling).map(s.fromDom)},d=function(e){var t=e.dom();return r.from(t.nextSibling).map(s.fromDom)},f=function(e){var n=e.dom();return t.map(n.childNodes,s.fromDom)},p=function(e,t){var n=e.dom().childNodes;return r.from(n[t]).map(s.fromDom)},h=i.immutable("element","offset");return{owner:l,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return s.fromDom(t)},documentElement:function(e){var t=l(e);return s.fromDom(t.dom().documentElement)},parent:c,findIndex:function(e){return c(e).bind(function(n){var r=f(n);return t.findIndex(r,function(t){return a.eq(e,t)})})},parents:function(t,r){for(var i=e.isFunction(r)?r:n.constant(!1),o=t.dom(),a=[];null!==o.parentNode&&void 0!==o.parentNode;){var l=o.parentNode,c=s.fromDom(l);if(a.push(c),!0===i(c))break;o=l}return a},siblings:function(e){return c(e).map(f).map(function(n){return t.filter(n,function(t){return!a.eq(e,t)})}).getOr([])},prevSibling:u,offsetParent:function(e){var t=e.dom();return r.from(t.offsetParent).map(s.fromDom)},prevSiblings:function(e){return t.reverse(o.toArray(e,u))},nextSibling:d,nextSiblings:function(e){return o.toArray(e,d)},children:f,child:p,firstChild:function(e){return p(e,0)},lastChild:function(e){return p(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=f(e);return n.length>0&&t<n.length?h(n[t],0):h(e,t)}}}),r("3u",["2l","3m","3y"],function(e,t,n){var r=function(t,i){var o=[];return e.each(n.children(t),function(e){i(e)&&(o=o.concat([e])),o=o.concat(r(e,i))}),o};return{all:function(e){return r(t.body(),e)},ancestors:function(t,r,i){return e.filter(n.parents(t,i),r)},siblings:function(t,r){return e.filter(n.siblings(t),r)},children:function(t,r){return e.filter(n.children(t),r)},descendants:r}}),r("3k",["3u","34"],function(e,t){return{all:function(e){return t.all(e)},ancestors:function(n,r,i){return e.ancestors(n,function(e){return t.is(e,r)},i)},siblings:function(n,r){return e.siblings(n,function(e){return t.is(e,r)})},children:function(n,r){return e.children(n,function(e){return t.is(e,r)})},descendants:function(e,n){return t.all(n,e)}}}),r("30",["2l","z","3j","10","3k","2j","c"],function(e,t,n,r,i,o,a){var s=a.trim,l=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},c=l("true"),u=l("false"),d=function(e,t,n,r,i){return{type:e,title:t,url:n,level:r,attach:i}},f=function(e){return e.innerText||e.textContent},p=function(e){return(t=e)&&"A"===t.nodeName&&(t.id||t.name)&&m(e);var t},h=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},m=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return c(e)}return!1}(e)&&!u(e)},g=function(e){return h(e)&&m(e)},v=function(e){var t,r,i=(t=e).id?t.id:n.generate("h");return d("header",f(e),"#"+i,h(r=e)?parseInt(r.nodeName.substr(1),10):0,function(){e.id=i})},b=function(e){var n=e.id||e.name,r=f(e);return d("anchor",r||"#"+n,"#"+n,0,t.noop)},y=function(t){var n,o;return n="h1,h2,h3,h4,h5,h6,a:not([href])",o=t,e.map(i.descendants(r.fromDom(o),n),function(e){return e.dom()})},w=function(e){return s(e.title).length>0};return{find:function(t){var n,r,i=y(t);return e.filter((r=i,e.map(e.filter(r,g),v)).concat((n=i,e.map(e.filter(n,p),b))),w)}}}),r("t",["2l","z","1","30","13","m","c"],function(e,t,n,r,i,o,a){"use strict";var s={},l=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},c=function(e,n){return{title:e,value:{title:e,url:n,attach:t.noop}}},u=function(e,t,n){var r=t in e?e[t]:n;return!1===r?null:r},d=function(n,r,i,o){var d,p,h,m,g={title:"-"},v=function(n){var o=n.hasOwnProperty(i)?n[i]:[],s=e.filter(o,function(t){return n=t,i=r,!e.exists(i,function(e){return e.url===n});var n,i});return a.map(s,function(e){return{title:e,value:{title:e,url:e,attach:t.noop}}})},b=function(t){var n,i=e.filter(r,function(e){return e.type===t});return n=i,a.map(n,l)};return!1===o.typeahead_urls?[]:"file"===i?(d=[f(n,v(s)),f(n,b("header")),f(n,(p=b("anchor"),h=u(o,"anchor_top","#top"),m=u(o,"anchor_bottom","#bottom"),null!==h&&p.unshift(c("<top>",h)),null!==m&&p.push(c("<bottom>",m)),p))],e.foldl(d,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(g,t)},[])):f(n,v(s))},f=function(e,t){var n=e.toLowerCase(),r=a.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n)});return 1===r.length&&r[0].title===e?[]:r},p=function(t,n,i,o){var a=function(e){var a=r.find(i),s=d(e,a,o,n);t.showAutoComplete(s,e)};t.on("autocomplete",function(){a(t.value())}),t.on("selectitem",function(e){var n=e.value;t.value(n.url);var r,i=(r=n.title).raw?r.raw:r;"image"===o?t.fire("change",{meta:{alt:i,attach:n.attach}}):t.fire("change",{meta:{text:i,attach:n.attach}}),t.focus()}),t.on("click",function(e){0===t.value().length&&"INPUT"===e.target.nodeName&&a("")}),t.on("PostRender",function(){t.getRoot().on("submit",function(n){var r,i,a;n.isDefaultPrevented()||(r=t.value(),a=s[i=o],/^https?/.test(r)&&(a?-1===e.indexOf(a,r)&&(s[i]=a.slice(0,5).concat(r)):s[i]=[r]))})})},h=function(e,t,n){var r=t.filepicker_validator_handler;if(r){e.state.on("change:value",function(t){var i;0===(i=t.value).length?e.statusLevel("none"):r({url:i,type:n},function(t){var n,r,i,o=(r=(n=t).status,i=n.message,"valid"===r?{status:"ok",message:i}:"unknown"===r?{status:"warn",message:i}:"invalid"===r?{status:"warn",message:i}:{status:"none",message:""});e.statusMessage(o.message),e.statusLevel(o.status)})})}};return o.extend({Statics:{clearHistory:function(){s={}}},init:function(e){var t,r,o,s=this,l=n.tinymce?n.tinymce.activeEditor:i.activeEditor,c=l.settings,u=e.filetype;e.spellcheck=!1,(o=c.file_picker_types||c.file_browser_callback_types)&&(o=a.makeMap(o,/[, ]/)),o&&!o[u]||(!(r=c.file_picker_callback)||o&&!o[u]?!(r=c.file_browser_callback)||o&&!o[u]||(t=function(){r(s.getEl("inp").id,s.value(),u,n)}):t=function(){var e=s.fire("beforecall").meta;e=a.extend({filetype:u},e),r.call(l,function(e,t){s.value(e).fire("change",{meta:t})},s.value(),e)}),t&&(e.icon="browse",e.onaction=t),s._super(e),p(s,c,l.getBody(),u),h(s,c,u)}})}),r("u",["d"],function(e){"use strict";return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),r("v",["d"],function(e){"use strict";return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b,y,w,x,C,$,S,k,T,_,E,D,A,N,R,O,P,I,M,L,B=[],F=Math.max,j=Math.min;for(r=e.items().filter(":visible"),i=e.layoutRect(),o=e.paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!=f&&"column-reverse"!=f||(r=r.set(r.toArray().reverse()),f=f.split("-")[0]),"column"==f?(S="y",C="h",$="minH",k="maxH",_="innerH",T="top",E="deltaH",D="contentH",P="left",R="w",A="x",N="innerW",O="minW",I="right",M="deltaW",L="contentW"):(S="x",C="w",$="minW",k="maxW",_="innerW",T="left",E="deltaW",D="contentW",P="top",R="h",A="y",N="innerH",O="minH",I="bottom",M="deltaH",L="contentH"),d=i[_]-o[T]-o[T],x=u=0,t=0,n=r.length;t<n;t++)h=(p=r[t]).layoutRect(),m=p.settings.flex,d-=t<n-1?c:0,m>0&&(u+=m,h[k]&&B.push(p),h.flex=m),d-=h[$],(g=o[P]+h[O]+o[I])>x&&(x=g);if((y={})[$]=d<0?i[$]-d+i[E]:i[_]-d+i[E],y[O]=x+i[M],y[D]=i[_]-d,y[L]=x,y.minW=j(y.minW,i.maxW),y.minH=j(y.minH,i.maxH),y.minW=F(y.minW,i.startMinWidth),y.minH=F(y.minH,i.startMinHeight),!i.autoResize||y.minW==i.minW&&y.minH==i.minH){for(b=d/u,t=0,n=B.length;t<n;t++)v=(h=(p=B[t]).layoutRect())[k],(g=h[$]+h.flex*b)>v?(d-=h[k]-h[$],u-=h.flex,h.flex=0,h.maxFlexSize=v):h.maxFlexSize=0;for(b=d/u,w=o[T],y={},0===u&&("end"==l?w=d+o[T]:"center"==l?(w=Math.round(i[_]/2-(i[_]-d)/2)+o[T])<0&&(w=o[T]):"justify"==l&&(w=o[T],c=Math.floor(d/(r.length-1)))),y[A]=o[P],t=0,n=r.length;t<n;t++)g=(h=(p=r[t]).layoutRect()).maxFlexSize||h[$],"center"===s?y[A]=Math.round(i[N]/2-h[R]/2):"stretch"===s?(y[R]=F(h[O]||0,i[N]-o[P]-o[I]),y[A]=o[P]):"end"===s&&(y[A]=i[N]-h[R]-o.top),h.flex>0&&(g+=h.flex*b),y[C]=g,y[S]=w,p.layoutRect(y),p.recalc&&p.recalc(),w+=g+c}else if(y.w=y.minW,y.h=y.minH,e.layoutRect(y),this.recalc(e),null===e._lastRect){var z=e.parent();z&&(z._lastRect=null,z.recalc())}}})}),r("x",["1l"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),r("35",["3l","31"],function(e,t){return function(n,r,i,o,a){return n(i,o)?t.some(i):e.isFunction(a)&&a(i)?t.none():r(i,o,a)}}),r("33",["3l","2l","z","31","3m","3n","10","35"],function(e,t,n,r,i,o,a,s){var l=function(t,i,o){for(var s=t.dom(),l=e.isFunction(o)?o:n.constant(!1);s.parentNode;){s=s.parentNode;var c=a.fromDom(s);if(i(c))return r.some(c);if(l(c))break}return r.none()},c=function(e,r){return t.find(e.dom().childNodes,n.compose(r,a.fromDom)).map(a.fromDom)},u=function(e,t){var n=function(e){for(var i=0;i<e.childNodes.length;i++){if(t(a.fromDom(e.childNodes[i])))return r.some(a.fromDom(e.childNodes[i]));var o=n(e.childNodes[i]);if(o.isSome())return o}return r.none()};return n(e.dom())};return{first:function(e){return u(i.body(),e)},ancestor:l,closest:function(e,t,n){return s(function(e){return t(e)},l,e,t,n)},sibling:function(e,t){var n=e.dom();return n.parentNode?c(a.fromDom(n.parentNode),function(n){return!o.eq(e,n)&&t(n)}):r.none()},child:c,descendant:u}}),r("11",["33","34","35"],function(e,t,n){var r=function(n,r,i){return e.ancestor(n,function(e){return t.is(e,r)},i)};return{first:function(e){return t.one(e)},ancestor:r,sibling:function(n,r){return e.sibling(n,function(e){return t.is(e,r)})},child:function(n,r){return e.child(n,function(e){return t.is(e,r)})},descendant:function(e,n){return t.one(n,e)},closest:function(e,i,o){return n(t.is,r,e,i,o)}}}),r("36",[],function(){return{toggleFormat:function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},postRenderFormat:function(e,t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,function(e){n.active(e)}):e.on("init",function(){e.formatter.formatChanged(t,function(e){n.active(e)})})}}}}),r("16",["c","36"],function(e,t){return{register:function(n){n.addMenuItem("align",{text:"Align",menu:[{text:"Left",icon:"alignleft",onclick:t.toggleFormat(n,"alignleft")},{text:"Center",icon:"aligncenter",onclick:t.toggleFormat(n,"aligncenter")},{text:"Right",icon:"alignright",onclick:t.toggleFormat(n,"alignright")},{text:"Justify",icon:"alignjustify",onclick:t.toggleFormat(n,"alignjustify")}]}),e.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,r){n.addButton(r,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:t.postRenderFormat(n,r)})})}}}),r("37",["z","31","10","3p","2j"],function(e,t,n,r,i){var o=function(e){return function(o,a){return t.from(a).map(n.fromDom).filter(r.isElement).bind(function(n){return function(e,n,r){for(;r!==n;){if(r.style[e]){var i=r.style[e];return""!==i?t.some(i):t.none()}r=r.parentNode}return t.none()}(e,o,n.dom()).or((r=e,a=n.dom(),t.from(i.DOM.getStyle(a,r,!0))));var r,a}).getOr("")}};return{getFontSize:o("fontSize"),getFontFamily:e.compose(function(e){return e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},o("fontFamily")),toPt:function(e,t){return/[0-9.]+px$/.test(e)?(n=72*parseInt(e,10)/96,r=t||0,i=Math.pow(10,r),Math.round(n*i)/i+"pt"):e;var n,r,i}}}),r("17",["c","37"],function(e,t){var n=function(e){return e?e.split(",")[0]:""},r=function(r,i){return function(){var o=this;r.on("init nodeChange",function(a){var s,l,c,u=t.getFontFamily(r.getBody(),a.element),d=(s=i,l=u,e.each(s,function(e){e.value.toLowerCase()===l.toLowerCase()&&(c=e.value)}),e.each(s,function(e){c||n(e.value).toLowerCase()!==n(l).toLowerCase()||(c=e.value)}),c);o.value(d||null),!d&&u&&o.text(n(u))})}},i=function(t){t.addButton("fontselect",function(){var n,i=(n=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(t.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"),e.map(n,function(e){return{text:{raw:e[0]},value:e[1],textStyle:-1===e[1].indexOf("dings")?"font-family:"+e[1]:""}}));return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:i,fixedWidth:!0,onPostRender:r(t,i),onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}})};return{register:function(e){i(e)}}}),r("18",["c","37"],function(e,t){var n=function(t,n,r){var i;return e.each(t,function(e){e.value===r?i=r:e.value===n&&(i=n)}),i},r=function(r){r.addButton("fontsizeselect",function(){var i,o,a,s=(i=r.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt",e.map(i.split(" "),function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{text:t,value:n}}));return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:s,fixedWidth:!0,onPostRender:(o=r,a=s,function(){var e=this;o.on("init nodeChange",function(r){var i,s,l,c;if(i=t.getFontSize(o.getBody(),r.element))for(l=3;!c&&l>=0;l--)s=t.toPt(i,l),c=n(a,s,i);e.value(c||null),c||e.text(s)})}),onclick:function(e){e.control.settings.value&&r.execCommand("FontSize",!1,e.control.settings.value)}}})};return{register:function(e){r(e)}}}),r("19",["c","36"],function(e,t){var n=function(n,r){return function(){var i,o,a,s=[];return e.each(r,function(e){s.push({text:e[0],value:e[1],textStyle:function(){return n.formatter.getCssText(e[1])}})}),{type:"listbox",text:r[0][0],values:s,fixedWidth:!0,onselect:function(e){if(e.control){var r=e.control.value();t.toggleFormat(n,r)()}},onPostRender:(i=n,o=s,function(){var t=this;i.on("nodeChange",function(n){var r=i.formatter,s=null;e.each(n.parents,function(t){if(e.each(o,function(e){if(a?r.matchNode(t,a,{value:e.value})&&(s=e.value):r.matchNode(t,e.value)&&(s=e.value),s)return!1}),s)return!1}),t.value(s)})})}}};return{register:function(r){var i,o,a=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(r.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");r.addMenuItem("blockformats",{text:"Blocks",menu:(i=r,o=a,e.map(o,function(e){return{text:e[0],onclick:t.toggleFormat(i,e[1]),textStyle:function(){return i.formatter.getCssText(e[1])}}}))}),r.addButton("formatselect",n(r,a))}}}),r("1a",["c","36"],function(e,t){var n=function(t,r){var i=r.length;return e.each(r,function(e){e.menu&&(e.hidden=0===n(t,e.menu));var r=e.format;r&&(e.hidden=!t.formatter.canApply(r)),e.hidden&&i--}),i},r=function(e,t){var i=t.items().length;return t.items().each(function(t){t.menu&&t.visible(r(e,t.menu)>0),!t.menu&&t.settings.menu&&t.visible(n(e,t.settings.menu)>0);var o=t.settings.format;o&&t.visible(e.formatter.canApply(o)),t.visible()||i--}),i};return{register:function(n){var i,o,a,s,l,c,u,d,f=(o=0,a=[],s=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],l=function(t){var n=[];if(t)return e.each(t,function(e){var t={text:e.title,icon:e.icon};if(e.items)t.menu=l(e.items);else{var r=e.format||"custom"+o++;e.format||(e.name=r,a.push(e)),t.format=r,t.cmd=e.cmd}n.push(t)}),n},(i=n).on("init",function(){e.each(a,function(e){i.formatter.register(e.name,e)})}),{type:"menu",items:l(i.settings.style_formats_merge?i.settings.style_formats?s.concat(i.settings.style_formats):s:i.settings.style_formats||s),onPostRender:function(e){i.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return i.formatter.getCssText(this.settings.format)},onPostRender:function(){var e=this;e.parent().on("show",function(){var t,n;(t=e.settings.format)&&(e.disabled(!i.formatter.canApply(t)),e.active(i.formatter.match(t))),(n=e.settings.cmd)&&e.active(i.queryCommandState(n))})},onclick:function(){this.settings.format&&t.toggleFormat(i,this.settings.format)(),this.settings.cmd&&i.execCommand(this.settings.cmd)}}});d=f,n.addMenuItem("formats",{text:"Formats",menu:d}),u=f,(c=n).addButton("styleselect",{type:"menubutton",text:"Formats",menu:u,onShowMenu:function(){c.settings.style_formats_autohide&&r(c,this.menu)}})}}}),r("1b",["2l","c"],function(e,t){var n=function(r,i){var o,a;if("string"==typeof i)a=i.split(" ");else if(t.isArray(i))return e.flatten(t.map(i,function(e){return n(r,e)}));return o=t.grep(a,function(e){return"|"===e||e in r.menuItems}),t.map(o,function(e){return"|"===e?{text:"-"}:r.menuItems[e]})},r=function(e){return e&&"-"===e.text},i=function(i){var o,a,s,l,c,u,d=i.settings.insert_button_items;return o=d?n(i,d):(s=i,l="insert",c=[{text:"-"}],u=t.grep(s.menuItems,function(e){return e.context===l}),t.each(u,function(e){"before"===e.separator&&c.push({text:"|"}),e.prependToContext?c.unshift(e):c.push(e),"after"===e.separator&&c.push({text:"|"})}),c),a=e.filter(o,function(e,t,n){return!r(e)||!r(n[t-1])}),e.filter(a,function(e,t,n){return!r(e)||t>0&&t<n.length-1})};return{register:function(e){var t;(t=e).addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(i(t)),this.menu.renderNew()}})}}}),r("1c",["c","36"],function(e,t){var n=function(n){var r,i,o;o=n,e.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,n){o.addButton(n,{active:!1,tooltip:e,onPostRender:t.postRenderFormat(o,n),onclick:t.toggleFormat(o,n)})}),i=n,e.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(e,t){i.addButton(t,{tooltip:e[0],cmd:e[1]})}),r=n,e.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(e,n){r.addButton(n,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:t.postRenderFormat(r,n)})})};return{register:function(r){var i;n(r),i=r,e.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(e,t){i.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),i.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:t.toggleFormat(i,"code")})}}}),r("1d",[],function(){var e=function(e,t){return function(){var n=this,r=function(){var n="redo"===t?"hasRedo":"hasUndo";return!!e.undoManager&&e.undoManager[n]()};n.disabled(!r()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){n.disabled(e.readonly||!r())})}};return{register:function(t){var n,r;(r=t).addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:e(r,"undo"),cmd:"undo"}),r.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:e(r,"redo"),cmd:"redo"}),(n=t).addButton("undo",{tooltip:"Undo",onPostRender:e(n,"undo"),cmd:"undo"}),n.addButton("redo",{tooltip:"Redo",onPostRender:e(n,"redo"),cmd:"redo"})}}}),r("1e",[],function(){return{register:function(e){var t,n;(t=e).addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:(n=t,function(){var e=this;n.on("VisualAid",function(t){e.active(t.hasVisual)}),e.active(n.hasVisual)}),cmd:"mceToggleVisualAid"})}}}),r("5",["z","10","11","12","13","14","o","w","15","16","17","18","19","1a","1b","1c","1d","1e"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v){return{setup:function(b){var y;b.rtl&&(a.rtl=!0),b.on("mousedown",function(){s.hideAll()}),(y=b).settings.ui_container&&(o.container=n.descendant(t.fromDom(r.body),y.settings.ui_container).fold(e.constant(null),function(e){return e.dom()})),l.tooltips=!o.iOS,a.translate=function(e){return i.translate(e)},f.register(b),c.register(b),m.register(b),g.register(b),d.register(b),u.register(b),p.register(b),v.register(b),h.register(b)}}}),r("1g",["d"],function(e){"use strict";return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b,y,w,x,C,$,S,k,T,_,E,D=[],A=[];t=e.settings,i=e.items().filter(":visible"),o=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(i.length)),n=Math.ceil(i.length/r),b=t.spacingH||t.spacing||0,y=t.spacingV||t.spacing||0,w=t.alignH||t.align,x=t.alignV||t.align,g=e.paddingBox,E="reverseRows"in t?t.reverseRows:e.isRtl(),w&&"string"==typeof w&&(w=[w]),x&&"string"==typeof x&&(x=[x]);for(d=0;d<r;d++)D.push(0);for(f=0;f<n;f++)A.push(0);for(f=0;f<n;f++)for(d=0;d<r&&(u=i[f*r+d]);d++)S=(c=u.layoutRect()).minW,k=c.minH,D[d]=S>D[d]?S:D[d],A[f]=k>A[f]?k:A[f];for(T=o.innerW-g.left-g.right,C=0,d=0;d<r;d++)C+=D[d]+(d>0?b:0),T-=(d>0?b:0)+D[d];for(_=o.innerH-g.top-g.bottom,$=0,f=0;f<n;f++)$+=A[f]+(f>0?y:0),_-=(f>0?y:0)+A[f];if(C+=g.left+g.right,$+=g.top+g.bottom,(l={}).minW=C+(o.w-o.innerW),l.minH=$+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){var N;o.autoResize&&((l=e.layoutRect(l)).contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH),N="start"==t.packV?0:_>0?Math.floor(_/n):0;var R=0,O=t.flexWidths;if(O)for(d=0;d<O.length;d++)R+=O[d];else R=r;var P=T/R;for(d=0;d<r;d++)D[d]+=O?O[d]*P:P;for(h=g.top,f=0;f<n;f++){for(p=g.left,s=A[f]+N,d=0;d<r&&(u=i[E?f*r+r-1-d:f*r+d]);d++)m=u.settings,c=u.layoutRect(),a=Math.max(D[d],c.startMinWidth),c.x=p,c.y=h,"center"==(v=m.alignH||(w?w[d]||w[0]:null))?c.x=p+a/2-c.w/2:"right"==v?c.x=p+a-c.w:"stretch"==v&&(c.w=a),"center"==(v=m.alignV||(x?x[d]||x[0]:null))?c.y=h+s/2-c.h/2:"bottom"==v?c.y=h+s-c.h:"stretch"==v&&(c.h=s),u.layoutRect(c),p+=a+b,u.recalc&&u.recalc();h+=s+y}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var I=e.parent();I&&(I._lastRect=null,I.recalc())}}})}),r("1h",["15","2u"],function(e,t){"use strict";return e.extend({renderHtml:function(){return this.classes.add("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var r=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,n&&n()):t.setTimeout(function(){r.html(e)}),this}})}),r("1i",["15"],function(e){"use strict";return e.extend({init:function(e){this._super(e),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e.state.on("change:help",function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),r("1k",["15","2n"],function(e,t){"use strict";return e.extend({init:function(e){this._super(e),this.classes.add("widget").add("label"),this.canFocus=!1,e.multiline&&this.classes.add("autoscroll"),e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();this.settings.multiline&&(t.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,t.getSize(this.getEl()).height));return e},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,r=n.settings.forId,i=n.settings.html?n.settings.html:n.encode(n.state.get("text"));return!r&&(t=n.settings.forName)&&((e=n.getRoot().find("#"+t)[0])&&(r=e._id)),r?'<label id="'+n._id+'" class="'+n.classes+'"'+(r?' for="'+r+'"':"")+">"+i+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+i+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}})}),r("2c",["n"],function(e){"use strict";return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(e){e.classes.add("toolbar-item")}),this._super()}})}),r("1o",["2c"],function(e){"use strict";return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),r("1p",["1","b","f","1o"],function(e,t,n,r){"use strict";var i=n.extend({init:function(e){this._renderOpen=!0,this._super(e),e=this.settings,this.classes.add("menubtn"),e.fixedWidth&&this.classes.add("fixed-width"),this.aria("haspopup",!0),this.state.set("menu",e.menu||this.render())},showMenu:function(e){var n,r=this;return r.menu&&r.menu.visible()&&!1!==e?r.hideMenu():(r.menu||(n=r.state.get("menu")||[],r.classes.add("opened"),n.length?n={type:"menu",animate:!0,items:n}:(n.type=n.type||"menu",n.animate=!0),n.renderTo?r.menu=n.parent(r).show().renderTo():r.menu=t.create(n).parent(r).renderTo(),r.fire("createmenu"),r.menu.reflow(),r.menu.on("cancel",function(e){e.control.parent()===r.menu&&(e.stopPropagation(),r.focus(),r.hideMenu())}),r.menu.on("select",function(){r.focus()}),r.menu.on("show hide",function(e){e.control===r.menu&&(r.activeMenu("show"==e.type),r.classes.toggle("opened","show"==e.type)),r.aria("expanded","show"==e.type)}).fire("show")),r.menu.show(),r.menu.layoutRect({w:r.layoutRect().w}),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void r.fire("showmenu"))},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var t,n=this,i=n._id,o=n.classPrefix,a=n.settings.icon,s=n.state.get("text"),l="";return(t=n.settings.image)?(a="none","string"!=typeof t&&(t=e.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",s&&(n.classes.add("btn-has-text"),l='<span class="'+o+'txt">'+n.encode(s)+"</span>"),a=n.settings.icon?o+"ico "+o+"i-"+a:"",n.aria("role",n.parent()instanceof r?"menuitem":"button"),'<div id="'+i+'" class="'+n.classes+'" tabindex="-1" aria-labelledby="'+i+'"><button id="'+i+'-open" role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+t+"></i>":"")+l+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())}),e.on("mouseenter",function(t){var n,r=t.control,o=e.parent();r&&o&&r instanceof i&&r.parent()==o&&(o.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=r&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(r.focus(),r.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return i}),r("1q",["15","b","14","2u"],function(e,t,n,r){"use strict";return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,r=n.settings,i=n.parent();if(i.items().each(function(e){e!==n&&e.hideMenu()}),r.menu){(e=n.menu)?e.show():((e=r.menu).length?e={type:"menu",animate:!0,items:e}:(e.type=e.type||"menu",e.animate=!0),i.settings.itemDefaults&&(e.itemDefaults=i.settings.itemDefaults),(e=n.menu=t.create(e).parent(n).renderTo()).reflow(),e.on("cancel",function(t){t.stopPropagation(),n.focus(),e.hide()}),e.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),e.on("hide",function(t){t.control===e&&n.classes.remove("selected")}),e.submenu=!0),e._parentMenu=i,e.classes.add("menu-sub");var o=e.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(n.getEl(),o),e.rel=o,o="menu-sub-"+o,e.classes.remove(e._lastRel).add(o),e._lastRel=o,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){return this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){function e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function t(t){var n=s.match||"";return n?t.replace(new RegExp(e(n),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):t}function r(t){return t.replace(new RegExp(e("!mce~match["),"g"),"<b>").replace(new RegExp(e("]mce~match!"),"g"),"</b>")}var i,o=this,a=o._id,s=o.settings,l=o.classPrefix,c=o.state.get("text"),u=o.settings.icon,d="",f=s.shortcut,p=o.encode(s.url);return u&&o.parent().classes.add("menu-has-icons"),s.image&&(d=" style=\"background-image: url('"+s.image+"')\""),f&&(f=function(e){var t,r,i;for(i=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(r=i[e[t].toLowerCase()])&&(e[t]=r);return e.join("+")}(f)),u=l+"ico "+l+"i-"+(o.settings.icon||"none"),i="-"!==c?'<i class="'+u+'"'+d+"></i>":"",c=r(o.encode(t(c))),p=r(o.encode(t(p))),'<div id="'+a+'" class="'+o.classes+'" tabindex="-1">'+i+("-"!==c?'<span id="'+a+'-text" class="'+l+'text">'+c+"</span>":"")+(f?'<div id="'+a+'-shortcut" class="'+l+'menu-shortcut">'+f+"</div>":"")+(s.menu?'<div class="'+l+'caret"></div>':"")+(p?'<div class="'+l+'menu-item-link">'+p+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&(i.setAttribute("style",n),e._textStyle=n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),r.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){return this.parent().items().each(function(e){e.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(e){return function(e,t){var n=e._textStyle;if(n){var r=e.getEl("text");r.setAttribute("style",n),t&&(r.style.color="",r.style.backgroundColor="")}}(this,e),void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),r("1n",["14","2u","c","w","1q","2b"],function(e,t,n,r,i,o){"use strict";return r.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(t){if(t.autohide=!0,t.constrainToViewport=!0,"function"==typeof t.items&&(t.itemsFactory=t.items,t.items=[]),t.itemDefaults)for(var r=t.items,i=r.length;i--;)r[i]=n.extend({},t.itemDefaults,r[i]);this._super(t),this.classes.add("menu"),t.animate&&11!==e.ie&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){function e(){n.throbber&&(n.throbber.hide(),n.throbber=null)}var t,n=this;n.settings.itemsFactory&&(n.throbber||(n.throbber=new o(n.getEl("body"),!0),0===n.items().length?(n.throbber.show(),n.fire("loading")):n.throbber.show(100,function(){n.items().remove(),n.fire("loading")}),n.on("hide close",e)),n.requestTime=t=(new Date).getTime(),n.settings.itemsFactory(function(r){return 0===r.length?void n.hide():void(n.requestTime===t&&(n.getEl().style.width="",n.getEl("body").style.width="",e(),n.items().remove(),n.getEl("body").innerHTML="",n.add(r),n.renderNew(),n.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on("postrender",function(){e.settings.itemsFactory&&e.load()}),e.on("show hide",function(n){n.control===e&&("show"===n.type?t.setTimeout(function(){e.classes.add("in")},0):e.classes.remove("in"))}),e._super()}})}),r("1m",["1p","1n"],function(e,t){"use strict";return e.extend({init:function(e){var t,n,r,i,o=this;o._super(e),e=o.settings,o._values=t=e.values,t&&(void 0!==e.value&&function t(i){for(var a=0;a<i.length;a++){if(n=i[a].selected||e.value===i[a].value)return r=r||i[a].text,o.state.set("value",i[a].value),!0;if(i[a].menu&&t(i[a].menu))return!0}}(t),!n&&t.length>0&&(r=t[0].text,o.state.set("value",t[0].value)),o.state.set("menu",t)),o.state.set("text",e.text||r),o.classes.add("listbox"),o.on("select",function(t){var n=t.control;i&&(t.lastControl=i),e.multiple?n.active(!n.active()):o.value(t.control.value()),i=n})},bindStates:function(){var e=this;return e.on("show",function(n){var r,i;r=n.control,i=e.value(),r instanceof t&&r.items().each(function(e){e.hasMenus()||e.active(e.value()===i)})}),e.state.on("change:value",function(t){var n=function e(t,n){var r;if(t)for(var i=0;i<t.length;i++){if(t[i].value===n)return t[i];if(t[i].menu&&(r=e(t[i].menu,n)))return r}}(e.state.get("menu"),t.value);n?e.text(n.text):e.text(e.settings.text)}),e._super()}})}),r("1y",["h"],function(e){"use strict";return e.extend({Defaults:{classes:"radio",role:"radio"}})}),r("21",["15","p"],function(e,t){"use strict";return e.extend({renderHtml:function(){var e=this.classPrefix;return this.classes.add("resizehandle"),"both"==this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),r("23",["15"],function(e){"use strict";function t(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,n="";return e=t(this._options),this.size&&(n=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+n+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(n){e.getEl().innerHTML=t(n.value)}),e._super()}})}),r("25",["15","p","2n"],function(e,t,n){"use strict";function r(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function i(e,t,n){e.setAttribute("aria-"+t,n)}function o(e,t){var r,o,a,s,l;"v"==e.settings.orientation?(a="top",o="height",r="h"):(a="left",o="width",r="w"),l=e.getEl("handle"),s=((e.layoutRect()[r]||100)-n.getSize(l)[o])*((t-e._minValue)/(e._maxValue-e._minValue))+"px",l.style[a]=s,l.style.height=e.layoutRect().h+"px",i(l,"valuenow",t),i(l,"valuetext",""+e.settings.previewFilter(t)),i(l,"valuemin",e._minValue),i(l,"valuemax",e._maxValue)}return e.extend({init:function(e){e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),this._super(e),this.classes.add("slider"),"v"==e.orientation&&this.classes.add("vertical"),this._minValue=e.minValue||0,this._maxValue=e.maxValue||100,this._initValue=this.state.get("value")},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-handle" class="'+t+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,i,o,a,s,l,c,u,d,f,p,h,m,g,v=this;e=v._minValue,i=v._maxValue,"v"==v.settings.orientation?(o="screenY",a="top",s="height",l="h"):(o="screenX",a="left",s="width",l="w"),v._super(),function(e,t){function n(n){var i,o,a;i=r(i=(((i=v.value())+(a=e))/(t-a)+.05*n)*(t-(o=e))-o,e,t),v.value(i),v.fire("dragstart",{value:i}),v.fire("drag",{value:i}),v.fire("dragend",{value:i})}v.on("keydown",function(e){switch(e.keyCode){case 37:case 38:n(-1);break;case 39:case 40:n(1)}})}(e,i,v.getEl("handle")),c=e,u=i,d=v.getEl("handle"),v._dragHelper=new t(v._id,{handle:v._id+"-handle",start:function(e){f=e[o],p=parseInt(v.getEl("handle").style[a],10),h=(v.layoutRect()[l]||100)-n.getSize(d)[s],v.fire("dragstart",{value:g})},drag:function(e){var t=e[o]-f;m=r(p+t,0,h),d.style[a]=m+"px",g=c+m/h*(u-c),v.value(g),v.tooltip().text(""+v.settings.previewFilter(g)).show().moveRel(d,"bc tc"),v.fire("drag",{value:g})},stop:function(){v.tooltip().hide(),v.fire("dragend",{value:g})}})},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){o(e,t.value)}),e._super()}})}),r("26",["15"],function(e){"use strict";return e.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})}),r("27",["1","2o","2n","1p"],function(e,t,n,r){return r.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,r,i=this.getEl(),o=this.layoutRect();return this._super(),e=i.firstChild,r=i.lastChild,t(e).css({width:o.w-n.getSize(r).width,height:o.h-2}),t(r).css({height:o.h-2}),this},activeMenu:function(e){t(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var t,n,r=this,i=r._id,o=r.classPrefix,a=r.state.get("icon"),s=r.state.get("text"),l=r.settings,c="";return(t=l.image)?(a="none","string"!=typeof t&&(t=e.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",a=l.icon?o+"ico "+o+"i-"+a:"",s&&(r.classes.add("btn-has-text"),c='<span class="'+o+'txt">'+r.encode(s)+"</span>"),n="boolean"==typeof l.active?' aria-pressed="'+l.active+'"':"",'<div id="'+i+'" class="'+r.classes+'" role="button"'+n+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(a?'<i class="'+a+'"'+t+"></i>":"")+c+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1">'+(r._menuBtnText?(a?"":"")+r._menuBtnText:"")+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var e=this.settings.onclick;return this.on("click",function(t){var n=t.target;if(t.control==this)for(;n;){if(t.aria&&"down"!=t.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return t.stopImmediatePropagation(),void(e&&e.call(this,t));n=n.parentNode}}),delete this.settings.onclick,this._super()}})}),r("28",["x"],function(e){"use strict";return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),r("29",["1u","2o","2n"],function(e,t,n){"use strict";return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,(n=this.getEl("t"+e)).setAttribute("aria-selected","true"),t(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!=n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,i){var o=e._id+"-t"+i;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+r+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+r+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(n&&n.id==e._id+"-head")for(var r=n.childNodes.length;r--;)n.childNodes[r]==t.target&&e.activateTab(r)})},initLayoutRect:function(){var e,t,r;t=(t=n.getSize(this.getEl("head")).width)<0?0:t,r=0,this.items().each(function(e){t=Math.max(t,e.layoutRect().minW),r=Math.max(r,e.layoutRect().minH)}),this.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=r,e.layoutRect({x:0,y:0,w:t,h:r})});var i=n.getSize(this.getEl("head")).height;return this.settings.minWidth=t,this.settings.minHeight=r+i,(e=this._super()).deltaH+=i,e.innerH=e.h-e.deltaH,e}})}),r("2a",["12","c","2n","15"],function(e,t,n,r){return r.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){t.state.set("value",e.target.value)}))},repaint:function(){var t,n,r,i,o,a=0;t=this.getEl().style,n=this._layoutRect,o=this._lastRepaintRect||{};var s=e;return!this.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(t.lineHeight=n.h-a+"px"),i=(r=this.borderBox).left+r.right+8,a=r.top+r.bottom+(this.settings.multiline?8:0),n.x!==o.x&&(t.left=n.x+"px",o.x=n.x),n.y!==o.y&&(t.top=n.y+"px",o.y=n.y),n.w!==o.w&&(t.width=n.w-i+"px",o.w=n.w),n.h!==o.h&&(t.height=n.h-a+"px",o.h=n.h),this._lastRepaintRect=o,this.fire("repaint",{},!1),this},renderHtml:function(){var e,r,i=this.settings;return e={id:this._id,hidefocus:"1"},t.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(t){e[t]=i[t]}),this.disabled()&&(e.disabled="disabled"),i.subtype&&(e.type=i.subtype),(r=n.create(i.multiline?"textarea":"input",e)).value=this.state.get("value"),r.className=this.classes,r.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}})}),r("4",["b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","5","1f","1g","1h","1i","1j","1k","1l","1m","1n","1o","1p","1q","1r","1s","1t","1u","1v","1w","1x","1y","1z","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","15","2e"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b,y,w,x,C,$,S,k,T,_,E,D,A,N,R,O,P,I,M,L,B,F,j,z,U,H,q,V,W,Y,G,X,K,Z,J,Q,ee,te,ne,re,ie,oe,ae,se){var le=function(){return{Selector:K,Collection:s,ReflowQueue:V,Control:p,Factory:e,KeyboardNavigation:D,Container:f,DragHelper:h,Scrollable:G,Panel:j,Movable:B,Resizable:W,FloatPanel:x,Window:se,MessageBox:L,Tooltip:oe,Widget:ae,Progress:H,Notification:F,Layout:N,AbsoluteLayout:n,Button:i,ButtonGroup:o,Checkbox:a,ComboBox:d,ColorBox:l,PanelButton:z,ColorButton:c,ColorPicker:u,Path:U,ElementPath:g,FormItem:k,Form:$,FieldSet:v,FilePicker:b,FitLayout:y,FlexLayout:w,FlowLayout:C,FormatControls:S,GridLayout:T,Iframe:_,InfoBox:E,Label:A,Toolbar:ie,MenuBar:P,MenuButton:I,MenuItem:M,Throbber:re,Menu:O,ListBox:R,Radio:q,ResizeHandle:Y,SelectBox:X,Slider:Z,Spacer:J,SplitButton:Q,StackLayout:ee,TabPanel:te,TextBox:ne,DropZone:m,BrowseButton:r}};return{appendTo:function(e){e.ui?t.each(le(),function(t,n){e.ui[n]=t}):e.ui=le()},registerToFactory:function(){t.each(le(),function(t,n){e.add(n,t)})}}}),r("0",["1","2","3","4","5"],function(e,t,n,r,i){return r.registerToFactory(),r.appendTo(e.tinymce?e.tinymce:{}),t.add("modern",function(e){return i.setup(e),n.get(e)}),function(){}}),n("0")()}(),function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],i=r.deps,o=r.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=n(i[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";r.instance=c}(t),r.instance},r=t,i=function(e,t){r(e,[],function(){return t})};i("d",tinymce.util.Tools.resolve),r("1",["d"],function(e){return e("tinymce.PluginManager")}),i("1p",Array),i("1q",Error),r("f",["1p","1q"],function(e,t){var n=function(e){return function(){return e}};return{noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:n,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(t){for(var n=new e(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=new e(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];var o=n.concat(r);return t.apply(null,o)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:n(!1),always:n(!0)}}),i("1r",Object),r("g",["f","1r"],function(e,t){var n,r,i,o,a=e.never,s=e.always,l=function(){return c},c=(o={fold:function(e,t){return e()},is:a,isSome:a,isNone:s,getOr:i=function(e){return e},getOrThunk:r=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:i,orThunk:r,map:l,ap:l,each:function(){},bind:l,flatten:l,exists:a,forall:s,filter:l,equals:n=function(e){return e.isNone()},equals_:n,toArray:function(){return[]},toString:e.constant("none()")},t.freeze&&t.freeze(o),o),u=function(e){var t=function(){return e},n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:a,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:function(t){return u(t(e))},ap:function(t){return t.fold(l,function(t){return u(t(e))})},each:function(t){t(e)},bind:r,flatten:t,exists:r,forall:r,filter:function(t){return t(e)?i:c},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(a,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i};return{some:u,none:l,from:function(e){return null===e||void 0===e?c:u(e)}}}),i("1s",String),r("e",["g","1p","1q","1s"],function(e,t,n,r){var i,o=void 0===(i=t.prototype.indexOf)?function(e,t){return f(e,t)}:function(e,t){return i.call(e,t)},a=function(e,t){return o(e,t)>-1},s=function(e,n){for(var r=e.length,i=new t(r),o=0;o<r;o++){var a=e[o];i[o]=n(a,o,e)}return i},l=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n,e)}},c=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n,e)}},u=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r,e)&&n.push(o)}return n},d=function(t,n){for(var r=0,i=t.length;r<i;r++){if(n(t[r],r,t))return e.some(r)}return e.none()},f=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},p=t.prototype.push,h=function(e){for(var r=[],i=0,o=e.length;i<o;++i){if(!t.prototype.isPrototypeOf(e[i]))throw new n("Arr.flatten item "+i+" was not an array, input: "+e);p.apply(r,e[i])}return r},m=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n,e))return!1}return!0},g=t.prototype.slice;return{map:s,each:l,eachr:c,partition:function(e,t){for(var n=[],r=[],i=0,o=e.length;i<o;i++){var a=e[i];(t(a,i,e)?n:r).push(a)}return{pass:n,fail:r}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],i=[],o=0,a=e.length;o<a;o++){var s=e[o],l=t(s);l!==n&&(r.push(i),i=[]),n=l,i.push(s)}return 0!==i.length&&r.push(i),r},indexOf:function(t,n){var r=o(t,n);return-1===r?e.none():e.some(r)},foldr:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return l(e,function(e){n=t(n,e)}),n},find:function(t,n){for(var r=0,i=t.length;r<i;r++){var o=t[r];if(n(o,r,t))return e.some(o)}return e.none()},findIndex:d,flatten:h,bind:function(e,t){var n=s(e,t);return h(n)},forall:m,exists:function(e,t){return d(e,t).isSome()},contains:a,equal:function(e,t){return e.length===t.length&&m(e,function(e,n){return e===t[n]})},reverse:function(e){var t=g.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var i=e.slice(r,r+t);n.push(i)}return n},difference:function(e,t){return u(e,function(e){return!a(t,e)})},mapToObject:function(e,t){for(var n={},i=0,o=e.length;i<o;i++){var a=e[i];n[r(a)]=t(a,i)}return n},pure:function(e){return[e]},sort:function(e,t){var n=g.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(t){return 0===t.length?e.none():e.some(t[0])},last:function(t){return 0===t.length?e.none():e.some(t[t.length-1])}}}),r("1t",["g","1r"],function(e,t){var n,r=void 0===(n=t.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:n,i=function(e,t){for(var n=r(e),i=0,o=n.length;i<o;i++){var a=n[i];t(e[a],a,e)}},o=function(e,t){var n={};return i(e,function(r,i){var o=t(r,i,e);n[o.k]=o.v}),n},a=function(e,t){var n=[];return i(e,function(e,r){n.push(t(e,r))}),n},s=function(e){return a(e,function(e){return e})};return{bifilter:function(e,t){var n={},r={};return i(e,function(e,i){(t(e,i)?n:r)[i]=e}),{t:n,f:r}},each:i,map:function(e,t){return o(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},mapToArray:a,tupleMap:o,find:function(t,n){for(var i=r(t),o=0,a=i.length;o<a;o++){var s=i[o],l=t[s];if(n(l,s,t))return e.some(l)}return e.none()},keys:r,values:s,size:function(e){return s(e).length}}}),r("1u",["e","f","1p","1q"],function(e,t,n,r){return function(){var i=arguments;return function(){for(var o=new n(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];if(i.length!==o.length)throw new r('Wrong number of arguments to struct. Expected "['+i.length+']", got '+o.length+" arguments");var s={};return e.each(i,function(e,n){s[e]=t.constant(o[n])}),s}}}),r("1z",["1p","1s"],function(e,t){var n=function(n){return function(r){return function(n){if(null===n)return"null";var r=typeof n;return"object"===r&&e.prototype.isPrototypeOf(n)?"array":"object"===r&&t.prototype.isPrototypeOf(n)?"string":r}(r)===n}};return{isString:n("string"),isObject:n("object"),isArray:n("array"),isNull:n("null"),isBoolean:n("boolean"),isUndefined:n("undefined"),isFunction:n("function"),isNumber:n("number")}}),r("3r",["e","1z","1q"],function(e,t,n){var r=function(e){return e.slice(0).sort()};return{sort:r,reqMessage:function(e,t){throw new n("All required keys ("+r(e).join(", ")+") were not specified. Specified keys were: "+r(t).join(", ")+".")},unsuppMessage:function(e){throw new n("Unsupported keys for object: "+r(e).join(", "))},validateStrArr:function(r,i){if(!t.isArray(i))throw new n("The "+r+" fields must be an array. Was: "+i+".");e.each(i,function(e){if(!t.isString(e))throw new n("The value "+e+" in the "+r+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new n("All values need to be of type: "+t+". Keys ("+r(e).join(", ")+") were not.")},checkDupes:function(t){var i=r(t);e.find(i,function(e,t){return t<i.length-1&&e===i[t+1]}).each(function(e){throw new n("The field: "+e+" occurs more than once in the combined fields: ["+i.join(", ")+"].")})}}}),r("1v",["e","f","1t","g","3r","1q","1r"],function(e,t,n,r,i,o,a){return function(s,l){var c=s.concat(l);if(0===c.length)throw new o("You must specify at least one required or optional field.");return i.validateStrArr("required",s),i.validateStrArr("optional",l),i.checkDupes(c),function(o){var u=n.keys(o);e.forall(s,function(t){return e.contains(u,t)})||i.reqMessage(s,u);var d=e.filter(u,function(t){return!e.contains(c,t)});d.length>0&&i.unsuppMessage(d);var f={};return e.each(s,function(e){f[e]=t.constant(o[e])}),e.each(l,function(e){f[e]=t.constant(a.prototype.hasOwnProperty.call(o,e)?r.some(o[e]):r.none())}),f}}}),r("1k",["1u","1v"],function(e,t){return{immutable:e,immutableBag:t}}),r("2c",["1k"],function(e){var t=e.immutable("width","height"),n=e.immutable("rows","columns"),r=e.immutable("row","column"),i=e.immutable("x","y"),o=e.immutable("element","rowspan","colspan"),a=e.immutable("element","rowspan","colspan","isNew");return{dimensions:t,grid:n,address:r,coords:i,extended:e.immutable("element","rowspan","colspan","row","column"),detail:o,detailnew:a,rowdata:e.immutable("element","cells","section"),elementnew:e.immutable("element","isNew"),rowdatanew:e.immutable("element","cells","section","isNew"),rowcells:e.immutable("cells","section"),rowdetails:e.immutable("details","section"),bounds:e.immutable("startRow","startCol","finishRow","finishCol")}}),r("21",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),i("23",document),r("l",["f","g","1q","21","23"],function(e,t,n,r,i){var o=function(t){if(null===t||void 0===t)throw new n("Node cannot be null or undefined");return{dom:e.constant(t)}};return{fromHtml:function(e,t){var n=(t||i).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw r.error("HTML does not have a single root node",e),"HTML must have a single root node";return o(n.childNodes[0])},fromTag:function(e,t){var n=(t||i).createElement(e);return o(n)},fromText:function(e,t){var n=(t||i).createTextNode(e);return o(n)},fromDom:o,fromPoint:function(e,n,r){return t.from(e.dom().elementFromPoint(n,r)).map(o)}}}),r("20",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),r("27",["e","g","l","20","1q","23"],function(e,t,n,r,i,o){var a=r.ELEMENT,s=r.DOCUMENT,l=function(e){return e.nodeType!==a&&e.nodeType!==s||0===e.childElementCount};return{all:function(t,r){var i=void 0===r?o:r.dom();return l(i)?[]:e.map(i.querySelectorAll(t),n.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==a)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new i("Browser lacks native selectors")},one:function(e,r){var i=void 0===r?o:r.dom();return l(i)?t.none():t.from(i.querySelector(e)).map(n.fromDom)}}}),r("24",[],function(){return{toArray:function(e,t){var n=[],r=function(e){return n.push(e),t(e)},i=t(e);do{i=i.bind(r)}while(i.isSome());return n}}}),r("5t",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),r("4y",["5t"],function(e){var t=function(t,n){for(var r=void 0!==n?n:e,i=0;i<t.length&&void 0!==r&&null!==r;++i)r=r[t[i]];return r},n=function(t,n){for(var r=void 0!==n?n:e,i=0;i<t.length;++i)o=r,a=t[i],void 0!==o[a]&&null!==o[a]||(o[a]={}),r=o[a];var o,a;return r};return{path:t,resolve:function(e,n){var r=e.split(".");return t(r,n)},forge:n,namespace:function(e,t){var r=e.split(".");return n(r,t)}}}),r("3s",["4y"],function(e){return{getOrDie:function(t,n){var r,i,o=(r=t,i=n,e.resolve(r,i));if(void 0===o)throw t+" not available on this browser";return o}}}),r("25",["3s"],function(e){var t=function(){return e.getOrDie("Node")},n=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)};return{documentPositionPreceding:function(e,r){return n(e,r,t().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(e,r){return n(e,r,t().DOCUMENT_POSITION_CONTAINED_BY)}}}),r("3b",[],function(){return{cached:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}}}}),i("67",Number),r("5u",["e","67","1s"],function(e,t,n){var r=function(){return i(0,0)},i=function(e,t){return{major:e,minor:t}};return{nu:i,detect:function(e,o){var a=n(o).toLowerCase();return 0===e.length?r():function(e,n){var r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,n);if(!r)return{major:0,minor:0};var o=function(e){return t(n.replace(r,"$"+e))};return i(o(1),o(2))}(e,a)},unknown:r}}),r("4z",["f","5u"],function(e,t){var n=function(e,t){return function(){return t===e}},r=function(e){var t=e.current;return{current:t,version:e.version,isEdge:n("Edge",t),isChrome:n("Chrome",t),isIE:n("IE",t),isOpera:n("Opera",t),isFirefox:n("Firefox",t),isSafari:n("Safari",t)}};return{unknown:function(){return r({current:void 0,version:t.unknown()})},nu:r,edge:e.constant("Edge"),chrome:e.constant("Chrome"),ie:e.constant("IE"),opera:e.constant("Opera"),firefox:e.constant("Firefox"),safari:e.constant("Safari")}}),r("50",["f","5u"],function(e,t){var n=function(e,t){return function(){return t===e}},r=function(e){var t=e.current;return{current:t,version:e.version,isWindows:n("Windows",t),isiOS:n("iOS",t),isAndroid:n("Android",t),isOSX:n("OSX",t),isLinux:n("Linux",t),isSolaris:n("Solaris",t),isFreeBSD:n("FreeBSD",t)}};return{unknown:function(){return r({current:void 0,version:t.unknown()})},nu:r,windows:e.constant("Windows"),ios:e.constant("iOS"),android:e.constant("Android"),linux:e.constant("Linux"),osx:e.constant("OSX"),solaris:e.constant("Solaris"),freebsd:e.constant("FreeBSD")}}),r("51",["f"],function(e){return function(t,n,r){var i=t.isiOS()&&!0===/ipad/i.test(r),o=t.isiOS()&&!i,a=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,l=i||a||s&&!0===/mobile/i.test(r),c=t.isiOS()||t.isAndroid(),u=c&&!l,d=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r);return{isiPad:e.constant(i),isiPhone:e.constant(o),isTablet:e.constant(l),isPhone:e.constant(u),isTouch:e.constant(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:e.constant(d)}}}),r("52",["e","5u","1s"],function(e,t,n){var r=function(t,r){var i=n(r).toLowerCase();return e.find(t,function(e){return e.search(i)})};return{detectBrowser:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})},detectOs:function(e,n){return r(e,n).map(function(e){var r=t.detect(e.versionRegexes,n);return{current:e.name,version:r}})}}}),r("54",[],function(){return{addToStart:function(e,t){return t+e},addToEnd:function(e,t){return e+t},removeFromStart:function(e,t){return e.substring(t)},removeFromEnd:function(e,t){return e.substring(0,e.length-t)}}}),r("55",["g","1q"],function(e,t){return{first:function(e,t){return e.substr(0,t)},last:function(e,t){return e.substr(e.length-t,e.length)},head:function(t){return""===t?e.none():e.some(t.substr(0,1))},tail:function(t){return""===t?e.none():e.some(t.substring(1))}}}),r("3x",["54","55","1q"],function(e,t,n){var r=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},i=function(e,t){return r(e,t,0)},o=function(e,t){return r(e,t,e.length-t.length)};return{supplant:function(e,t){return e.replace(/\${([^{}]*)}/g,function(e,n){var r,i=t[n];return"string"==(r=typeof i)||"number"===r?i:e})},startsWith:i,removeLeading:function(t,n){return i(t,n)?e.removeFromStart(t,n.length):t},removeTrailing:function(t,n){return o(t,n)?e.removeFromEnd(t,n.length):t},ensureLeading:function(t,n){return i(t,n)?t:e.addToStart(t,n)},ensureTrailing:function(t,n){return o(t,n)?t:e.addToEnd(t,n)},endsWith:o,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return t.head(e).bind(function(n){return t.tail(e).map(function(e){return n.toUpperCase()+e})}).getOr(e)}}}),r("53",["f","3x"],function(e,t){var n=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,r=function(e){return function(n){return t.contains(n,e)}},i=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return t.contains(e,"edge/")&&t.contains(e,"chrome")&&t.contains(e,"safari")&&t.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,n],search:function(e){return t.contains(e,"chrome")&&!t.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return t.contains(e,"msie")||t.contains(e,"trident")}},{name:"Opera",versionRegexes:[n,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:r("firefox")},{name:"Safari",versionRegexes:[n,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(t.contains(e,"safari")||t.contains(e,"mobile/"))&&t.contains(e,"applewebkit")}}],o=[{name:"Windows",search:r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return t.contains(e,"iphone")||t.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:r("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:r("linux"),versionRegexes:[]},{name:"Solaris",search:r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:r("freebsd"),versionRegexes:[]}];return{browsers:e.constant(i),oses:e.constant(o)}}),r("3t",["4z","50","51","52","53"],function(e,t,n,r,i){return{detect:function(o){var a=i.browsers(),s=i.oses(),l=r.detectBrowser(a,o).fold(e.unknown,e.nu),c=r.detectOs(s,o).fold(t.unknown,t.nu);return{browser:l,os:c,deviceType:n(c,l,o)}}}}),i("3u",navigator),r("26",["3b","3t","3u"],function(e,t,n){return{detect:e.cached(function(){var e=n.userAgent;return t.detect(e)})}}),r("1c",["e","f","25","26","27"],function(e,t,n,r,i){var o=function(e,t){return e.dom()===t.dom()},a=r.detect().browser.isIE()?function(e,t){return n.documentPositionContainedBy(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)};return{eq:o,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(n,r){return e.exists(r,t.curry(o,n))},contains:a,is:i.is}}),r("1m",["1z","e","f","g","1k","24","1c","l"],function(e,t,n,r,i,o,a,s){var l=function(e){return s.fromDom(e.dom().ownerDocument)},c=function(e){var t=e.dom();return r.from(t.parentNode).map(s.fromDom)},u=function(e){var t=e.dom();return r.from(t.previousSibling).map(s.fromDom)},d=function(e){var t=e.dom();return r.from(t.nextSibling).map(s.fromDom)},f=function(e){var n=e.dom();return t.map(n.childNodes,s.fromDom)},p=function(e,t){var n=e.dom().childNodes;return r.from(n[t]).map(s.fromDom)},h=i.immutable("element","offset");return{owner:l,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return s.fromDom(t)},documentElement:function(e){var t=l(e);return s.fromDom(t.dom().documentElement)},parent:c,findIndex:function(e){return c(e).bind(function(n){var r=f(n);return t.findIndex(r,function(t){return a.eq(e,t)})})},parents:function(t,r){for(var i=e.isFunction(r)?r:n.constant(!1),o=t.dom(),a=[];null!==o.parentNode&&void 0!==o.parentNode;){var l=o.parentNode,c=s.fromDom(l);if(a.push(c),!0===i(c))break;o=l}return a},siblings:function(e){return c(e).map(f).map(function(n){return t.filter(n,function(t){return!a.eq(e,t)})}).getOr([])},prevSibling:u,offsetParent:function(e){var t=e.dom();return r.from(t.offsetParent).map(s.fromDom)},prevSiblings:function(e){return t.reverse(o.toArray(e,u))},nextSibling:d,nextSiblings:function(e){return o.toArray(e,d)},children:f,child:p,firstChild:function(e){return p(e,0)},lastChild:function(e){return p(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=f(e);return n.length>0&&t<n.length?h(n[t],0):h(e,t)}}}),r("1y",["e","f","27","1m"],function(e,t,n,r){var i=function(t,o,a){return e.bind(r.children(t),function(e){return n.is(e,o)?a(e)?[e]:[]:i(e,o,a)})};return{firstLayer:function(e,n){return i(e,n,t.constant(!0))},filterFirstLayer:i}}),r("n",["20"],function(e){var t=function(e){return e.dom().nodeName.toLowerCase()},n=function(e){return e.dom().nodeType},r=function(e){return function(t){return n(t)===e}},i=r(e.ELEMENT),o=r(e.TEXT),a=r(e.DOCUMENT);return{name:t,type:n,value:function(e){return e.dom().nodeValue},isElement:i,isText:o,isDocument:a,isComment:function(r){return n(r)===e.COMMENT||"#comment"===t(r)}}}),r("r",["1z","e","1t","n","1q","21"],function(e,t,n,r,i,o){var a=function(t,n,r){if(!(e.isString(r)||e.isBoolean(r)||e.isNumber(r)))throw o.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new i("Attribute value was not simple");t.setAttribute(n,r+"")},s=function(e,t,n){a(e.dom(),t,n)},l=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},c=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)};return{clone:function(e){return t.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},set:s,setAll:function(e,t){var r=e.dom();n.each(t,function(e,t){a(r,t,e)})},get:l,has:c,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){var t=e.dom().attributes;return void 0===t||null===t||0===t.length},transfer:function(e,n,i){r.isElement(e)&&r.isElement(n)&&t.each(i,function(t){var r,i,o;i=n,c(r=e,o=t)&&!c(i,o)&&s(i,o,l(r,o))})}}}),r("35",["3b","l","n","23"],function(e,t,n,r){var i=e.cached(function(){return o(t.fromDom(r))}),o=function(e){var n=e.dom().body;if(null===n||void 0===n)throw"Body is not available yet";return t.fromDom(n)};return{body:i,getBody:o,inBody:function(e){var t=n.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)}}}),r("29",["e","35","1m"],function(e,t,n){var r=function(t,i){var o=[];return e.each(n.children(t),function(e){i(e)&&(o=o.concat([e])),o=o.concat(r(e,i))}),o};return{all:function(e){return r(t.body(),e)},ancestors:function(t,r,i){return e.filter(n.parents(t,i),r)},siblings:function(t,r){return e.filter(n.siblings(t),r)},children:function(t,r){return e.filter(n.children(t),r)},descendants:r}}),r("y",["29","27"],function(e,t){return{all:function(e){return t.all(e)},ancestors:function(n,r,i){return e.ancestors(n,function(e){return t.is(e,r)},i)},siblings:function(n,r){return e.siblings(n,function(e){return t.is(e,r)})},children:function(n,r){return e.children(n,function(e){return t.is(e,r)})},descendants:function(e,n){return t.all(n,e)}}}),r("2d",["1z","g"],function(e,t){return function(n,r,i,o,a){return n(i,o)?t.some(i):e.isFunction(a)&&a(i)?t.none():r(i,o,a)}}),r("2a",["1z","e","f","g","35","1c","l","2d"],function(e,t,n,r,i,o,a,s){var l=function(t,i,o){for(var s=t.dom(),l=e.isFunction(o)?o:n.constant(!1);s.parentNode;){s=s.parentNode;var c=a.fromDom(s);if(i(c))return r.some(c);if(l(c))break}return r.none()},c=function(e,r){return t.find(e.dom().childNodes,n.compose(r,a.fromDom)).map(a.fromDom)},u=function(e,t){var n=function(e){for(var i=0;i<e.childNodes.length;i++){if(t(a.fromDom(e.childNodes[i])))return r.some(a.fromDom(e.childNodes[i]));var o=n(e.childNodes[i]);if(o.isSome())return o}return r.none()};return n(e.dom())};return{first:function(e){return u(i.body(),e)},ancestor:l,closest:function(e,t,n){return s(function(e){return t(e)},l,e,t,n)},sibling:function(e,t){var n=e.dom();return n.parentNode?c(a.fromDom(n.parentNode),function(n){return!o.eq(e,n)&&t(n)}):r.none()},child:c,descendant:u}}),r("t",["2a","27","2d"],function(e,t,n){var r=function(n,r,i){return e.ancestor(n,function(e){return t.is(e,r)},i)};return{first:function(e){return t.one(e)},ancestor:r,sibling:function(n,r){return e.sibling(n,function(e){return t.is(e,r)})},child:function(n,r){return e.child(n,function(e){return t.is(e,r)})},descendant:function(e,n){return t.one(n,e)},closest:function(e,i,o){return n(t.is,r,e,i,o)}}}),i("2e",parseInt),r("j",["e","f","g","2c","1y","r","n","y","t","27","1m","2e"],function(e,t,n,r,i,o,a,s,l,c,u,d){var f=function(r,i,o){var s=void 0!==o?o:t.constant(!1);if(s(i))return n.none();if(e.contains(r,a.name(i)))return n.some(i);return l.ancestor(i,r.join(","),function(e){return c.is(e,"table")||s(e)})},p=function(e,t){return u.parent(t).map(function(t){return s.children(t,e)})},h=function(e,t){return d(o.get(e,t),10)};return{cell:function(e,t){return f(["td","th"],e,t)},firstCell:function(e){return l.descendant(e,"th,td")},cells:function(e){return i.firstLayer(e,"th,td")},neighbourCells:t.curry(p,"th,td"),table:function(e,t){return l.closest(e,"table",t)},row:function(e,t){return f(["tr"],e,t)},rows:function(e){return i.firstLayer(e,"tr")},notCell:function(e,t){return f(["caption","tr","tbody","tfoot","thead"],e,t)},neighbourRows:t.curry(p,"tr"),attr:h,grid:function(e,t,n){var i=h(e,t),o=h(e,n);return r.grid(i,o)}}}),r("1w",["e","2c","j","r","n","1m"],function(e,t,n,r,i,o){return{fromTable:function(a){var s=n.rows(a);return e.map(s,function(a){var s=a,l=o.parent(s).bind(function(e){var t=i.name(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"}),c=e.map(n.cells(a),function(e){var n=r.has(e,"rowspan")?parseInt(r.get(e,"rowspan"),10):1,i=r.has(e,"colspan")?parseInt(r.get(e,"colspan"),10):1;return t.detail(e,n,i)});return t.rowdata(s,c,l)})},fromPastedRows:function(i,o){return e.map(i,function(i){var a=e.map(n.cells(i),function(e){var n=r.has(e,"rowspan")?parseInt(r.get(e,"rowspan"),10):1,i=r.has(e,"colspan")?parseInt(r.get(e,"colspan"),10):1;return t.detail(e,n,i)});return t.rowdata(i,a,o.section())})}}}),i("3v",Math),r("1x",["e","f","g","2c","3v"],function(e,t,n,r,i){var o=function(e,t){return e+","+t},a=function(t,n){var r=e.bind(t.all(),function(e){return e.cells()});return e.filter(r,n)};return{generate:function(n){var a={},s=[],l=n.length,c=0;e.each(n,function(t,n){var l=[];e.each(t.cells(),function(e,t){for(var s=0;void 0!==a[o(n,s)];)s++;for(var u=r.extended(e.element(),e.rowspan(),e.colspan(),n,s),d=0;d<e.colspan();d++)for(var f=0;f<e.rowspan();f++){var p=s+d,h=o(n+f,p);a[h]=u,c=i.max(c,p+1)}l.push(u)}),s.push(r.rowdata(t.element(),l,t.section()))});var u=r.grid(l,c);return{grid:t.constant(u),access:t.constant(a),all:t.constant(s)}},getAt:function(e,t,r){var i=e.access()[o(t,r)];return void 0!==i?n.some(i):n.none()},findItem:function(e,t,r){var i=a(e,function(e){return r(t,e.element())});return i.length>0?n.some(i[0]):n.none()},filterItems:a,justCells:function(t){var n=e.map(t.all(),function(e){return e.cells()});return e.flatten(n)}}}),r("3w",[],function(){return{isSupported:function(e){return void 0!==e.style}}}),i("3y",window),r("22",["1z","e","1t","g","r","35","l","n","3w","3x","1q","21","3y"],function(e,t,n,r,i,o,a,s,l,c,u,d,f){var p=function(t,n,r){if(!e.isString(r))throw d.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new u("CSS value must be a string: "+r);l.isSupported(t)&&t.style.setProperty(n,r)},h=function(e,t){l.isSupported(e)&&e.style.removeProperty(t)},m=function(e,t,n){var r=e.dom();p(r,t,n)},g=function(e,t){return l.isSupported(e)?e.style.getPropertyValue(t):""},v=function(e,t){var n=e.dom(),i=g(n,t);return r.from(i).filter(function(e){return e.length>0})};return{copy:function(e,t){var n=e.dom(),r=t.dom();l.isSupported(n)&&l.isSupported(r)&&(r.style.cssText=n.style.cssText)},set:m,preserve:function(e,t){var n=i.get(e,"style"),r=t(e);return(void 0===n?i.remove:i.set)(e,"style",n),r},setAll:function(e,t){var r=e.dom();n.each(t,function(e,t){p(r,t,e)})},setOptions:function(e,t){var r=e.dom();n.each(t,function(e,t){e.fold(function(){h(r,t)},function(e){p(r,t,e)})})},remove:function(e,t){var n=e.dom();h(n,t),i.has(e,"style")&&""===c.trim(i.get(e,"style"))&&i.remove(e,"style")},get:function(e,t){var n=e.dom(),r=f.getComputedStyle(n).getPropertyValue(t),i=""!==r||o.inBody(e)?r:g(n,t);return null===i?void 0:i},getRaw:v,getAllRaw:function(e){var t={},n=e.dom();if(l.isSupported(n))for(var r=0;r<n.style.length;r++){var i=n.style.item(r);t[i]=n.style[i]}return t},isValidValue:function(e,t,n){var r=a.fromTag(e);return m(r,t,n),v(r,t).isSome()},reflow:function(e){return e.dom().offsetWidth},transfer:function(e,n,r){s.isElement(e)&&s.isElement(n)&&t.each(r,function(t){var r,i;r=n,v(e,i=t).each(function(e){v(r,i).isNone()&&m(r,i,e)})})}}}),r("12",["1m"],function(e){var t=function(t,n){e.parent(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})},n=function(e,t){e.dom().appendChild(t.dom())};return{before:t,after:function(r,i){e.nextSibling(r).fold(function(){e.parent(r).each(function(e){n(e,i)})},function(e){t(e,i)})},prepend:function(t,r){e.firstChild(t).fold(function(){n(t,r)},function(e){t.dom().insertBefore(r.dom(),e.dom())})},append:n,appendAt:function(r,i,o){e.child(r,o).fold(function(){n(r,i)},function(e){t(e,i)})},wrap:function(e,r){t(e,r),n(r,e)}}}),r("28",["e","12"],function(e,t){return{before:function(n,r){e.each(r,function(e){t.before(n,e)})},after:function(n,r){e.each(r,function(e,i){var o=0===i?n:r[i-1];t.after(o,e)})},prepend:function(n,r){e.each(r.slice().reverse(),function(e){t.prepend(n,e)})},append:function(n,r){e.each(r,function(e){t.append(n,e)})}}}),r("13",["e","28","1m"],function(e,t,n){var r=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)};return{empty:function(t){t.dom().textContent="",e.each(n.children(t),function(e){r(e)})},remove:r,unwrap:function(e){var i=n.children(e);i.length>0&&t.before(e,i),r(e)}}}),r("h",["e","1t","1k","1w","1x","1y","r","22","l","12","13","27"],function(e,t,n,r,i,o,a,s,l,c,u,d){var f=n.immutable("minRow","minCol","maxRow","maxCol");return{extract:function(n,p){var h,m,g,v,b,y,w,x,C,$,S=function(e){return d.is(e.element(),p)},k=r.fromTable(n),T=i.generate(k),_=(m=S,g=(h=T).grid().columns(),v=h.grid().rows(),b=g,y=0,w=0,t.each(h.access(),function(e){if(m(e)){var t=e.row(),n=t+e.rowspan()-1,r=e.column(),i=r+e.colspan()-1;t<v?v=t:n>y&&(y=n),r<b?b=r:i>w&&(w=i)}}),f(v,b,y,w)),E="th:not("+p+"),td:not("+p+")",D=o.filterFirstLayer(n,"th,td",function(e){return d.is(e,E)});return e.each(D,u.remove),function(e,t,n,r){for(var o=t.grid().columns(),a=t.grid().rows(),s=0;s<a;s++)for(var u=!1,d=0;d<o;d++)s<n.minRow()||s>n.maxRow()||d<n.minCol()||d>n.maxCol()||(i.getAt(t,s,d).filter(r).isNone()?(f=u,p=e[s].element(),h=l.fromTag("td"),c.append(h,l.fromTag("br")),(f?c.append:c.prepend)(p,h)):u=!0);var f,p,h}(k,T,_,S),x=n,C=_,$=e.filter(o.firstLayer(x,"tr"),function(e){return 0===e.dom().childElementCount}),e.each($,u.remove),C.minCol()!==C.maxCol()&&C.minRow()!==C.maxRow()||e.each(o.firstLayer(x,"th,td"),function(e){a.remove(e,"rowspan"),a.remove(e,"colspan")}),a.remove(x,"width"),a.remove(x,"height"),s.remove(x,"width"),s.remove(x,"height"),n}}}),r("k",["r","l","12","28","13","1m"],function(e,t,n,r,i,o){var a=function(e,n){return t.fromDom(e.dom().cloneNode(n))},s=function(e){return a(e,!0)},l=function(n,r){var i=t.fromTag(r),o=e.clone(n);return e.setAll(i,o),i};return{shallow:function(e){return a(e,!1)},shallowAs:l,deep:s,copy:function(e,t){var n=l(e,t),i=o.children(s(e));return r.append(n,i),n},mutate:function(e,t){var a=l(e,t);n.before(e,a);var s=o.children(e);return r.append(a,s),i.remove(e),a}}}),r("3p",["26","g","1q"],function(e,t,n){return function(r,i){var o=function(e){return r(e)?t.from(e.dom().nodeValue):t.none()},a=e.detect().browser,s=a.isIE()&&10===a.version.major?function(e){try{return o(e)}catch(e){return t.none()}}:o;return{get:function(e){if(!r(e))throw new n("Can only get "+i+" value of a "+i+" node");return s(e).getOr("")},getOption:s,set:function(e,t){if(!r(e))throw new n("Can only set raw "+i+" value of a "+i+" node");e.dom().nodeValue=t}}}}),r("1l",["n","3p"],function(e,t){var n=t(e.isText,"text");return{get:function(e){return n.get(e)},getOption:function(e){return n.getOption(e)},set:function(e,t){n.set(e,t)}}}),r("2b",["e","n","1l","1m"],function(e,t,n,r){var i=function(e){return"img"===t.name(e)?1:n.getOption(e).fold(function(){return r.children(e).length},function(e){return e.length})},o=["img","br"];return{getEnd:i,isEnd:function(e,t){return i(e)===t},isStart:function(e,t){return 0===t},isCursorPosition:function(r){var i;return i=r,n.getOption(i).filter(function(e){return 0!==e.trim().length||e.indexOf("")>-1}).isSome()||e.contains(o,t.name(r))}}}),r("1d",["g","2a","1m","2b"],function(e,t,n,r){var i=function(t,r){var i=function(t){for(var o=n.children(t),a=o.length-1;a>=0;a--){var s=o[a];if(r(s))return e.some(s);var l=i(s);if(l.isSome())return l}return e.none()};return i(t)};return{first:function(e){return t.descendant(e,r.isCursorPosition)},last:function(e){return i(e,r.isCursorPosition)}}}),r("i",["e","1t","1c","12","k","l","n","r","22","y","1m","1d"],function(e,t,n,r,i,o,a,s,l,c,u,d){var f=function(){var e=o.fromTag("td");return r.append(e,o.fromTag("br")),e},p=function(e,n,r){var o=i.copy(e,n);return t.each(r,function(e,t){null===e?s.remove(o,t):s.set(o,t,e)}),o},h=function(e){return e},m=function(e){return function(){return o.fromTag("tr",e.dom())}};return{cellOperations:function(t,s,h){return{row:m(s),cell:function(s){var f,p,m,g=u.owner(s.element()),v=o.fromTag(a.name(s.element()),g.dom()),b=h.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),y=b.length>0?(f=s.element(),p=v,m=b,d.first(f).map(function(t){var o=m.join(","),a=c.ancestors(t,o,function(e){return n.eq(e,f)});return e.foldr(a,function(e,t){var n=i.shallow(t);return r.append(e,n),n},p)}).getOr(p)):v;return r.append(y,o.fromTag("br")),l.copy(s.element(),v),l.remove(v,"height"),1!==s.colspan()&&l.remove(s.element(),"width"),t(s.element(),v),v},replace:p,gap:f}},paste:function(e){return{row:m(e),cell:f,replace:h,gap:f}}}}),r("m",["e","l","1m","23"],function(e,t,n,r){return{fromHtml:function(e,i){var o=(i||r).createElement("div");return o.innerHTML=e,n.children(t.fromDom(o))},fromTags:function(n,r){return e.map(n,function(e){return t.fromTag(e,r)})},fromText:function(n,r){return e.map(n,function(e){return t.fromText(e,r)})},fromDom:function(n){return e.map(n,t.fromDom)}}}),r("5v",[],function(){return["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]}),r("56",["5v","e","f","r","1c","22","l","12","28","n","29","2a","13","y","t","1l","1m"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g){return function(){return{up:n.constant({selector:h.ancestor,closest:h.closest,predicate:d.ancestor,all:g.parents}),down:n.constant({selector:p.descendants,predicate:u.descendants}),styles:n.constant({get:o.get,getRaw:o.getRaw,set:o.set,remove:o.remove}),attrs:n.constant({get:r.get,set:r.set,remove:r.remove,copyTo:function(e,t){var n=r.clone(e);r.setAll(t,n)}}),insert:n.constant({before:s.before,after:s.after,afterAll:l.after,append:s.append,appendAll:l.append,prepend:s.prepend,wrap:s.wrap}),remove:n.constant({unwrap:f.unwrap,remove:f.remove}),create:n.constant({nu:a.fromTag,clone:function(e){return a.fromDom(e.dom().cloneNode(!1))},text:a.fromText}),query:n.constant({comparePosition:function(e,t){return e.dom().compareDocumentPosition(t.dom())},prevSibling:g.prevSibling,nextSibling:g.nextSibling}),property:n.constant({children:g.children,name:c.name,parent:g.parent,isText:c.isText,isComment:c.isComment,isElement:c.isElement,getText:m.get,setText:m.set,isBoundary:function(n){return!!c.isElement(n)&&("body"===c.name(n)||t.contains(e,c.name(n)))},isEmptyTag:function(e){return!!c.isElement(e)&&t.contains(["br","img","hr","input"],c.name(e))}}),eq:i.eq,is:i.is}}}),r("5w",["e","f","g","1k"],function(e,t,n,r){var i=r.immutable("left","right"),o=function(n,r,i){var o=n.property().children(r);return e.findIndex(o,t.curry(n.eq,i)).map(function(e){return{before:t.constant(o.slice(0,e)),after:t.constant(o.slice(e+1))}})};return{breakToLeft:function(e,t,n){return o(e,t,n).map(function(r){var o=e.create().clone(t);return e.insert().appendAll(o,r.before().concat([n])),e.insert().appendAll(t,r.after()),e.insert().before(t,o),i(o,t)})},breakToRight:function(e,t,n){return o(e,t,n).map(function(n){var r=e.create().clone(t);return e.insert().appendAll(r,n.after()),e.insert().after(t,r),i(t,r)})},breakPath:function(e,t,i,o){var a=r.immutable("first","second","splits"),s=function(t,r,l){var c=a(t,n.none(),l);return i(t)?a(t,r,l):e.property().parent(t).bind(function(r){return o(e,r,t).map(function(e){var t=[{first:e.left,second:e.right}],o=i(r)?r:e.left();return s(o,n.some(e.right()),l.concat(t))}).getOr(c)})};return s(t,n.none(),[])}}}),r("5x",["e","f","g"],function(e,t,n){var r=function(t,n,r,o){var a=n(t,r);return e.foldr(o,function(e,r){var o=n(t,r);return i(t,e,o)},a)},i=function(e,n,r){return n.bind(function(n){return r.filter(t.curry(e.eq,n))})};return{oneAll:function(e,t,i){return i.length>0?r(e,t,(o=i)[0],o.slice(1)):n.none();var o}}}),r("5y",["e","f","g","3v"],function(e,t,n,r){var i=function(e,n){return t.curry(e.eq,n)},o=function(n,r,o,a){var s=void 0!==a?a:t.constant(!1),l=[r].concat(n.up().all(r)),c=[o].concat(n.up().all(o)),u=function(t){return e.findIndex(t,s).fold(function(){return t},function(e){return t.slice(0,e+1)})},d=u(l),f=u(c),p=e.find(d,function(t){return e.exists(f,i(n,t))});return{firstpath:t.constant(d),secondpath:t.constant(f),shared:t.constant(p)}};return{subset:function(t,a,s){var l=o(t,a,s);return l.shared().bind(function(o){return function(t,o,a,s){var l=t.property().children(o);if(t.eq(o,a[0]))return n.some([a[0]]);if(t.eq(o,s[0]))return n.some([s[0]]);var c=function(n){var r=e.reverse(n),a=e.findIndex(r,i(t,o)).getOr(-1),s=a<r.length-1?r[a+1]:r[a];return e.findIndex(l,i(t,s))},u=c(a),d=c(s);return u.bind(function(e){return d.map(function(t){var n=r.min(e,t),i=r.max(e,t);return l.slice(n,i+1)})})}(t,o,l.firstpath(),l.secondpath())})},ancestors:o}}),r("57",["5w","5x","5y"],function(e,t,n){return{sharedOne:function(e,n,r){return t.oneAll(e,n,r)},subset:function(e,t,r){return n.subset(e,t,r)},ancestors:function(e,t,r,i){return n.ancestors(e,t,r,i)},breakToLeft:function(t,n,r){return e.breakToLeft(t,n,r)},breakToRight:function(t,n,r){return e.breakToRight(t,n,r)},breakPath:function(t,n,r,i){return e.breakPath(t,n,r,i)}}}),r("3z",["56","57"],function(e,t){var n=e();return{sharedOne:function(e,r){return t.sharedOne(n,function(t,n){return e(n)},r)},subset:function(e,r){return t.subset(n,e,r)},ancestors:function(e,r,i){return t.ancestors(n,e,r,i)},breakToLeft:function(e,r){return t.breakToLeft(n,e,r)},breakToRight:function(e,r){return t.breakToRight(n,e,r)},breakPath:function(e,r,i){return t.breakPath(n,e,r,function(e,t,n){return i(t,n)})}}}),r("58",["f","g","1x"],function(e,t,n){var r=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()};return{inSelection:function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,i=t.row(),o=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&i<=e.finishRow()&&o>=e.startRow()},isWithin:r,isRectangular:function(i,o){for(var a=!0,s=e.curry(r,o),l=o.startRow();l<=o.finishRow();l++)for(var c=o.startCol();c<=o.finishCol();c++)a=a&&n.getAt(i,l,c).exists(s);return a?t.some(o):t.none()}}}),r("41",["2c","1x","58","1c","3v"],function(e,t,n,r,i){var o=function(n,o,a){var s=t.findItem(n,o,r.eq),l=t.findItem(n,a,r.eq);return s.bind(function(t){return l.map(function(n){return r=t,o=n,e.bounds(i.min(r.row(),o.row()),i.min(r.column(),o.column()),i.max(r.row()+r.rowspan()-1,o.row()+o.rowspan()-1),i.max(r.column()+r.colspan()-1,o.column()+o.colspan()-1));var r,o})})};return{getAnyBox:o,getBox:function(e,t,r){return o(e,t,r).bind(function(t){return n.isRectangular(e,t)})}}}),r("40",["e","f","1x","58","41","1c"],function(e,t,n,r,i,o){return{moveBy:function(e,t,r,i){return n.findItem(e,t,o.eq).bind(function(t){var o=r>0?t.row()+t.rowspan()-1:t.row(),a=i>0?t.column()+t.colspan()-1:t.column();return n.getAt(e,o+r,a+i).map(function(e){return e.element()})})},intercepts:function(o,a,s){return i.getAnyBox(o,a,s).map(function(i){var a=n.filterItems(o,t.curry(r.inSelection,i));return e.map(a,function(e){return e.element()})})},parentCell:function(e,t){return n.findItem(e,t,function(e,t){return o.contains(t,e)}).bind(function(e){return e.element()})}}}),r("3q",["j","1w","1x","40","41","1c"],function(e,t,n,r,i,o){var a=function(e){var r=t.fromTable(e);return n.generate(r)};return{moveBy:function(t,n,i){return e.table(t).bind(function(e){var o=a(e);return r.moveBy(o,t,n,i)})},intercepts:function(e,t,n){var i=a(e);return r.intercepts(i,t,n)},nestedIntercepts:function(e,t,n,i,s){var l=a(e),c=o.eq(e,n)?t:r.parentCell(l,t),u=o.eq(e,s)?i:r.parentCell(l,i);return r.intercepts(l,c,u)},getBox:function(e,t,n){var r=a(e);return i.getBox(r,t,n)}}}),r("3l",["e","f","g","3z","3q","1c","y","t","27"],function(e,t,n,r,i,o,a,s,l){var c=function(e,t){return s.ancestor(e,"table")},u=function(e,t,a){return o.eq(e,t)?n.some([e]):c(e).bind(function(n){return c(t).bind(function(l){return o.eq(n,l)?i.intercepts(n,e,t):o.contains(n,l)?i.nestedIntercepts(n,e,n,t,l):o.contains(l,n)?i.nestedIntercepts(l,e,n,t,l):r.ancestors(e,t).shared().bind(function(r){return s.closest(r,"table",a).bind(function(r){return i.nestedIntercepts(r,e,n,t,l)})})})})};return{identify:u,retrieve:function(e,t){var r=a.descendants(e,t);return r.length>0?n.some(r):n.none()},shiftSelection:function(n,r,o,a,c){return(d=n,f=c,e.find(d,function(e){return l.is(e,f)})).bind(function(e){return i.moveBy(e,r,o).bind(function(e){return n=e,r=a,s.ancestor(n,"table").bind(function(e){return s.descendant(e,r).bind(function(e){return u(e,n).map(function(r){return{boxes:t.constant(r),start:t.constant(e),finish:t.constant(n)}})})});var n,r})});var d,f},getEdges:function(e,n,i){return s.descendant(e,n).bind(function(n){return s.descendant(e,i).bind(function(e){return r.sharedOne(c,[n,e]).map(function(r){return{first:t.constant(n),last:t.constant(e),table:t.constant(r)}})})})}}}),r("1o",["3l","g","3q","1c","t"],function(e,t,n,r,i){return{retrieve:function(t,n){return e.retrieve(t,n)},retrieveBox:function(o,a,s){return e.getEdges(o,a,s).bind(function(e){var a=function(e){return r.eq(o,e)},s=i.ancestor(e.first(),"thead,tfoot,tbody,table",a),l=i.ancestor(e.last(),"thead,tfoot,tbody,table",a);return s.bind(function(i){return l.bind(function(o){return r.eq(i,o)?n.getBox(e.table(),e.first(),e.last()):t.none()})})})}}}),r("9",["f"],function(e){var t="data-mce-selected",n="data-mce-first-selected",r="data-mce-last-selected";return{selected:e.constant(t),selectedSelector:e.constant("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:e.constant("[data-mce-selected]"),firstSelected:e.constant(n),firstSelectedSelector:e.constant("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:e.constant(r),lastSelectedSelector:e.constant("td[data-mce-last-selected],th[data-mce-last-selected]")}}),r("2g",["e","1t","1z","1p","1q","21"],function(e,t,n,r,i,o){return{generate:function(a){if(!n.isArray(a))throw new i("cases must be an array");if(0===a.length)throw new i("there must be at least one case");var s=[],l={};return e.each(a,function(c,u){var d=t.keys(c);if(1!==d.length)throw new i("one and only one name per case");var f=d[0],p=c[f];if(void 0!==l[f])throw new i("duplicate key detected:"+f);if("cata"===f)throw new i("cannot have a case named cata (sorry)");if(!n.isArray(p))throw new i("case arguments must be an array");s.push(f),l[f]=function(){var n=arguments.length;if(n!==p.length)throw new i("Wrong number of arguments to case "+f+". Expected "+p.length+" ("+p+"), got "+n);for(var l=new r(n),c=0;c<l.length;c++)l[c]=arguments[c];return{fold:function(){if(arguments.length!==a.length)throw new i("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[u].apply(null,l)},match:function(n){var r=t.keys(n);if(s.length!==r.length)throw new i("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+r.join(","));if(!e.forall(s,function(t){return e.contains(r,t)}))throw new i("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+s.join(", "));return n[f].apply(null,l)},log:function(e){o.log(e,{constructors:s,constructor:f,params:l})}}}}),l}}}),r("p",["2g"],function(e){var t=e.generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]);return{cata:function(e,t,n,r){return e.fold(t,n,r)},none:t.none,multiple:t.multiple,single:t.single}}),r("2f",["1o","e","f","g","r","9","p"],function(e,t,n,r,i,o,a){var s=function(e,t){return a.cata(t.get(),n.constant([]),n.identity,n.constant([e]))};return{mergable:function(t,i){return a.cata(i.get(),r.none,function(i,a){return 0===i.length?r.none():e.retrieveBox(t,o.firstSelectedSelector(),o.lastSelectedSelector()).bind(function(e){return i.length>1?r.some({bounds:n.constant(e),cells:n.constant(i)}):r.none()})},r.none)},unmergable:function(e,n){var o=s(e,n);return o.length>0&&t.forall(o,function(e){return i.has(e,"rowspan")&&parseInt(i.get(e,"rowspan"),10)>1||i.has(e,"colspan")&&parseInt(i.get(e,"colspan"),10)>1})?r.some(o):r.none()},selection:s}}),r("o",["f","g","1k","2f"],function(e,t,n,r){var i=function(n){return{element:e.constant(n),mergable:t.none,unmergable:t.none,selection:e.constant([n])}},o=n.immutable("element","clipboard","generators");return{noMenu:i,forMenu:function(t,n,i){return{element:e.constant(i),mergable:e.constant(r.mergable(n,t)),unmergable:e.constant(r.unmergable(i,t)),selection:e.constant(r.selection(i,t))}},notCell:function(e){return i(e)},paste:o,pasteRows:function(n,i,o,a,s){return{element:e.constant(o),mergable:t.none,unmergable:t.none,selection:e.constant(r.selection(o,n)),clipboard:e.constant(a),generators:e.constant(s)}}}}),r("2",["e","f","g","h","i","j","k","l","m","n","o","9","p"],function(e,t,n,r,i,o,a,s,l,c,u,d,f){return{registerEvents:function(p,h,m,g){p.on("BeforeGetContent",function(n){!0===n.selection&&f.cata(h.get(),t.noop,function(t){var i;n.preventDefault(),(i=t,o.table(i[0]).map(a.deep).map(function(e){return[r.extract(e,d.attributeSelector())]})).each(function(t){n.content=e.map(t,function(e){return t=e,p.selection.serializer.serialize(t.dom(),{});var t}).join("")})},t.noop)}),p.on("BeforeSetContent",function(t){!0===t.selection&&!0===t.paste&&n.from(p.dom.getParent(p.selection.getStart(),"th,td")).each(function(n){var r=s.fromDom(n);o.table(r).bind(function(n){var o=e.filter(l.fromHtml(t.content),function(e){return"meta"!==c.name(e)});if(1===o.length&&"table"===c.name(o[0])){t.preventDefault();var a=s.fromDom(p.getDoc()),d=i.paste(a),f=u.paste(r,o[0],d);m.pasteCells(n,f).each(function(e){p.selection.setRng(e),p.focus(),g.clear(n)})}})})})}}}),r("2h",["r","22","l","12","28"],function(e,t,n,r,i){return{render:function(o,a,s,l){var c=n.fromTag("table");t.setAll(c,{"border-collapse":"collapse",width:"100%"}),e.set(c,"border","1");var u=n.fromTag("tbody");r.append(c,u);for(var d=[],f=0;f<o;f++){for(var p=n.fromTag("tr"),h=0;h<a;h++){var m=f<s||h<l?n.fromTag("th"):n.fromTag("td");h<l&&e.set(m,"scope","row"),f<s&&e.set(m,"scope","col"),r.append(m,n.fromTag("br")),t.set(m,"width",100/a+"%"),r.append(p,m)}d.push(p)}return i.append(u,d),c}}}),r("q",["2h"],function(e){return{render:e.render}}),r("s",["l","m","12","28","13","1m"],function(e,t,n,r,i,o){var a=function(e){return e.dom().innerHTML};return{get:a,set:function(a,s){var l=o.owner(a).dom(),c=e.fromDom(l.createDocumentFragment()),u=t.fromHtml(s,l);r.append(c,u),i.empty(a),n.append(a,c)},getOuter:function(t){var r=e.fromTag("div"),i=e.fromDom(t.dom().cloneNode(!0));return n.append(r,i),a(r)}}}),r("3",["f","q","l","r","s","t"],function(e,t,n,r,i,o){var a=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)};return{insert:function(s,l,c){var u,d=t.render(c,l,0,0);r.set(d,"id","__mce");var f,p,h=i.getOuter(d);return s.insertContent(h),u=s.dom.get("__mce"),s.dom.setAttrib(u,"id",null),s.$("tr",u).each(function(e,t){s.fire("newrow",{node:t}),s.$("th,td",t).each(function(e,t){s.fire("newcell",{node:t})})}),s.dom.setAttribs(u,s.settings.table_default_attributes||{}),s.dom.setStyles(u,s.settings.table_default_styles||{}),f=s,p=n.fromDom(u),o.descendant(p,"td,th").each(e.curry(a,f)),u}}}),r("59",["1z","e","22","3w"],function(e,t,n,r){return function(i,o){var a=function(e){var t=o(e);if(t<=0||null===t){var r=n.get(e,i);return parseFloat(r)||0}return t},s=function(e,r){return t.foldl(r,function(t,r){var i=n.get(e,r),o=void 0===i?0:parseInt(i,10);return isNaN(o)?t:t+o},0)};return{set:function(t,n){if(!e.isNumber(n)&&!n.match(/^[0-9]+$/))throw i+".set accepts only positive integer values. Value was "+n;var o=t.dom();r.isSupported(o)&&(o.style[i]=n+"px")},get:a,getOuter:a,aggregate:s,max:function(e,t,n){var r=s(e,n);return t>r?t-r:0}}}}),r("43",["35","22","59"],function(e,t,n){var r=n("height",function(t){return e.inBody(t)?t.dom().getBoundingClientRect().height:t.dom().offsetHeight});return{set:function(e,t){r.set(e,t)},get:function(e){return r.get(e)},getOuter:function(e){return r.getOuter(e)},setMax:function(e,n){var i=r.max(e,n,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);t.set(e,"max-height",i+"px")}}}),r("44",["22","59"],function(e,t){var n=t("width",function(e){return e.dom().offsetWidth});return{set:function(e,t){n.set(e,t)},get:function(e){return n.get(e)},getOuter:function(e){return n.getOuter(e)},setMax:function(t,r){var i=n.max(t,r,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);e.set(t,"max-width",i+"px")}}}),r("42",["26","22","43","44"],function(e,t,n,r){var i=e.detect(),o=function(e,n,r){return i=t.get(e,n),o=r,a=parseFloat(i),isNaN(a)?o:a;var i,o,a};return{getWidth:function(e){return o(e,"width",r.get(e))},getHeight:function(e){return i.browser.isIE()||i.browser.isEdge()?(a=o(r=e,"padding-top",0),s=o(r,"padding-bottom",0),l=o(r,"border-top-width",0),c=o(r,"border-bottom-width",0),u=r.dom().getBoundingClientRect().height,"border-box"===t.get(r,"box-sizing")?u:u-a-s-(l+c)):o(e,"height",n.get(e));var r,a,s,l,c,u}}}),r("2i",["f","g","3x","j","42","n","r","22","43","44","3v","2e"],function(e,t,n,r,i,o,a,s,l,c,u,d){var f=/(\d+(\.\d+)?)(\w|%)*/,p=/(\d+(\.\d+)?)%/,h=/(\d+(\.\d+)?)px|em/,m=function(e,t){s.set(e,"height",t+"px")},g=function(e,t,i,a){var s,l,c,f,p,h=d(e,10);return n.endsWith(e,"%")&&"table"!==o.name(t)?(s=t,l=h,c=i,f=a,p=r.table(s).map(function(e){var t=c(e);return u.floor(l/100*t)}).getOr(l),f(s,p),p):h},v=function(e){var t,n=(t=e,s.getRaw(t,"height").getOrThunk(function(){return i.getHeight(t)+"px"}));return n?g(n,e,l.get,m):l.get(e)},b=function(e,t){return a.has(e,t)?d(a.get(e,t),10):1},y=function(e){return s.getRaw(e,"width").fold(function(){return t.from(a.get(e,"width"))},function(e){return t.some(e)})},w=function(e,t){return e/t.pixelWidth()*100};return{percentageBasedSizeRegex:e.constant(p),pixelBasedSizeRegex:e.constant(h),setPixelWidth:function(e,t){s.set(e,"width",t+"px")},setPercentageWidth:function(e,t){s.set(e,"width",t+"%")},setHeight:m,getPixelWidth:function(e,t){return y(e).fold(function(){var t=c.get(e);return d(t,10)},function(n){return function(e,t,n){if(h.test(t)){var r=h.exec(t);return d(r[1],10)}if(p.test(t)){var i=p.exec(t),o=parseFloat(i[1],10);return o/100*n.pixelWidth()}var a=c.get(e);return d(a,10)}(e,n,t)})},getPercentageWidth:function(e,t){return y(e).fold(function(){var n=c.get(e),r=d(n,10);return w(r,t)},function(n){return function(e,t,n){if(p.test(t)){var r=p.exec(t);return parseFloat(r[1],10)}var i=c.get(e),o=d(i,10);return w(o,n)}(e,n,t)})},getGenericWidth:function(n){return y(n).bind(function(n){if(f.test(n)){var r=f.exec(n);return t.some({width:e.constant(r[1]),unit:e.constant(r[3])})}return t.none()})},setGenericWidth:function(e,t,n){s.set(e,"width",t+n)},getHeight:function(e){return n="rowspan",v(t=e)/b(t,n);var t,n},getRawWidth:y}}),r("u",["2i"],function(e){return{halve:function(t,n){e.getGenericWidth(t).each(function(r){var i=r.width()/2;e.setGenericWidth(t,i,r.unit()),e.setGenericWidth(n,i,r.unit())})}}}),r("30",["f"],function(e){var t=function(n,r){return{left:e.constant(n),top:e.constant(r),translate:function(e,i){return t(n+e,r+i)}}};return t}),r("45",["f","1c","l","n","2a","23"],function(e,t,n,r,i,o){return{attached:function(r,a){var s=a||n.fromDom(o.documentElement);return i.ancestor(r,e.curry(t.eq,s)).isSome()},windowOf:function(e){var t=e.dom();return t===t.window?e:r.isDocument(e)?t.defaultView||t.parentWindow:null}}}),r("2z",["30","45","l"],function(e,t,n){var r=function(e,t){return void 0!==e?e:void 0!==t?t:0},i=function(r){var i,o=r.dom(),a=o.ownerDocument,s=a.body,l=n.fromDom(a.documentElement);return s===o?e(s.offsetLeft,s.offsetTop):t.attached(r,l)?(i=o.getBoundingClientRect(),e(i.left,i.top)):e(0,0)};return{absolute:function(e){var o=e.dom().ownerDocument,a=o.body,s=t.windowOf(n.fromDom(o)),l=o.documentElement,c=r(s.pageYOffset,l.scrollTop),u=r(s.pageXOffset,l.scrollLeft),d=r(l.clientTop,a.clientTop),f=r(l.clientLeft,a.clientLeft);return i(e).translate(u-f,c-d)},relative:function(t){var n=t.dom();return e(n.offsetLeft,n.offsetTop)},viewport:i}}),r("34",["e","f","1k","43","2z","44"],function(e,t,n,r,i,o){var a=n.immutable("row","y"),s=n.immutable("col","x"),l=function(e){return i.absolute(e).left()+o.getOuter(e)},c=function(e){return i.absolute(e).left()},u=function(e,t){return s(e,c(t))},d=function(e,t){return s(e,l(t))},f=function(e){return i.absolute(e).top()},p=function(t,n,r){if(0===r.length)return[];var i=e.map(r.slice(1),function(e,n){return e.map(function(e){return t(n,e)})}),o=r[r.length-1].map(function(e){return n(r.length-1,e)});return i.concat([o])},h={delta:t.identity,positions:t.curry(p,function(e,t){return a(e,f(t))},function(e,t){return a(e,f(t)+r.getOuter(t))}),edge:f},m={delta:t.identity,edge:c,positions:t.curry(p,u,d)};return{height:h,rtl:{delta:function(e,t){return-e},edge:l,positions:t.curry(p,d,u)},ltr:m}}),r("2j",["34"],function(e){return{ltr:e.ltr,rtl:e.rtl}}),r("v",["2j"],function(e){return function(t){var n=function(n){return t(n).isRtl()?e.rtl:e.ltr};return{delta:function(e,t){return n(t).delta(e,t)},edge:function(e){return n(e).edge(e)},positions:function(e,t){return n(t).positions(e,t)}}}}),r("w",["1w","1x"],function(e,t){return{getGridSize:function(n){var r=e.fromTable(n);return t.generate(r).grid()}}}),r("46",[],function(){var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}};return e}),r("47",["e","f","1t","1z","3r","1q"],function(e,t,n,r,i,o){var a=function(e,t){return s(e,t,{validate:r.isFunction,label:"function"})},s=function(t,r,a){if(0===r.length)throw new o("You must specify at least one required field.");return i.validateStrArr("required",r),i.checkDupes(r),function(o){var s=n.keys(o);e.forall(r,function(t){return e.contains(s,t)})||i.reqMessage(r,s),t(r,s);var l=e.filter(r,function(e){return!a.validate(o[e],e)});return l.length>0&&i.invalidTypeMessage(l,a.label),o}},l=t.noop;return{exactly:t.curry(a,function(t,n){var r=e.filter(n,function(n){return!e.contains(t,n)});r.length>0&&i.unsuppMessage(r)}),ensure:t.curry(a,l),ensureWith:t.curry(s,l)}}),r("2k",["e","f","g","46","47","r","22","2e"],function(e,t,n,r,i,o,a,s){var l=function(e){var n=o.has(e,"colspan")?s(o.get(e,"colspan"),10):1,r=o.has(e,"rowspan")?s(o.get(e,"rowspan"),10):1;return{element:t.constant(e),colspan:t.constant(n),rowspan:t.constant(r)}},c=i.exactly(["cell","row","replace","gap"]);return{modification:function(e,t){c(e);var i=r(n.none()),o=void 0!==t?t:l,a=function(t){var n,r=o(t);return n=r,e.cell(n)},s=function(e){var t=a(e);return i.get().isNone()&&i.set(n.some(t)),u=n.some({item:e,replacement:t}),t},u=n.none();return{getOrInit:function(e,t){return u.fold(function(){return s(e)},function(n){return t(e,n.item)?n.replacement:s(e)})},cursor:i.get}},transform:function(t,i){return function(o){var a=r(n.none());c(o);var s=[],l=function(e){var r=o.replace(e,i,{scope:t});return s.push({item:e,sub:r}),a.get().isNone()&&a.set(n.some(r)),r};return{replaceOrInit:function(t,n){return(r=t,i=n,e.find(s,function(e){return i(e.item,r)})).fold(function(){return l(t)},function(e){return n(t,e.item)?e.sub:l(t)});var r,i},cursor:a.get}}},merging:function(e){c(e);var i=r(n.none());return{combine:function(r){return i.get().isNone()&&i.set(n.some(r)),function(){var n=e.cell({element:t.constant(r),colspan:t.constant(1),rowspan:t.constant(1)});return a.remove(n,"width"),a.remove(r,"width"),n}},cursor:i.get}}}}),r("5a",["e"],function(e){var t=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],n=function(n,r){var i=n.property().name(r);return e.contains(t,i)},r=function(t,n){return e.contains(["br","img","hr","input"],t.property().name(n))};return{isBlock:n,isList:function(t,n){var r=t.property().name(n);return e.contains(["ol","ul"],r)},isFormatting:function(t,n){var r=t.property().name(n);return e.contains(["address","pre","p","h1","h2","h3","h4","h5","h6"],r)},isHeading:function(t,n){var r=t.property().name(n);return e.contains(["h1","h2","h3","h4","h5","h6"],r)},isContainer:function(t,n){return e.contains(["div","li","td","th","blockquote","body","caption"],t.property().name(n))},isEmptyTag:r,isFrame:function(e,t){return"iframe"===e.property().name(t)},isInline:function(e,t){return!(n(e,t)||r(e,t))&&"li"!==e.property().name(t)}}}),r("48",["56","5a"],function(e,t){var n=e();return{isBlock:function(e){return t.isBlock(n,e)},isList:function(e){return t.isList(n,e)},isFormatting:function(e){return t.isFormatting(n,e)},isHeading:function(e){return t.isHeading(n,e)},isContainer:function(e){return t.isContainer(n,e)},isEmptyTag:function(e){return t.isEmptyTag(n,e)},isFrame:function(e){return t.isFrame(n,e)},isInline:function(e){return t.isInline(n,e)}}}),r("2l",["e","48","1c","28","13","l","n","1l","2a","1m","1d"],function(e,t,n,r,i,o,a,s,l,c,u){return{merge:function(d){var f,p=function(e){return"br"===a.name(e)},h=function(e){return u.last(e).bind(function(r){var i,s=(i=r,c.nextSibling(i).map(function(e){return!!t.isBlock(e)||(t.isEmptyTag(e)?"img"!==a.name(e):void 0)}).getOr(!1));return c.parent(r).map(function(i){return!0===s||(c=i,"li"===a.name(c)||l.ancestor(c,t.isList).isSome())||p(r)||t.isBlock(i)&&!n.eq(e,i)?[]:[o.fromTag("br")];var c})}).getOr([])},m=0===(f=e.bind(d,function(t){var n,r=c.children(t);return n=r,e.forall(n,function(e){return p(e)||a.isText(e)&&0===s.get(e).trim().length})?[]:r.concat(h(t))})).length?[o.fromTag("br")]:f;i.empty(d[0]),r.append(d[0],m)}}}),r("2m",["e","2c"],function(e,t){var n=function(e,n){return t.rowcells(n,e.section())},r=function(e,t){return e.cells()[t]};return{addCell:function(e,t,r){var i=e.cells(),o=i.slice(0,t),a=i.slice(t),s=o.concat([r]).concat(a);return n(e,s)},setCells:n,mutateCell:function(e,t,n){e.cells()[t]=n},getCell:r,getCellElement:function(e,t){return r(e,t).element()},mapCells:function(n,r){var i=n.cells(),o=e.map(i,r);return t.rowcells(o,n.section())},cellLength:function(e){return e.cells().length}}}),r("49",["1z","1p","1q"],function(e,t,n){var r=function(e){return function(){for(var r=new t(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];if(0===r.length)throw new n("Can't merge zero objects");for(var o={},a=0;a<r.length;a++){var s=r[a];for(var l in s)s.hasOwnProperty(l)&&(o[l]=e(o[l],s[l]))}return o}},i=r(function(t,n){return e.isObject(t)&&e.isObject(n)?i(t,n):n}),o=r(function(e,t){return t});return{deepMerge:i,merge:o}}),r("3m",["g"],function(e){return{cat:function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},findMap:function(t,n){for(var r=0;r<t.length;r++){var i=n(t[r],r);if(i.isSome())return i}return e.none()},liftN:function(t,n){for(var r=[],i=0;i<t.length;i++){var o=t[i];if(!o.isSome())return e.none();r.push(o.getOrDie())}return e.some(n.apply(null,r))}}}),r("4a",["e","f","2m"],function(e,t,n){var r=function(t,n){if(0===t.length)return 0;var r=t[0];return e.findIndex(t,function(e){return!n(r.element(),e.element())}).fold(function(){return t.length},function(e){return e})};return{subgrid:function(i,o,a,s){var l,c,u,d,f=(u=i,d=o,u[d]).cells().slice(a),p=r(f,s),h=(l=i,c=a,e.map(l,function(e){return n.getCell(e,c)})).slice(o),m=r(h,s);return{colspan:t.constant(p),rowspan:t.constant(m)}}}}),r("2p",["e","2c","4a","1x"],function(e,t,n,r){return{toDetails:function(r,i){var o=e.map(r,function(t,n){return e.map(t.cells(),function(e,t){return!1})});return e.map(r,function(a,s){var l=e.bind(a.cells(),function(e,a){if(!1===o[s][a]){var l=n.subgrid(r,s,a,i);return function(e,t,n,r){for(var i=e;i<e+n;i++)for(var a=t;a<t+r;a++)o[i][a]=!0}(s,a,l.rowspan(),l.colspan()),[t.detailnew(e.element(),l.rowspan(),l.colspan(),e.isNew())]}return[]});return t.rowdetails(l,a.section())})},toGrid:function(e,n,i){for(var o=[],a=0;a<e.grid().rows();a++){for(var s=[],l=0;l<e.grid().columns();l++){var c=r.getAt(e,a,l).map(function(e){return t.elementnew(e.element(),i)}).getOrThunk(function(){return t.elementnew(n.gap(),!0)});s.push(c)}var u=t.rowcells(s,e.all()[a].section());o.push(u)}return o}}}),r("2v",["e","f","r","l","12","28","13","k","t","1m"],function(e,t,n,r,i,o,a,s,l,c){var u=function(e,t,r,i){r===i?n.remove(e,t):n.set(e,t,r)};return{render:function(n,s){var d=[],f=[],p=function(t,s){var p;t.length>0?function(t,s){var p=l.child(n,s).getOrThunk(function(){var e=r.fromTag(s,c.owner(n).dom());return i.append(n,e),e});a.empty(p);var h=e.map(t,function(t){t.isNew()&&d.push(t.element());var n=t.element();return a.empty(n),e.each(t.cells(),function(e){e.isNew()&&f.push(e.element()),u(e.element(),"colspan",e.colspan(),1),u(e.element(),"rowspan",e.rowspan(),1),i.append(n,e.element())}),n});o.append(p,h)}(t,s):(p=s,l.child(n,p).bind(a.remove))},h=[],m=[],g=[];return e.each(s,function(e){switch(e.section()){case"thead":h.push(e);break;case"tbody":m.push(e);break;case"tfoot":g.push(e)}}),p(h,"thead"),p(m,"tbody"),p(g,"tfoot"),{newRows:t.constant(d),newCells:t.constant(f)}},copy:function(t){return e.map(t,function(t){var n=s.shallow(t.element());return e.each(t.cells(),function(e){var t=s.deep(e.element());u(t,"colspan",e.colspan(),1),u(t,"rowspan",e.rowspan(),1),i.append(n,t)}),n})}}}),r("5g",["e","g","3m","3v"],function(e,t,n,r){return{repeat:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},range:function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},unique:function(t,n){var r=[];return e.each(t,function(e,i){i<t.length-1&&!n(e,t[i+1])?r.push(e):i===t.length-1&&r.push(e)}),r},deduce:function(i,o){if(o<0||o>=i.length-1)return t.none();var a=i[o].fold(function(){var t=e.reverse(i.slice(0,o));return n.findMap(t,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return t.some({value:e,delta:0})}),s=i[o+1].fold(function(){var e=i.slice(o+1);return n.findMap(e,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return t.some({value:e,delta:1})});return a.bind(function(e){return s.map(function(t){var n=t.delta+e.delta;return r.abs(t.value-e.value)/n})})}}}),r("5b",["e","f","g","1x","5g"],function(e,t,n,r,i){var o=function(t,r,i){var o=t();return e.find(o,r).orThunk(function(){return n.from(o[0]).orThunk(i)}).map(function(e){return e.element()})};return{columns:function(n){var a=n.grid(),s=i.range(0,a.columns()),l=i.range(0,a.rows());return e.map(s,function(i){return o(function(){return e.bind(l,function(e){return r.getAt(n,e,i).filter(function(e){return e.column()===i}).fold(t.constant([]),function(e){return[e]})})},function(e){return 1===e.colspan()},function(){return r.getAt(n,0,i)})})},rows:function(n){var a=n.grid(),s=i.range(0,a.rows()),l=i.range(0,a.columns());return e.map(s,function(i){return o(function(){return e.bind(l,function(e){return r.getAt(n,i,e).filter(function(e){return e.row()===i}).fold(t.constant([]),function(e){return[e]})})},function(e){return 1===e.rowspan()},function(){return r.getAt(n,i,0)})})}}}),r("5c",["r","22","l"],function(e,t,n){return{col:function(r,i,o,a,s){var l=n.fromTag("div");return t.setAll(l,{position:"absolute",left:i-a/2+"px",top:o+"px",height:s+"px",width:a+"px"}),e.set(l,"data-column",r),l},row:function(r,i,o,a,s){var l=n.fromTag("div");return t.setAll(l,{position:"absolute",left:i+"px",top:o-s/2+"px",height:s+"px",width:a+"px"}),e.set(l,"data-row",r),l}}}),r("5d",[],function(){return{css:function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}}}}),r("4k",["5d"],function(e){return{resolve:e.css("ephox-snooker").resolve}}),r("4m",[],function(){return function(e,t,n){var r=n||!1,i=function(){t(),r=!0},o=function(){e(),r=!1};return{on:i,off:o,toggle:function(){(r?o:i)()},isOn:function(){return r}}}}),r("5e",["e","r"],function(e,t){var n=function(e,n){var r=t.get(e,n);return void 0===r||""===r?[]:r.split(" ")};return{read:n,add:function(e,r,i){var o=n(e,r).concat([i]);t.set(e,r,o.join(" "))},remove:function(r,i,o){var a=e.filter(n(r,i),function(e){return e!==o});a.length>0?t.set(r,i,a.join(" ")):t.remove(r,i)}}}),r("4n",["e","5e"],function(e,t){var n=function(e){return t.read(e,"class")},r=function(e,n){return t.add(e,"class",n)},i=function(e,n){return t.remove(e,"class",n)};return{get:n,add:r,remove:i,toggle:function(t,o){e.contains(n(t),o)?i(t,o):r(t,o)},supports:function(e){return void 0!==e.dom().classList}}}),r("3n",["4m","r","4n"],function(e,t,n){var r=function(e,t){return n.supports(e)&&e.dom().classList.contains(t)};return{add:function(e,t){n.supports(e)?e.dom().classList.add(t):n.add(e,t)},remove:function(e,r){var i;n.supports(e)?e.dom().classList.remove(r):n.remove(e,r);i=e,0===(n.supports(i)?i.dom().classList:n.get(i)).length&&t.remove(i,"class")},toggle:function(e,t){return n.supports(e)?e.dom().classList.toggle(t):n.toggle(e,t)},toggler:function(t,i){var o=n.supports(t),a=t.dom().classList;return e(function(){o?a.remove(i):n.remove(t,i)},function(){o?a.add(i):n.add(t,i)},r(t,i))},has:r}}),r("4b",["e","5b","1w","1x","5c","4k","12","13","3n","22","y","43","2z","44"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p){var h=o.resolve("resizer-bar"),m=o.resolve("resizer-rows"),g=o.resolve("resizer-cols"),v=function(t){var n=u.descendants(t.parent(),"."+h);e.each(n,s.remove)},b=function(t,n,r){var i=t.origin();e.each(n,function(e,n){e.each(function(e){var n=r(i,e);l.add(n,h),a.append(t.parent(),n)})})},y=function(e,t,n,r,o,a){var s,c,u,h,v=f.absolute(t),y=n.length>0?o.positions(n,t):[];s=e,c=y,u=v,h=p.getOuter(t),b(s,c,function(e,t){var n=i.row(t.row(),u.left()-e.left(),t.y()-e.top(),h,7);return l.add(n,m),n});var w,x,C,$,S=r.length>0?a.positions(r,t):[];w=e,x=S,C=v,$=d.getOuter(t),b(w,x,function(e,t){var n=i.col(t.col(),t.x()-e.left(),C.top()-e.top(),7,$);return l.add(n,g),n})},w=function(t,n){var r=u.descendants(t.parent(),"."+h);e.each(r,n)};return{refresh:function(e,i,o,a){v(e);var s=n.fromTable(i),l=r.generate(s),c=t.rows(l),u=t.columns(l);y(e,i,c,u,o,a)},hide:function(e){w(e,function(e){c.set(e,"display","none")})},show:function(e){w(e,function(e){c.set(e,"display","block")})},destroy:v,isRowBar:function(e){return l.has(e,m)},isColBar:function(e){return l.has(e,g)}}}),r("2n",["e","49","f","g","3m","2c","j","1w","2p","1x","2v","34","4b","1c","1m"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h){var m=function(t,n){return e.map(t,function(e){var t,r=(t=e.details(),i.findMap(t,function(e){return h.parent(e.element()).map(function(e){var t=h.parent(e).isNone();return o.elementnew(e,t)})}).getOrThunk(function(){return o.elementnew(n.row(),!0)}));return o.rowdatanew(r.element(),e.details(),e.section(),r.isNew())})},g=function(e,t){var n=l.toDetails(e,p.eq);return m(n,t)},v=function(t,n){var r=e.flatten(e.map(t.all(),function(e){return e.cells()}));return e.find(r,function(e){return p.eq(n,e.element())})};return{run:function(e,t,i,o,a){return function(h,m,v,b,y){var w=s.fromTable(m),x=c.generate(w);return t(x,v).map(function(t){var r,i,o=(r=x,i=b,l.toGrid(r,i,!1)),s=e(o,t,p.eq,a(b)),c=g(s.grid(),b);return{grid:n.constant(c),cursor:s.cursor}}).fold(function(){return r.none()},function(e){var t=u.render(m,e.grid());return i(m,e.grid(),y),o(m),f.refresh(h,m,d.height,y),r.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})}},toDetailList:g,onCell:function(e,t){return a.cell(t.element()).bind(function(t){return v(e,t)})},onCells:function(t,n){var o=e.map(n.selection(),function(e){return a.cell(e).bind(function(e){return v(t,e)})}),s=i.cat(o);return s.length>0?r.some(s):r.none()},onPaste:function(e,n){return a.cell(n.element()).bind(function(r){return v(e,r).map(function(e){return t.merge(e,{generators:n.generators,clipboard:n.clipboard})})})},onPasteRows:function(n,o){var s=e.map(o.selection(),function(e){return a.cell(e).bind(function(e){return v(n,e)})}),l=i.cat(s);return l.length>0?r.some(t.merge({cells:l},{generators:o.generators,clipboard:o.clipboard})):r.none()},onMergable:function(e,t){return t.mergable()},onUnmergable:function(e,t){return t.unmergable()}}}),r("5f",["f","g"],function(e,t){var n=function(r){return{is:function(e){return r===e},isValue:e.constant(!0),isError:e.constant(!1),getOr:e.constant(r),getOrThunk:e.constant(r),getOrDie:e.constant(r),or:function(e){return n(r)},orThunk:function(e){return n(r)},fold:function(e,t){return t(r)},map:function(e){return n(e(r))},each:function(e){e(r)},bind:function(e){return e(r)},exists:function(e){return e(r)},forall:function(e){return e(r)},toOption:function(){return t.some(r)}}},r=function(n){return{is:e.constant(!1),isValue:e.constant(!1),isError:e.constant(!0),getOr:e.identity,getOrThunk:function(e){return e()},getOrDie:function(){return e.die(n)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return r(n)},each:e.noop,bind:function(e){return r(n)},exists:e.constant(!1),forall:e.constant(!0),toOption:t.none}};return{value:n,error:r}}),r("4c",["e","f","5f","2c","2m","5g","1p","1q","3v"],function(e,t,n,r,i,o,a,s,l){var c=function(t,n){return e.map(t,function(){return r.elementnew(n.cell(),!0)})},u=function(e,t,n){return e.concat(o.repeat(t,function(t){return i.setCells(e[e.length-1],c(e[e.length-1].cells(),n))}))},d=function(t,n,r){return e.map(t,function(e){return i.setCells(e,e.cells().concat(c(o.range(0,n),r)))})};return{measure:function(e,r,o){if(e.row()>=r.length||e.column()>i.cellLength(r[0]))return n.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var a=r.slice(e.row()),s=a[0].cells().slice(e.column()),l=i.cellLength(o[0]),c=o.length;return n.value({rowDelta:t.constant(a.length-c),colDelta:t.constant(s.length-l)})},measureWidth:function(e,n){var r=i.cellLength(e[0]),o=i.cellLength(n[0]);return{rowDelta:t.constant(0),colDelta:t.constant(r-o)}},tailor:function(e,n,r){var i=n.colDelta()<0?d:t.identity;return(n.rowDelta()<0?u:t.identity)(i(e,l.abs(n.colDelta()),r),l.abs(n.rowDelta()),r)}}}),r("2q",["e","g","2c","2m"],function(e,t,n,r){return{merge:function(e,t,i,o){if(0===e.length)return e;for(var a=t.startRow();a<=t.finishRow();a++)for(var s=t.startCol();s<=t.finishCol();s++)r.mutateCell(e[a],s,n.elementnew(o(),!1));return e},unmerge:function(e,t,i,o){for(var a=!0,s=0;s<e.length;s++)for(var l=0;l<r.cellLength(e[0]);l++){var c=i(r.getCellElement(e[s],l),t);!0===c&&!1===a?r.mutateCell(e[s],l,n.elementnew(o(),!0)):!0===c&&(a=!1)}return e},splitRows:function(i,o,a,s){if(o>0&&o<i.length){var l=i[o-1].cells(),c=(u=l,d=a,e.foldl(u,function(t,n){return e.exists(t,function(e){return d(e.element(),n.element())})?t:t.concat([n])},[]));e.each(c,function(e){for(var l=t.none(),c=o;c<i.length;c++)for(var u=0;u<r.cellLength(i[0]);u++){var d=i[c].cells()[u];a(d.element(),e.element())&&(l.isNone()&&(l=t.some(s())),l.each(function(e){r.mutateCell(i[c],u,n.elementnew(e,!0))}))}})}var u,d;return i}}}),r("2o",["f","2c","4c","2m","2q"],function(e,t,n,r,i){return{merge:function(o,a,s,l,c){return n.measure(o,a,s).map(function(u){var d=n.tailor(a,u,l);return function(n,o,a,s,l){for(var c=n.row(),u=n.column(),d=c+a.length,f=u+r.cellLength(a[0]),p=c;p<d;p++)for(var h=u;h<f;h++){v=o,b=p,y=h,w=l,x=void 0,C=void 0,x=r.getCell(v[b],y),C=e.curry(w,x.element()),$=v[b],v.length>1&&r.cellLength($)>1&&(y>0&&C(r.getCellElement($,y-1))||y<$.length-1&&C(r.getCellElement($,y+1))||b>0&&C(r.getCellElement(v[b-1],y))||b<v.length-1&&C(r.getCellElement(v[b+1],y)))&&i.unmerge(o,r.getCellElement(o[p],h),l,s.cell);var m=r.getCellElement(a[p-c],h-u),g=s.replace(m);r.mutateCell(o[p],h,t.elementnew(g,!0))}var v,b,y,w,x,C,$;return o}(o,d,s,l,c)})},insert:function(e,t,r,o,a){i.splitRows(t,e,a,o.cell);var s=n.measureWidth(r,t),l=n.tailor(r,s,o),c=n.measureWidth(t,l),u=n.tailor(t,c,o);return u.slice(0,e).concat(l).concat(u.slice(e,u.length))}}}),r("2r",["e","2c","2m"],function(e,t,n){return{insertRowAt:function(e,r,i,o,a){var s=e.slice(0,r),l=e.slice(r),c=n.mapCells(e[i],function(i,s){return r>0&&r<e.length&&o(n.getCellElement(e[r-1],s),n.getCellElement(e[r],s))?n.getCell(e[r],s):t.elementnew(a(i.element(),o),!0)});return s.concat([c]).concat(l)},insertColumnAt:function(r,i,o,a,s){return e.map(r,function(e){var r=i>0&&i<n.cellLength(e)&&a(n.getCellElement(e,i-1),n.getCellElement(e,i))?n.getCell(e,i):t.elementnew(s(n.getCellElement(e,o),a),!0);return n.addCell(e,i,r)})},splitCellIntoColumns:function(r,i,o,a,s){var l=o+1;return e.map(r,function(e,r){var c=r===i?t.elementnew(s(n.getCellElement(e,o),a),!0):n.getCell(e,o);return n.addCell(e,l,c)})},splitCellIntoRows:function(e,r,i,o,a){var s=r+1,l=e.slice(0,s),c=e.slice(s),u=n.mapCells(e[r],function(e,n){return n===i?t.elementnew(a(e.element(),o),!0):e});return l.concat([u]).concat(c)},deleteRowsAt:function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},deleteColumnsAt:function(n,r,i){var o=e.map(n,function(e){var n=e.cells().slice(0,r).concat(e.cells().slice(i+1));return t.rowcells(n,e.section())});return e.filter(o,function(e){return e.cells().length>0})}}}),r("2s",["e","2c","2m"],function(e,t,n){var r=function(r,i,o,a){return e.map(r,function(r){return n.mapCells(r,function(n){return r=n,e.exists(i,function(e){return o(r.element(),e.element())})?t.elementnew(a(n.element(),o),!0):n;var r})})},i=function(e,t,r,i){return void 0!==n.getCellElement(e[t],r)&&t>0&&i(n.getCellElement(e[t-1],r),n.getCellElement(e[t],r))},o=function(e,t,r){return t>0&&r(n.getCellElement(e,t-1),n.getCellElement(e,t))};return{replaceColumn:function(t,a,s,l){var c=e.bind(t,function(e,r){return i(t,r,a,s)||o(e,a,s)?[]:[n.getCell(e,a)]});return r(t,c,s,l)},replaceRow:function(t,n,a,s){var l=t[n],c=e.bind(l.cells(),function(e,r){return i(t,n,r,a)||o(l,r,a)?[]:[e]});return r(t,c,a,s)}}}),r("5h",[],function(){var e=function(e){return{fold:e}};return{none:function(){return e(function(e,t,n,r,i){return e()})},only:function(t){return e(function(e,n,r,i,o){return n(t)})},left:function(t,n){return e(function(e,r,i,o,a){return i(t,n)})},middle:function(t,n,r){return e(function(e,i,o,a,s){return a(t,n,r)})},right:function(t,n){return e(function(e,r,i,o,a){return a(t,n)})}}}),r("4d",["e","f","5h","3v"],function(e,t,n,r){return{determine:function(i,o,a,s){var l,c,u=i.slice(0),d=(c=o,0===(l=i).length?n.none():1===l.length?n.only(0):0===c?n.left(0,1):c===l.length-1?n.right(c-1,c):c>0&&c<l.length-1?n.middle(c-1,c,c+1):n.none()),f=function(n){return e.map(n,t.constant(0))},p=t.constant(f(u)),h=function(e,t){if(a>=0){var n=r.max(s.minCellWidth(),u[t]-a);return f(u.slice(0,e)).concat([a,n-u[t]]).concat(f(u.slice(t+1)))}var i=r.max(s.minCellWidth(),u[e]+a),o=u[e]-i;return f(u.slice(0,e)).concat([i-u[e],o]).concat(f(u.slice(t+1)))},m=h;return d.fold(p,function(e){return s.singleColumnWidth(u[e],a)},m,function(e,t,n){return h(t,n)},function(e,t){if(a>=0)return f(u.slice(0,t)).concat([a]);var n=r.max(s.minCellWidth(),u[t]+a);return f(u.slice(0,t)).concat([n-u[t]])})}}}),r("4h",["f","r","22","2e"],function(e,t,n,r){var i=function(e,n){return t.has(e,n)&&r(t.get(e,n),10)>1};return{hasColspan:function(e){return i(e,"colspan")},hasRowspan:function(e){return i(e,"rowspan")},minWidth:e.constant(10),minHeight:e.constant(10),getInt:function(e,t){return r(n.get(e,t),10)}}}),r("4e",["e","f","5b","2i","4h","5g","22"],function(e,t,n,r,i,o,a){var s=function(e,t,n){return a.getRaw(e,t).fold(function(){return n(e)+"px"},function(e){return e})},l=function(e){return s(e,"width",r.getPixelWidth)},c=function(e){return s(e,"height",r.getHeight)},u=function(r,a,s,l,c){var u=n.columns(r),d=e.map(u,function(e){return e.map(a.edge)});return e.map(u,function(e,n){return e.filter(t.not(i.hasColspan)).fold(function(){var e=o.deduce(d,n);return l(e)},function(e){return s(e,c)})})},d=function(e){return e.map(function(e){return e+"px"}).getOr("")},f=function(r,a,s,l){var c=n.rows(r),u=e.map(c,function(e){return e.map(a.edge)});return e.map(c,function(e,n){return e.filter(t.not(i.hasRowspan)).fold(function(){var e=o.deduce(u,n);return l(e)},function(e){return s(e)})})};return{getRawWidths:function(e,t){return u(e,t,l,d)},getPixelWidths:function(e,t,n){return u(e,t,r.getPixelWidth,function(e){return e.getOrThunk(n.minCellWidth)},n)},getPercentageWidths:function(e,t,n){return u(e,t,r.getPercentageWidth,function(e){return e.fold(function(){return n.minCellWidth()},function(e){return e/n.pixelWidth()*100})},n)},getPixelHeights:function(e,t){return f(e,t,r.getHeight,function(e){return e.getOrThunk(i.minHeight)})},getRawHeights:function(e,t){return f(e,t,c,d)}}}),r("4f",["e","f","1x","2e"],function(e,t,n,r){var i=function(e,t,n){for(var r=0,i=e;i<t;i++)r+=void 0!==n[i]?n[i]:0;return r};return{recalculateWidth:function(r,o){var a=n.justCells(r);return e.map(a,function(e){var n=i(e.column(),e.column()+e.colspan(),o);return{element:e.element,width:t.constant(n),colspan:e.colspan}})},recalculateHeight:function(r,o){var a=n.justCells(r);return e.map(a,function(e){var n=i(e.row(),e.row()+e.rowspan(),o);return{element:e.element,height:t.constant(n),rowspan:e.rowspan}})},matchRowHeight:function(n,r){return e.map(n.all(),function(e,n){return{element:e.element,height:t.constant(r[n])}})}}}),r("4g",["e","f","4e","2i","4h","44","3v"],function(e,t,n,r,i,o,a){var s=function(o){var s=parseInt(o,10),l=t.identity;return{width:t.constant(s),pixelWidth:t.constant(s),getWidths:n.getPixelWidths,getCellDelta:l,singleColumnWidth:function(e,t){return[a.max(i.minWidth(),e+t)-e]},minCellWidth:i.minWidth,setElementWidth:r.setPixelWidth,setTableWidth:function(t,n,i){var o=e.foldr(n,function(e,t){return e+t},0);r.setPixelWidth(t,o)}}},l=function(e,a){if(r.percentageBasedSizeRegex().test(a)){var l=r.percentageBasedSizeRegex().exec(a);return c=l[1],u=e,d=parseFloat(c,10),f=o.get(u),{width:t.constant(d),pixelWidth:t.constant(f),getWidths:n.getPercentageWidths,getCellDelta:function(e){return e/f*100},singleColumnWidth:function(e,t){return[100-e]},minCellWidth:function(){return i.minWidth()/f*100},setElementWidth:r.setPercentageWidth,setTableWidth:function(e,t,n){var i=d+n;r.setPercentageWidth(e,i)}}}var c,u,d,f;if(r.pixelBasedSizeRegex().test(a)){var p=r.pixelBasedSizeRegex().exec(a);return s(p[1])}var h=o.get(e);return s(h)};return{getTableSize:function(e){return r.getRawWidth(e).fold(function(){var t=o.get(e);return s(t)},function(t){return l(e,t)})}}}),r("2t",["e","4d","1w","1x","4e","4f","2i","4g","4h","3v"],function(e,t,n,r,i,o,a,s,l,c){var u=function(e){return r.generate(e)},d=function(e){var t=n.fromTable(e);return u(t)};return{adjustWidth:function(n,r,i,a){var l=s.getTableSize(n),c=l.getCellDelta(r),u=d(n),f=l.getWidths(u,a,l),p=t.determine(f,i,c,l),h=e.map(p,function(e,t){return e+f[t]}),m=o.recalculateWidth(u,h);e.each(m,function(e){l.setElementWidth(e.element(),e.width())}),i===u.grid().columns()-1&&l.setTableWidth(n,h,c)},adjustHeight:function(t,n,r,s){var u=d(t),f=i.getPixelHeights(u,s),p=e.map(f,function(e,t){return r===t?c.max(n+e,l.minHeight()):e}),h=o.recalculateHeight(u,p),m=o.matchRowHeight(u,p);e.each(m,function(e){a.setHeight(e.element(),e.height())}),e.each(h,function(e){a.setHeight(e.element(),e.height())});var g,v=(g=p,e.foldr(g,function(e,t){return e+t},0));a.setHeight(t,v)},adjustWidthTo:function(t,n,r){var i=s.getTableSize(t),a=u(n),l=i.getWidths(a,r,i),c=o.recalculateWidth(a,l);e.each(c,function(e){i.setElementWidth(e.element(),e.width())});var d=e.foldr(l,function(e,t){return t+e},0);c.length>0&&i.setElementWidth(t,d)}}}),r("x",["e","f","g","1k","2k","2c","2l","j","1w","2m","2n","2o","2p","1x","2q","2r","2s","2t","13"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b){var y=function(e){0===s.cells(e).length&&b.remove(e)},w=r.immutable("grid","cursor"),x=function(e,t,n){return C(e,t,n).orThunk(function(){return C(e,0,0)})},C=function(e,t,r){return n.from(e[t]).bind(function(e){return n.from(e.cells()[r]).bind(function(e){return n.from(e.element())})})},$=function(e,t,n){return w(e,C(e,t,n))},S=function(t){return e.foldl(t,function(t,n){return e.exists(t,function(e){return e.row()===n.row()})?t:t.concat([n])},[]).sort(function(e,t){return e.row()-t.row()})},k=function(t){return e.foldl(t,function(t,n){return e.exists(t,function(e){return e.column()===n.column()})?t:t.concat([n])},[]).sort(function(e,t){return e.column()-t.column()})},T=function(e,t,n){var r=l.fromPastedRows(e,n),i=p.generate(r);return f.toGrid(i,t,!0)},_=v.adjustWidthTo;return{insertRowBefore:u.run(function(e,t,n,r){var i=t.row(),o=t.row(),a=m.insertRowAt(e,o,i,n,r.getOrInit);return $(a,o,t.column())},u.onCell,t.noop,t.noop,i.modification),insertRowsBefore:u.run(function(t,n,r,i){var o=n[0].row(),a=n[0].row(),s=S(n),l=e.foldl(s,function(e,t){return m.insertRowAt(e,a,o,r,i.getOrInit)},t);return $(l,a,n[0].column())},u.onCells,t.noop,t.noop,i.modification),insertRowAfter:u.run(function(e,t,n,r){var i=t.row(),o=t.row()+t.rowspan(),a=m.insertRowAt(e,o,i,n,r.getOrInit);return $(a,o,t.column())},u.onCell,t.noop,t.noop,i.modification),insertRowsAfter:u.run(function(t,n,r,i){var o=S(n),a=o[o.length-1].row(),s=o[o.length-1].row()+o[o.length-1].rowspan(),l=e.foldl(o,function(e,t){return m.insertRowAt(e,s,a,r,i.getOrInit)},t);return $(l,s,n[0].column())},u.onCells,t.noop,t.noop,i.modification),insertColumnBefore:u.run(function(e,t,n,r){var i=t.column(),o=t.column(),a=m.insertColumnAt(e,o,i,n,r.getOrInit);return $(a,t.row(),o)},u.onCell,_,t.noop,i.modification),insertColumnsBefore:u.run(function(t,n,r,i){var o=k(n),a=o[0].column(),s=o[0].column(),l=e.foldl(o,function(e,t){return m.insertColumnAt(e,s,a,r,i.getOrInit)},t);return $(l,n[0].row(),s)},u.onCells,_,t.noop,i.modification),insertColumnAfter:u.run(function(e,t,n,r){var i=t.column(),o=t.column()+t.colspan(),a=m.insertColumnAt(e,o,i,n,r.getOrInit);return $(a,t.row(),o)},u.onCell,_,t.noop,i.modification),insertColumnsAfter:u.run(function(t,n,r,i){var o=n[n.length-1].column(),a=n[n.length-1].column()+n[n.length-1].colspan(),s=k(n),l=e.foldl(s,function(e,t){return m.insertColumnAt(e,a,o,r,i.getOrInit)},t);return $(l,n[0].row(),a)},u.onCells,_,t.noop,i.modification),splitCellIntoColumns:u.run(function(e,t,n,r){var i=m.splitCellIntoColumns(e,t.row(),t.column(),n,r.getOrInit);return $(i,t.row(),t.column())},u.onCell,_,t.noop,i.modification),splitCellIntoRows:u.run(function(e,t,n,r){var i=m.splitCellIntoRows(e,t.row(),t.column(),n,r.getOrInit);return $(i,t.row(),t.column())},u.onCell,t.noop,t.noop,i.modification),eraseColumns:u.run(function(e,t,n,r){var i=k(t),o=m.deleteColumnsAt(e,i[0].column(),i[i.length-1].column()),a=x(o,t[0].row(),t[0].column());return w(o,a)},u.onCells,_,y,i.modification),eraseRows:u.run(function(e,t,n,r){var i=S(t),o=m.deleteRowsAt(e,i[0].row(),i[i.length-1].row()),a=x(o,t[0].row(),t[0].column());return w(o,a)},u.onCells,t.noop,y,i.modification),makeColumnHeader:u.run(function(e,t,n,r){var i=g.replaceColumn(e,t.column(),n,r.replaceOrInit);return $(i,t.row(),t.column())},u.onCell,t.noop,t.noop,i.transform("row","th")),unmakeColumnHeader:u.run(function(e,t,n,r){var i=g.replaceColumn(e,t.column(),n,r.replaceOrInit);return $(i,t.row(),t.column())},u.onCell,t.noop,t.noop,i.transform(null,"td")),makeRowHeader:u.run(function(e,t,n,r){var i=g.replaceRow(e,t.row(),n,r.replaceOrInit);return $(i,t.row(),t.column())},u.onCell,t.noop,t.noop,i.transform("col","th")),unmakeRowHeader:u.run(function(e,t,n,r){var i=g.replaceRow(e,t.row(),n,r.replaceOrInit);return $(i,t.row(),t.column())},u.onCell,t.noop,t.noop,i.transform(null,"td")),mergeCells:u.run(function(e,r,i,o){var s=r.cells();a.merge(s);var l=h.merge(e,r.bounds(),i,t.constant(s[0]));return w(l,n.from(s[0]))},u.onMergable,t.noop,t.noop,i.merging),unmergeCells:u.run(function(t,r,i,o){var a=e.foldr(r,function(e,t){return h.unmerge(e,t,i,o.combine(t))},t);return w(a,n.from(r[0]))},u.onUnmergable,_,t.noop,i.merging),pasteCells:u.run(function(e,t,r,i){var a,s,c,u,h=(a=t.clipboard(),s=t.generators(),c=l.fromTable(a),u=p.generate(c),f.toGrid(u,s,!0)),m=o.address(t.row(),t.column());return d.merge(m,e,h,t.generators(),r).fold(function(){return w(e,n.some(t.element()))},function(e){var n=x(e,t.row(),t.column());return w(e,n)})},u.onPaste,_,t.noop,i.modification),pasteRowsBefore:u.run(function(e,t,n,r){var i=e[t.cells[0].row()],o=t.cells[0].row(),a=T(t.clipboard(),t.generators(),i),s=d.insert(o,e,a,t.generators(),n),l=x(s,t.cells[0].row(),t.cells[0].column());return w(s,l)},u.onPasteRows,t.noop,t.noop,i.modification),pasteRowsAfter:u.run(function(e,t,n,r){var i=e[t.cells[0].row()],o=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),a=T(t.clipboard(),t.generators(),i),s=d.insert(o,e,a,t.generators(),n),l=x(s,t.cells[0].row(),t.cells[0].column());return w(s,l)},u.onPasteRows,t.noop,t.noop,i.modification)}}),r("z",["1c","l"],function(e,t){var n=function(e){return t.fromDom(e.getBody())};return{getBody:n,getIsRoot:function(t){return function(r){return e.eq(r,n(t))}},addSizeSuffix:function(e){return/^[0-9]+$/.test(e)&&(e+="px"),e},removePxSuffix:function(e){return e?e.replace(/px$/,""):""}}}),r("2u",["22"],function(e){var t=function(t){return"rtl"===e.get(t,"direction")?"rtl":"ltr"};return{onDirection:function(e,n){return function(r){return"rtl"===t(r)?n:e}},getDirection:t}}),r("10",["f","2u"],function(e,t){var n={isRtl:e.constant(!1)},r={isRtl:e.constant(!0)};return{directionAt:function(e){return"rtl"===t.getDirection(e)?r:n}}}),r("4",["e","f","g","u","v","i","w","x","l","n","r","y","z","10"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p){return function(h,m){var g,v=function(e){return"table"===c.name(f.getBody(e))};!1!==h.settings.table_clone_elements&&("string"==typeof h.settings.table_clone_elements?g=h.settings.table_clone_elements.split(/[ ,]/):Array.isArray(h.settings.table_clone_elements)&&(g=h.settings.table_clone_elements));var b=n.from(g),y=function(t,r,a,s){return function(c,f){var m=d.descendants(c,"td[data-mce-style],th[data-mce-style]");e.each(m,function(e){u.remove(e,"data-mce-style")});var g=s(),v=l.fromDom(h.getDoc()),y=i(p.directionAt),w=o.cellOperations(a,v,b);return r(c)?t(g,c,f,w,y).bind(function(t){return e.each(t.newRows(),function(e){var t;t=e,h.fire("newrow",{node:t.dom()}),t.dom()}),e.each(t.newCells(),function(e){var t;t=e,h.fire("newcell",{node:t.dom()}),t.dom()}),t.cursor().map(function(e){var t=h.dom.createRng();return t.setStart(e.dom(),0),t.setEnd(e.dom(),0),t})}):n.none()}};return{deleteRow:y(s.eraseRows,function(e){var t=a.getGridSize(e);return!1===v(h)||t.rows()>1},t.noop,m),deleteColumn:y(s.eraseColumns,function(e){var t=a.getGridSize(e);return!1===v(h)||t.columns()>1},t.noop,m),insertRowsBefore:y(s.insertRowsBefore,t.always,t.noop,m),insertRowsAfter:y(s.insertRowsAfter,t.always,t.noop,m),insertColumnsBefore:y(s.insertColumnsBefore,t.always,r.halve,m),insertColumnsAfter:y(s.insertColumnsAfter,t.always,r.halve,m),mergeCells:y(s.mergeCells,t.always,t.noop,m),unmergeCells:y(s.unmergeCells,t.always,t.noop,m),pasteRowsBefore:y(s.pasteRowsBefore,t.always,t.noop,m),pasteRowsAfter:y(s.pasteRowsAfter,t.always,t.noop,m),pasteCells:y(s.pasteCells,t.always,t.noop,m)}}}),r("11",["1w","2n","2p","1x","2v"],function(e,t,n,r,i){return{copyRows:function(o,a,s){var l=e.fromTable(o),c=r.generate(l);return t.onCells(c,a).map(function(e){var r=n.toGrid(c,s,!1).slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),o=t.toDetailList(r,s);return i.copy(o)})}}}),r("14",["d"],function(e){return e("tinymce.util.Tools")}),r("2w",["d"],function(e){return e("tinymce.Env")}),r("2x",["14"],function(e){return{applyAlign:function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},applyVAlign:function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},unApplyAlign:function(t,n){e.each("left center right".split(" "),function(e){t.formatter.remove("align"+e,{},n)})},unApplyVAlign:function(t,n){e.each("top middle bottom".split(" "),function(e){t.formatter.remove("valign"+e,{},n)})},getTDTHOverallStyle:function(e,t,n){var r;return function(t,r){for(var i=0;i<r.length;i++){var o=e.getStyle(r[i],n);if(void 0===t&&(t=o),t!=o)return""}return t}(r,e.select("td,th",t))}}}),r("2y",["f","14","z"],function(e,t,n){var r=function(e,t){var r=e.dom,i=t.control.rootControl,o=i.toJSON(),a=r.parseStyle(o.style);"style"===t.control.name()?(i.find("#borderStyle").value(a["border-style"]||"")[0].fire("select"),i.find("#borderColor").value(a["border-color"]||"")[0].fire("change"),i.find("#backgroundColor").value(a["background-color"]||"")[0].fire("change"),i.find("#width").value(a.width||"").fire("change"),i.find("#height").value(a.height||"").fire("change")):(a["border-style"]=o.borderStyle,a["border-color"]=o.borderColor,a["background-color"]=o.backgroundColor,a.width=o.width?n.addSizeSuffix(o.width):"",a.height=o.height?n.addSizeSuffix(o.height):""),i.find("#style").value(r.serializeStyle(r.parseStyle(r.serializeStyle(a))))};return{createStyleForm:function(t){var n=function(){var e=t.settings.color_picker_callback;if(e)return function(n){return e.call(t,function(e){n.control.value(e).fire("change")},n.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:e.curry(r,t)},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:e.curry(r,t),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:n()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:n()}]}]}},buildListItems:function(e,n,r){var i=function(e,r){return r=r||[],t.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=i(e.menu):(t.value=e.value,n&&n(t)),r.push(t)}),r};return i(e,r||[])},updateStyleField:r,extractAdvancedStyles:function(e,t){var n=e.parseStyle(e.getAttrib(t,"style")),r={};return n["border-style"]&&(r.borderStyle=n["border-style"]),n["border-color"]&&(r.borderColor=n["border-color"]),n["background-color"]&&(r.backgroundColor=n["background-color"]),r.style=e.serializeStyle(n),r}}}),r("15",["f","2w","14","3","2x","z","2y"],function(e,t,n,r,i,o,a){function s(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)e.setStyle(t,n,r);else if(t.children)for(var i=0;i<t.children.length;i++)s(e,t.children[i],n,r)}var l=function(e,l,c){var u,d,f=e.dom;a.updateStyleField(e,c),!1===(d=c.control.rootControl.toJSON()).class&&delete d.class,e.undoManager.transact(function(){l||(l=r.insert(e,d.cols||1,d.rows||1)),function(e,t,r){var i=e.dom,a={},l={};if(a.class=r.class,l.height=o.addSizeSuffix(r.height),i.getAttrib(t,"width")&&!e.settings.table_style_by_css?a.width=o.removePxSuffix(r.width):l.width=o.addSizeSuffix(r.width),e.settings.table_style_by_css?(l["border-width"]=o.addSizeSuffix(r.border),l["border-spacing"]=o.addSizeSuffix(r.cellspacing),n.extend(a,{"data-mce-border-color":r.borderColor,"data-mce-cell-padding":r.cellpadding,"data-mce-border":r.border})):n.extend(a,{border:r.border,cellpadding:r.cellpadding,cellspacing:r.cellspacing}),e.settings.table_style_by_css&&t.children)for(var c=0;c<t.children.length;c++)s(i,t.children[c],{"border-width":o.addSizeSuffix(r.border),"border-color":r.borderColor,padding:o.addSizeSuffix(r.cellpadding)});r.style?n.extend(l,i.parseStyle(r.style)):l=n.extend({},i.parseStyle(i.getAttrib(t,"style")),l),a.style=i.serializeStyle(l),i.setAttribs(t,a)}(e,l,d),(u=f.select("caption",l)[0])&&!d.caption&&f.remove(u),!u&&d.caption&&((u=f.create("caption")).innerHTML=t.ie?"":'<br data-mce-bogus="1"/>',l.insertBefore(u,l.firstChild)),i.unApplyAlign(e,l),d.align&&i.applyAlign(e,l,d.align),e.focus(),e.addVisual()})};return{open:function(t,r){var o,s,c,u,d,f,p,h,m,g=t.dom,v={};!0===r?(o=g.getParent(t.selection.getStart(),"table"))&&(p=o,h=(f=t).dom,m={width:h.getStyle(p,"width")||h.getAttrib(p,"width"),height:h.getStyle(p,"height")||h.getAttrib(p,"height"),cellspacing:h.getStyle(p,"border-spacing")||h.getAttrib(p,"cellspacing"),cellpadding:h.getAttrib(p,"data-mce-cell-padding")||h.getAttrib(p,"cellpadding")||i.getTDTHOverallStyle(f.dom,p,"padding"),border:h.getAttrib(p,"data-mce-border")||h.getAttrib(p,"border")||i.getTDTHOverallStyle(f.dom,p,"border"),borderColor:h.getAttrib(p,"data-mce-border-color"),caption:!!h.select("caption",p)[0],class:h.getAttrib(p,"class")},n.each("left center right".split(" "),function(e){f.formatter.matchNode(p,"align"+e)&&(m.align=e)}),!1!==f.settings.table_advtab&&n.extend(m,a.extractAdvancedStyles(h,p)),v=m):(s={label:"Cols",name:"cols"},c={label:"Rows",name:"rows"}),t.settings.table_class_list&&(v.class&&(v.class=v.class.replace(/\s*mce\-item\-table\s*/g,"")),u={name:"class",type:"listbox",label:"Class",values:a.buildListItems(t.settings.table_class_list,function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"table",classes:[e.value]})})})}),d={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==t.settings.table_appearance_options?[s,c,{label:"Width",name:"width",onchange:e.curry(a.updateStyleField,t)},{label:"Height",name:"height",onchange:e.curry(a.updateStyleField,t)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[s,c,{label:"Width",name:"width",onchange:e.curry(a.updateStyleField,t)},{label:"Height",name:"height",onchange:e.curry(a.updateStyleField,t)}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},u]},!1!==t.settings.table_advtab?t.windowManager.open({title:"Table properties",data:v,bodyType:"tabpanel",body:[{title:"General",type:"form",items:d},a.createStyleForm(t)],onsubmit:e.curry(l,t,o)}):t.windowManager.open({title:"Table properties",data:v,body:d,onsubmit:e.curry(l,t,o)})}}}),r("16",["f","14","2x","z","2y"],function(e,t,n,r,i){function o(e,o,s){function l(e,t,n){n&&u.setAttrib(e,t,n)}var c,u=e.dom;i.updateStyleField(e,s),c=s.control.rootControl.toJSON(),e.undoManager.transact(function(){t.each(o,function(t){var i,s,d;l(t,"scope",c.scope),l(t,"style",c.style),l(t,"class",c.class),i=t,s="height",(d=r.addSizeSuffix(c.height))&&u.setStyle(i,s,d),c.type!==t.parentNode.nodeName.toLowerCase()&&a(e.dom,t,c.type),1===o.length&&n.unApplyAlign(e,t),c.align&&n.applyAlign(e,t,c.align)}),e.focus()})}var a=function(e,t,n){var r=e.getParent(t,"table"),i=t.parentNode,o=e.select(n,r)[0];o||(o=e.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?e.insertAfter(o,r.firstChild):r.insertBefore(o,r.firstChild):r.appendChild(o)),o.appendChild(t),i.hasChildNodes()||e.remove(i)};return{open:function(n){var r,a,s,l,c,u,d,f,p,h,m=n.dom,g=[];r=n.dom.getParent(n.selection.getStart(),"table"),a=n.dom.getParent(n.selection.getStart(),"td,th"),t.each(r.rows,function(e){t.each(e.cells,function(t){if(m.getAttrib(t,"data-mce-selected")||t==a)return g.push(e),!1})}),(s=g[0])&&(c=g.length>1?{height:"",scope:"",class:"",align:"",type:s.parentNode.nodeName.toLowerCase()}:(f=s,p=(d=n).dom,(h={height:p.getStyle(f,"height")||p.getAttrib(f,"height"),scope:p.getAttrib(f,"scope"),class:p.getAttrib(f,"class")}).type=f.parentNode.nodeName.toLowerCase(),t.each("left center right".split(" "),function(e){d.formatter.matchNode(f,"align"+e)&&(h.align=e)}),!1!==d.settings.table_row_advtab&&t.extend(h,i.extractAdvancedStyles(p,f)),h),n.settings.table_row_class_list&&(l={name:"class",type:"listbox",label:"Class",values:i.buildListItems(n.settings.table_row_class_list,function(e){e.value&&(e.textStyle=function(){return n.formatter.getCssText({block:"tr",classes:[e.value]})})})}),u={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},l]},!1!==n.settings.table_row_advtab?n.windowManager.open({title:"Row properties",data:c,bodyType:"tabpanel",body:[{title:"General",type:"form",items:u},i.createStyleForm(m)],onsubmit:e.curry(o,n,g)}):n.windowManager.open({title:"Row properties",data:c,body:u,onsubmit:e.curry(o,n,g)}))}}}),r("17",["f","14","2x","z","2y"],function(e,t,n,r,i){var o=function(e,o,a){function s(e,t,n){n&&u.setAttrib(e,t,n)}function l(e,t,n){n&&u.setStyle(e,t,n)}var c,u=e.dom;i.updateStyleField(e,a),c=a.control.rootControl.toJSON(),e.undoManager.transact(function(){t.each(o,function(t){var i,a;s(t,"scope",c.scope),1===o.length?s(t,"style",c.style):(i=t,a=c.style,i.style.cssText+=";"+a),s(t,"class",c.class),l(t,"width",r.addSizeSuffix(c.width)),l(t,"height",r.addSizeSuffix(c.height)),c.type&&t.nodeName.toLowerCase()!==c.type&&(t=u.rename(t,c.type)),1===o.length&&(n.unApplyAlign(e,t),n.unApplyVAlign(e,t)),c.align&&n.applyAlign(e,t,c.align),c.valign&&n.applyVAlign(e,t,c.valign)}),e.focus()})};return{open:function(n){var r,a,s,l,c,u,d,f=[];if(f=n.dom.select("td[data-mce-selected],th[data-mce-selected]"),r=n.dom.getParent(n.selection.getStart(),"td,th"),!f.length&&r&&f.push(r),r=r||f[0]){a=f.length>1?{width:"",height:"",scope:"",class:"",align:"",style:"",type:r.nodeName.toLowerCase()}:(c=r,u=(l=n).dom,(d={width:u.getStyle(c,"width")||u.getAttrib(c,"width"),height:u.getStyle(c,"height")||u.getAttrib(c,"height"),scope:u.getAttrib(c,"scope"),class:u.getAttrib(c,"class")}).type=c.nodeName.toLowerCase(),t.each("left center right".split(" "),function(e){l.formatter.matchNode(c,"align"+e)&&(d.align=e)}),t.each("top middle bottom".split(" "),function(e){l.formatter.matchNode(c,"valign"+e)&&(d.valign=e)}),!1!==l.settings.table_cell_advtab&&t.extend(d,i.extractAdvancedStyles(u,c)),d),n.settings.table_cell_class_list&&(s={name:"class",type:"listbox",label:"Class",values:i.buildListItems(n.settings.table_cell_class_list,function(e){e.value&&(e.textStyle=function(){return n.formatter.getCssText({block:"td",classes:[e.value]})})})});var p={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:e.curry(i.updateStyleField,n)},{label:"Height",name:"height",onchange:e.curry(i.updateStyleField,n)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},s]};!1!==n.settings.table_cell_advtab?n.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:a,body:[{title:"General",type:"form",items:p},i.createStyleForm(n)],onsubmit:e.curry(o,n,f)}):n.windowManager.open({title:"Cell properties",data:a,body:p,onsubmit:e.curry(o,n,f)})}}}}),r("5",["e","f","g","11","i","j","12","13","k","l","14","z","o","15","16","17"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m){var g=u.each,v=n.none();return{registerCommands:function(u,b,y,w){var x=d.getIsRoot(u),C=function(){return c.fromDom(u.dom.getParent(u.selection.getStart(),"th,td"))},$=function(e){return o.table(e,x)},S=function(e){var t=C();$(t).each(function(n){var r=f.forMenu(w,n,t);e(n,r).each(function(e){u.selection.setRng(e),u.focus(),y.clear(n)})})},k=function(e){var o=C();return $(o).bind(function(e){var a=c.fromDom(u.getDoc()),s=f.forMenu(w,e,o),l=i.cellOperations(t.noop,a,n.none());return r.copyRows(e,s,l)})},T=function(t){v.each(function(n){var r=e.map(n,function(e){return l.deep(e)}),o=C();$(o).bind(function(e){var n=c.fromDom(u.getDoc()),a=i.paste(n),s=f.pasteRows(w,e,o,r,a);t(e,s).each(function(t){u.selection.setRng(t),u.focus(),y.clear(e)})})})};g({mceTableSplitCells:function(){S(b.unmergeCells)},mceTableMergeCells:function(){S(b.mergeCells)},mceTableInsertRowBefore:function(){S(b.insertRowsBefore)},mceTableInsertRowAfter:function(){S(b.insertRowsAfter)},mceTableInsertColBefore:function(){S(b.insertColumnsBefore)},mceTableInsertColAfter:function(){S(b.insertColumnsAfter)},mceTableDeleteCol:function(){S(b.deleteColumn)},mceTableDeleteRow:function(){S(b.deleteRow)},mceTableCutRow:function(e){v=k(),S(b.deleteRow)},mceTableCopyRow:function(e){v=k()},mceTablePasteRowBefore:function(e){T(b.pasteRowsBefore)},mceTablePasteRowAfter:function(e){T(b.pasteRowsAfter)},mceTableDelete:function(){var e=c.fromDom(u.dom.getParent(u.selection.getStart(),"th,td"));o.table(e,x).filter(t.not(x)).each(function(e){var t=c.fromText("");a.after(e,t),s.remove(e);var n=u.dom.createRng();n.setStart(t.dom(),0),n.setEnd(t.dom(),0),u.selection.setRng(n)})}},function(e,t){u.addCommand(t,e)}),g({mceInsertTable:t.curry(p.open,u),mceTableProps:t.curry(p.open,u,!0),mceTableRowProps:t.curry(h.open,u),mceTableCellProps:t.curry(m.open,u)},function(e,t){u.addCommand(t,function(t,n){e(n)})})},getClipboardRows:function(){return v.fold(function(){},function(t){return e.map(t,function(e){return e.dom()})})},setClipboardRows:function(t){var r=e.map(t,c.fromDom);v=n.from(r)}}}),r("18",["f","g","l","2z","30"],function(e,t,n,r,i){return{only:function(r){var o=t.from(r.dom().documentElement).map(n.fromDom).getOr(r);return{parent:e.constant(o),view:e.constant(r),origin:e.constant(i(0,0))}},detached:function(t,n){var i=e.curry(r.absolute,n);return{parent:e.constant(n),view:e.constant(t),origin:i}},body:function(t,n){return{parent:e.constant(n),view:e.constant(t),origin:e.constant(i(0,0))}}}}),r("31",["e","1k"],function(e,t){return function(n){var r=t.immutable.apply(null,n),i=[];return{bind:function(e){if(void 0===e)throw"Event bind error: undefined handler";i.push(e)},unbind:function(t){i=e.filter(i,function(e){return e!==t})},trigger:function(){var t=r.apply(null,arguments);e.each(i,function(e){e(t)})}}}}),r("32",["1t"],function(e){return{create:function(t){return{registry:e.map(t,function(e){return{bind:e.bind,unbind:e.unbind}}),trigger:e.map(t,function(e){return e.trigger})}}}}),r("5z",["47"],function(e){return{mode:e.exactly(["compare","extract","mutate","sink"]),sink:e.exactly(["element","start","stop","destroy"]),api:e.exactly(["forceDrop","drop","move","delayDrop"])}}),r("68",["5d"],function(e){return{resolve:e.css("ephox-dragster").resolve}}),r("60",["68","49","3n","22","l","13"],function(e,t,n,r,i,o){return function(a){var s=t.merge({layerClass:e.resolve("blocker")},a),l=i.fromTag("div");r.setAll(l,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),n.add(l,e.resolve("blocker")),n.add(l,s.layerClass);return{element:function(){return l},destroy:function(){o.remove(l)}}}}),r("5l",["f","l"],function(e,t){var n=function(n,r){return function(i){if(n(i)){var o=t.fromDom(i.target),a=function(){i.stopPropagation()},s=function(){i.preventDefault()},l=e.compose(s,a),c=(u=o,d=i.clientX,f=i.clientY,p=a,h=s,m=l,g=i,{target:e.constant(u),x:e.constant(d),y:e.constant(f),stop:p,prevent:h,kill:m,raw:e.constant(g)});r(c)}var u,d,f,p,h,m,g}},r=function(t,r,o,a,s){var l=n(o,a);return t.dom().addEventListener(r,l,s),{unbind:e.curry(i,t,r,l,s)}},i=function(e,t,n,r){e.dom().removeEventListener(t,n,r)};return{bind:function(e,t,n,i){return r(e,t,n,i,!1)},capture:function(e,t,n,i){return r(e,t,n,i,!0)}}}),r("4l",["f","5l"],function(e,t){var n=e.constant(!0);return{bind:function(e,r,i){return t.bind(e,r,n,i)},capture:function(e,r,i){return t.capture(e,r,n,i)}}}),r("5i",["5z","60","g","30","4l","12","13"],function(e,t,n,r,i,o,a){return e.mode({compare:function(e,t){return r(t.left()-e.left(),t.top()-e.top())},extract:function(e){return n.some(r(e.x(),e.y()))},sink:function(n,r){var s=t(r),l=i.bind(s.element(),"mousedown",n.forceDrop),c=i.bind(s.element(),"mouseup",n.drop),u=i.bind(s.element(),"mousemove",n.move),d=i.bind(s.element(),"mouseout",n.delayDrop);return e.sink({element:s.element,start:function(e){o.append(e,s.element())},stop:function(){a.remove(s.element())},destroy:function(){s.destroy(),c.unbind(),u.unbind(),d.unbind(),l.unbind()}})},mutate:function(e,t){e.mutate(t.left(),t.top())}})}),r("69",["g","31","32"],function(e,t,n){return function(){var r=e.none(),i=n.create({move:t(["info"])});return{onEvent:function(t,n){n.extract(t).each(function(t){var o,a,s;(o=n,a=t,s=r.map(function(e){return o.compare(e,a)}),r=e.some(a),s).each(function(e){i.trigger.move(e)})})},reset:function(){r=e.none()},events:i.registry}}}),r("6a",["f"],function(e){return function(t){return{onEvent:function(e,t){},reset:e.noop}}}),r("61",["69","6a"],function(e,t){return function(){var n=t(),r=e(),i=n;return{on:function(){i.reset(),i=r},off:function(){i.reset(),i=n},isOn:function(){return i===r},onEvent:function(e,t){i.onEvent(e,t)},events:r.events}}}),i("6b",clearTimeout),i("6c",setTimeout),r("62",["6b","6c"],function(e,t){return{adaptable:function(n,r){var i=null,o=null;return{cancel:function(){null!==i&&(e(i),i=null,o=null)},throttle:function(){o=arguments,null===i&&(i=t(function(){n.apply(null,o),i=null,o=null},r))}}},first:function(n,r){var i=null;return{cancel:function(){null!==i&&(e(i),i=null)},throttle:function(){var e=arguments;null===i&&(i=t(function(){n.apply(null,e),i=null,e=null},r))}}},last:function(n,r){var i=null;return{cancel:function(){null!==i&&(e(i),i=null)},throttle:function(){var o=arguments;null!==i&&e(i),i=t(function(){n.apply(null,o),i=null,o=null},r)}}}}}),r("5j",["5z","61","62","31","32","1p"],function(e,t,n,r,i,o){return{setup:function(a,s,l){var c=!1,u=i.create({start:r([]),stop:r([])}),d=t(),f=function(){m.stop(),d.isOn()&&(d.off(),u.trigger.stop())},p=n.last(f,200);d.events.move.bind(function(e){s.mutate(a,e.info())});var h=function(e){return function(){var t=o.prototype.slice.call(arguments,0);if(c)return e.apply(null,t)}},m=s.sink(e.api({forceDrop:f,drop:h(f),move:h(function(e,t){p.cancel(),d.onEvent(e,s)}),delayDrop:h(p.throttle)}),l);return{element:m.element,go:function(e){m.start(e),d.on(),u.trigger.start()},on:function(){c=!0},off:function(){c=!1},destroy:function(){m.destroy()},events:u.registry}}}}),r("4i",["5i","5j","1p"],function(e,t,n){return{transform:function(n,r){var i=void 0!==r?r:{},o=void 0!==i.mode?i.mode:e;return t.setup(n,o,r)}}}),r("5k",["31","32"],function(e,t){return function(){var n=t.create({drag:e(["xDelta","yDelta"])});return{mutate:function(e,t){n.trigger.drag(e,t)},events:n.registry}}}),r("4j",["g","31","32","5k"],function(e,t,n,r){return function(){var i=n.create({drag:t(["xDelta","yDelta","target"])}),o=e.none(),a=r();a.events.drag.bind(function(e){o.each(function(t){i.trigger.drag(e.xDelta(),e.yDelta(),t)})});return{assign:function(t){o=e.some(t)},get:function(){return o},mutate:a.mutate,events:i.registry}}}),r("4o",["t"],function(e){return{any:function(t){return e.first(t).isSome()},ancestor:function(t,n,r){return e.ancestor(t,n,r).isSome()},sibling:function(t,n){return e.sibling(t,n).isSome()},child:function(t,n){return e.child(t,n).isSome()},descendant:function(t,n){return e.descendant(t,n).isSome()},closest:function(t,n,r){return e.closest(t,n,r).isSome()}}}),r("33",["4i","f","g","31","32","4j","4b","4k","4h","1c","4l","35","n","r","3n","22","4o","t","2e"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b){var y=s.resolve("resizer-bar-dragging");return function(s,w,x){var C=o(),$=e.transform(C,{}),S=n.none(),k=function(e,t){return n.from(p.get(e,t))};C.events.drag.bind(function(e){k(e.target(),"data-row").each(function(t){var n=l.getInt(e.target(),"top");m.set(e.target(),"top",n+e.yDelta()+"px")}),k(e.target(),"data-column").each(function(t){var n=l.getInt(e.target(),"left");m.set(e.target(),"left",n+e.xDelta()+"px")})});var T=function(e,t){return l.getInt(e,t)-b(p.get(e,"data-initial-"+t),10)};$.events.stop.bind(function(){C.get().each(function(e){S.each(function(t){k(e,"data-row").each(function(n){var r=T(e,"top");p.remove(e,"data-initial-top"),N.trigger.adjustHeight(t,r,b(n,10))}),k(e,"data-column").each(function(n){var r=T(e,"left");p.remove(e,"data-initial-left"),N.trigger.adjustWidth(t,r,b(n,10))}),a.refresh(s,t,x,w)})})});var _=function(e,t){N.trigger.startAdjust(),C.assign(e),p.set(e,"data-initial-"+t,b(m.get(e,t),10)),h.add(e,y),m.set(e,"opacity","0.2"),$.go(s.parent())},E=u.bind(s.parent(),"mousedown",function(e){a.isRowBar(e.target())&&_(e.target(),"top"),a.isColBar(e.target())&&_(e.target(),"left")}),D=function(e){return c.eq(e,s.view())},A=u.bind(s.view(),"mouseover",function(e){"table"===f.name(e.target())||g.ancestor(e.target(),"table",D)?(S="table"===f.name(e.target())?n.some(e.target()):v.ancestor(e.target(),"table",D)).each(function(e){a.refresh(s,e,x,w)}):d.inBody(e.target())&&a.destroy(s)}),N=i.create({adjustHeight:r(["table","delta","row"]),adjustWidth:r(["table","delta","column"]),startAdjust:r([])});return{destroy:function(){E.unbind(),A.unbind(),$.destroy(),a.destroy(s)},refresh:function(e){a.refresh(s,e,x,w)},on:$.on,off:$.off,hideBars:t.curry(a.hide,s),showBars:t.curry(a.show,s),events:N.registry}}}),r("19",["31","32","2t","33","34"],function(e,t,n,r,i){return function(o,a){var s=i.height,l=r(o,a,s),c=t.create({beforeResize:e(["table"]),afterResize:e(["table"]),startDrag:e([])});return l.events.adjustHeight.bind(function(e){c.trigger.beforeResize(e.table());var t=s.delta(e.delta(),e.table());n.adjustHeight(e.table(),t,e.row(),s),c.trigger.afterResize(e.table())}),l.events.startAdjust.bind(function(e){c.trigger.startDrag()}),l.events.adjustWidth.bind(function(e){c.trigger.beforeResize(e.table());var t=a.delta(e.delta(),e.table());n.adjustWidth(e.table(),t,e.column(),a),c.trigger.afterResize(e.table())}),{on:l.on,off:l.off,hideBars:l.hideBars,showBars:l.showBars,destroy:l.destroy,events:c.registry}}}),r("1a",["18","12","13","35","l","22","z"],function(e,t,n,r,i,o,a){return{get:function(n,s){return n.inline?e.body(a.getBody(n),(l=i.fromTag("div"),o.setAll(l,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),t.append(r.body(),l),l)):e.only(i.fromDom(n.getDoc()));var l},remove:function(e,t){e.inline&&n.remove(t.parent())}}}),r("6",["e","g","18","v","19","l","r","y","1a","10","14"],function(e,t,n,r,i,o,a,s,l,c,u){return function(d){var f,p,h=t.none(),m=t.none(),g=t.none(),v=/(\d+(\.\d+)?)%/,b=function(e){return"TABLE"===e.nodeName};return d.on("init",function(){var n=r(c.directionAt),o=l.get(d);if(g=t.some(o),d.settings.object_resizing&&!1!==d.settings.table_resize_bars&&(!0===d.settings.object_resizing||"table"===d.settings.object_resizing)){var u=i(o,n);u.on(),u.events.startDrag.bind(function(e){h=t.some(d.selection.getRng())}),u.events.afterResize.bind(function(t){var n=t.table(),r=s.descendants(n,"td[data-mce-style],th[data-mce-style]");e.each(r,function(e){a.remove(e,"data-mce-style")}),h.each(function(e){d.selection.setRng(e),d.focus()}),d.undoManager.add()}),m=t.some(u)}}),d.on("ObjectResizeStart",function(e){var t;b(e.target)&&(f=e.width,t=e.target,p=d.dom.getStyle(t,"width")||d.dom.getAttrib(t,"width"))}),d.on("ObjectResized",function(e){if(b(e.target)){var t=e.target;if(v.test(p)){var n=parseFloat(v.exec(p)[1],10),r=e.width*n/f;d.dom.setStyle(t,"width",r+"%")}else{var i=[];u.each(t.rows,function(e){u.each(e.cells,function(e){var t=d.dom.getStyle(e,"width",!0);i.push({cell:e,width:t})})}),u.each(i,function(e){d.dom.setStyle(e.cell,"width",e.width),d.dom.setAttrib(e.cell,"width",null)})}}}),{lazyResize:function(){return m},lazyWire:function(){return g.getOr(n.only(o.fromDom(d.getBody())))},destroy:function(){m.each(function(e){e.destroy()}),g.each(function(e){l.remove(d,e)})}}}}),r("36",[],function(){var e=function(e){return{fold:e}};return{none:function(t){return e(function(e,n,r,i){return e(t)})},first:function(t){return e(function(e,n,r,i){return n(t)})},middle:function(t,n){return e(function(e,r,i,o){return i(t,n)})},last:function(t){return e(function(e,n,r,i){return i(t)})}}}),r("1b",["e","f","36","j","1c"],function(e,t,n,r,i){var o=function(n,o){return r.table(n,o).bind(function(o){var a=r.cells(o);return e.findIndex(a,function(e){return i.eq(n,e)}).map(function(e){return{index:t.constant(e),all:t.constant(a)}})})};return{next:function(e,t){return o(e,t).fold(function(){return n.none(e)},function(t){return t.index()+1<t.all().length?n.middle(e,t.all()[t.index()+1]):n.last(e)})},prev:function(e,t){return o(e,t).fold(function(){return n.none()},function(t){return t.index()-1>=0?n.middle(e,t.all()[t.index()-1]):n.first(e)})}}}),r("37",["2g","f"],function(e,t){var n=e.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);return{before:n.before,on:n.on,after:n.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(t.identity,t.identity,t.identity)}}}),r("1e",["2g","1k","l","1m","37"],function(e,t,n,r,i){var o=e.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),a=t.immutable("start","soffset","finish","foffset");return{domRange:o.domRange,relative:o.relative,exact:o.exact,exactFromRange:function(e){return o.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:a,getWin:function(e){var t=e.match({domRange:function(e){return n.fromDom(e.startContainer)},relative:function(e,t){return i.getStart(e)},exact:function(e,t,n,r){return e}});return r.defaultView(t)}}}),r("38",["1c","l","1m"],function(e,t,n){var r=function(e,t,r,i){var o=n.owner(e).dom().createRange();return o.setStart(e.dom(),t),o.setEnd(r.dom(),i),o};return{after:function(t,n,i,o){var a=r(t,n,i,o),s=e.eq(t,i)&&n===o;return a.collapsed&&!s},commonAncestorContainer:function(e,n,i,o){var a=r(e,n,i,o);return t.fromDom(a.commonAncestorContainer)}}}),r("39",["e","l","23"],function(e,t,n){return{fromElements:function(r,i){var o=(i||n).createDocumentFragment();return e.each(r,function(e){o.appendChild(e.dom())}),t.fromDom(o)}}}),r("3a",["f","g","1c","l"],function(e,t,n,r){var i=function(e,t){e.selectNodeContents(t.dom())},o=function(e){e.deleteContents()},a=function(t){return{left:e.constant(t.left),top:e.constant(t.top),right:e.constant(t.right),bottom:e.constant(t.bottom),width:e.constant(t.width),height:e.constant(t.height)}};return{create:function(e){return e.document.createRange()},replaceWith:function(e,t){o(e),e.insertNode(t.dom())},selectNodeContents:function(e,t){var n=e.document.createRange();return i(n,t),n},selectNodeContentsUsing:i,isCollapsed:function(e,t,r,i){return n.eq(e,r)&&t===i},relativeToNative:function(e,t,n){var r,i,o=e.document.createRange();return i=o,t.fold(function(e){i.setStartBefore(e.dom())},function(e,t){i.setStart(e.dom(),t)},function(e){i.setStartAfter(e.dom())}),r=o,n.fold(function(e){r.setEndBefore(e.dom())},function(e,t){r.setEnd(e.dom(),t)},function(e){r.setEndAfter(e.dom())}),o},exactToNative:function(e,t,n,r,i){var o=e.document.createRange();return o.setStart(t.dom(),n),o.setEnd(r.dom(),i),o},deleteContents:o,cloneFragment:function(e){var t=e.cloneContents();return r.fromDom(t)},getFirstRect:function(e){var n=e.getClientRects(),r=n.length>0?n[0]:e.getBoundingClientRect();return r.width>0||r.height>0?t.some(r).map(a):t.none()},getBounds:function(e){var n=e.getBoundingClientRect();return n.width>0||n.height>0?t.some(n).map(a):t.none()},isWithin:function(e,t){return t.compareBoundaryPoints(e.END_TO_START,e)<1&&t.compareBoundaryPoints(e.START_TO_END,e)>-1},toString:function(e){return e.toString()}}}),r("1n",["2g","f","g","3b","l","3a"],function(e,t,n,r,i,o){var a=e.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),s=function(e,t,n){return t(i.fromDom(n.startContainer),n.startOffset,i.fromDom(n.endContainer),n.endOffset)},l=function(e,l){var c,u,d,f=(c=e,l.match({domRange:function(e){return{ltr:t.constant(e),rtl:n.none}},relative:function(e,t){return{ltr:r.cached(function(){return o.relativeToNative(c,e,t)}),rtl:r.cached(function(){return n.some(o.relativeToNative(c,t,e))})}},exact:function(e,t,i,a){return{ltr:r.cached(function(){return o.exactToNative(c,e,t,i,a)}),rtl:r.cached(function(){return n.some(o.exactToNative(c,i,a,e,t))})}}}));return(d=(u=f).ltr()).collapsed?u.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return a.rtl(i.fromDom(e.endContainer),e.endOffset,i.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return s(0,a.ltr,d)}):s(0,a.ltr,d)};return{ltr:a.ltr,rtl:a.rtl,diagnose:l,asLtrRange:function(e,t){return l(e,t).match({ltr:function(t,n,r,i){var o=e.document.createRange();return o.setStart(t.dom(),n),o.setEnd(r.dom(),i),o},rtl:function(t,n,r,i){var o=e.document.createRange();return o.setStart(r.dom(),i),o.setEnd(t.dom(),n),o}})}}}),r("5m",["3v"],function(e){return{inRect:function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},searchForPoint:function(t,n,r,i,o){if(0===o)return 0;if(n===i)return o-1;for(var a=i,s=1;s<o;s++){var l=t(s),c=e.abs(n-l.left);if(r>l.bottom);else{if(r<l.top||c>a)return s-1;a=c}}return 0}}}),r("5n",["g","3m","1l","5m","3v"],function(e,t,n,r,i){return{locate:function(i,o,a,s){var l=i.dom().createRange();l.selectNode(o.dom());var c=l.getClientRects();return t.findMap(c,function(t){return r.inRect(t,a,s)?e.some(t):e.none()}).map(function(e){return t=i,l=o,c=a,u=s,d=e,f=function(e){var n=t.dom().createRange();return n.setStart(l.dom(),e),n.collapse(!0),n},p=n.get(l).length,h=r.searchForPoint(function(e){return f(e).getBoundingClientRect()},c,u,d.right,p),f(h);var t,l,c,u,d,f,p,h})}}}),r("4p",["g","3m","n","1m","5m","5n","3v"],function(e,t,n,r,i,o,a){var s=function(n,o,a,s){var c=n.dom().createRange(),u=r.children(o);return t.findMap(u,function(t){return c.selectNode(t.dom()),i.inRect(c.getBoundingClientRect(),a,s)?l(n,t,a,s):e.none()})},l=function(e,t,r,i){return(n.isText(t)?o.locate:s)(e,t,r,i)};return{locate:function(e,t,n,r){var i=e.dom().createRange();i.selectNode(t.dom());var o=i.getBoundingClientRect(),s=a.max(o.left,a.min(o.right,n)),c=a.max(o.top,a.min(o.bottom,r));return l(e,t,s,c)}}}),r("4q",["g","1m","1d"],function(e,t,n){var r=function(e,t){return t-e.left<e.right-t},i=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},o=function(e,t,o){var a=e.dom().createRange();a.selectNode(t.dom());var s=a.getBoundingClientRect(),l=r(s,o);return(!0===l?n.first:n.last)(t).map(function(t){return i(e,t,l)})},a=function(t,n,o){var a=n.dom().getBoundingClientRect(),s=r(a,o);return e.some(i(t,n,s))};return{search:function(e,n,r){return(0===t.children(n).length?a:o)(e,n,r)}}}),r("3c",["g","l","1m","1e","4p","4q","23","3v"],function(e,t,n,r,i,o,a,s){var l=a.caretPositionFromPoint?function(t,n,r){return e.from(t.dom().caretPositionFromPoint(n,r)).bind(function(n){if(null===n.offsetNode)return e.none();var r=t.dom().createRange();return r.setStart(n.offsetNode,n.offset),r.collapse(),e.some(r)})}:a.caretRangeFromPoint?function(t,n,r){return e.from(t.dom().caretRangeFromPoint(n,r))}:function(e,r,a){return t.fromPoint(e,r,a).bind(function(t){var l=function(){return o.search(e,t,r)};return 0===n.children(t).length?l():function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var a=o.getBoundingClientRect(),l=s.max(a.left,s.min(a.right,n)),c=s.max(a.top,s.min(a.bottom,r));return i.locate(e,t,l,c)}(e,t,r,a).orThunk(l)})};return{fromPoint:function(e,n,i){var o=t.fromDom(e.document);return l(o,n,i).map(function(e){return r.range(t.fromDom(e.startContainer),e.startOffset,t.fromDom(e.endContainer),e.endOffset)})}}}),r("3d",["e","l","n","y","27","3a","1n"],function(e,t,n,r,i,o,a){return{find:function(s,l,c){var u,d,f,p,h,m,g=a.asLtrRange(s,l),v=t.fromDom(g.commonAncestorContainer);return n.isElement(v)?(u=s,d=v,f=g,p=c,h=o.create(u),m=(i.is(d,p)?[d]:[]).concat(r.descendants(d,p)),e.filter(m,function(e){return o.selectNodeContentsUsing(h,e),o.isWithin(f,h)})):[]}}}),r("3e",["e","l","n","1e","37"],function(e,t,n,r,i){var o=function(t,r){var o=n.name(t);return"input"===o?i.after(t):e.contains(["br","img"],o)?0===r?i.before(t):i.after(t):i.on(t,r)},a=function(e,t){var n=e.fold(i.before,o,i.after),a=t.fold(i.before,o,i.after);return r.relative(n,a)},s=function(e,t,n,i){var a=o(e,t),s=o(n,i);return r.relative(a,s)};return{beforeSpecial:o,preprocess:function(e){return e.match({domRange:function(e){var n=t.fromDom(e.startContainer),r=t.fromDom(e.endContainer);return s(n,e.startOffset,r,e.endOffset)},relative:a,exact:s})},preprocessRelative:a,preprocessExact:s}}),r("1f",["g","38","l","39","1m","1e","3a","1n","3c","3d","3e"],function(e,t,n,r,i,o,a,s,l,c,u){var d=function(t,n){e.from(t.getSelection()).each(function(e){e.removeAllRanges(),e.addRange(n)})},f=function(e,t,n,r,i){var o=a.exactToNative(e,t,n,r,i);d(e,o)},p=function(e,t){return s.diagnose(e,t).match({ltr:function(t,n,r,i){f(e,t,n,r,i)},rtl:function(t,n,r,i){var o=e.getSelection();o.extend?(o.collapse(t.dom(),n),o.extend(r.dom(),i)):f(e,r,i,t,n)}})},h=function(r){var i=n.fromDom(r.anchorNode),a=n.fromDom(r.focusNode);return t.after(i,r.anchorOffset,a,r.focusOffset)?e.some(o.range(n.fromDom(r.anchorNode),r.anchorOffset,n.fromDom(r.focusNode),r.focusOffset)):function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),i=t.getRangeAt(t.rangeCount-1);return e.some(o.range(n.fromDom(r.startContainer),r.startOffset,n.fromDom(i.endContainer),i.endOffset))}return e.none()}(r)},m=function(t){var n=t.getSelection();return n.rangeCount>0?h(n):e.none()};return{setExact:function(e,t,n,r,i){var o=u.preprocessExact(t,n,r,i);p(e,o)},getExact:m,get:function(e){return m(e).map(function(e){return o.exact(e.start(),e.soffset(),e.finish(),e.foffset())})},setRelative:function(e,t,n){var r=u.preprocessRelative(t,n);p(e,r)},toNative:function(e){var t=o.getWin(e).dom(),n=function(e,n,r,i){return a.exactToNative(t,e,n,r,i)},r=u.preprocess(e);return s.diagnose(t,r).match({ltr:n,rtl:n})},setToElement:function(e,t){var n=a.selectNodeContents(e,t);d(e,n)},clear:function(e){e.getSelection().removeAllRanges()},clone:function(e,t){var n=s.asLtrRange(e,t);return a.cloneFragment(n)},replace:function(e,t,n){var i=s.asLtrRange(e,t),o=r.fromElements(n,e.document);a.replaceWith(i,o)},deleteAt:function(e,t){var n=s.asLtrRange(e,t);a.deleteContents(n)},forElement:function(e,t){var r=a.selectNodeContents(e,t);return o.range(n.fromDom(r.startContainer),r.startOffset,n.fromDom(r.endContainer),r.endOffset)},getFirstRect:function(e,t){var n=s.asLtrRange(e,t);return a.getFirstRect(n)},getBounds:function(e,t){var n=s.asLtrRange(e,t);return a.getBounds(n)},getAtPoint:function(e,t,n){return l.fromPoint(e,t,n)},findWithin:function(e,t,n){return c.find(e,t,n)},getAsString:function(e,t){var n=s.asLtrRange(e,t);return a.toString(n)}}}),r("1g",["d"],function(e){return e("tinymce.util.VK")}),r("7",["e","g","1b","j","1c","l","n","y","t","1d","1e","1f","1g","z","o"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h){var m=function(e,t,r,i){return b(e,t,n.next(r),i)},g=function(e,t,r,i){return b(e,t,n.prev(r),i)},v=function(e,t){var n=u.exact(t,0,t,0);return d.toNative(n)},b=function(n,i,o,a,u){return o.fold(t.none,t.none,function(e,t){return c.first(t).map(function(e){return v(0,e)})},function(t){return r.table(t,i).bind(function(r){var i,o,c=h.noMenu(t);return n.undoManager.transact(function(){a.insertRowsAfter(r,c)}),i=r,o=s.descendants(i,"tr"),e.last(o).bind(function(e){return l.descendant(e,"td,th").map(function(e){return v(0,e)})})})})},y=["table","li","dl"];return{handle:function(t,n,s,l){if(t.keyCode===f.TAB){var c=p.getBody(n),u=function(t){var n=a.name(t);return i.eq(t,c)||e.contains(y,n)},d=n.selection.getRng();if(d.collapsed){var h=o.fromDom(d.startContainer);r.cell(h,u).each(function(e){t.preventDefault(),(t.shiftKey?g:m)(n,u,e,s,l).each(function(e){n.selection.setRng(e)})})}}}}}),r("3f",["1k"],function(e){return{response:e.immutable("selection","kill")}}),r("1j",[],function(){var e=function(e){return function(t){return t===e}},t=e(38),n=e(40);return{ltr:{isBackward:e(37),isForward:e(39)},rtl:{isBackward:e(39),isForward:e(37)},isUp:t,isDown:n,isNavigation:function(e){return e>=37&&e<=40}}}),r("4r",["f","l","37","1n"],function(e,t,n,r){return{convertToRange:function(n,i){var o=r.asLtrRange(n,i);return{start:e.constant(t.fromDom(o.startContainer)),soffset:e.constant(o.startOffset),finish:e.constant(t.fromDom(o.endContainer)),foffset:e.constant(o.endOffset)}},makeSitus:function(t,r,i,o){return{start:e.constant(n.on(t,r)),finish:e.constant(n.on(i,o))}}}}),r("3g",["4r","f","1t","g","l","1e","37","1f"],function(e,t,n,r,i,o,a,s){return function(l){return{elementFromPoint:function(e,t){return r.from(l.document.elementFromPoint(e,t)).map(i.fromDom)},getRect:function(e){return e.dom().getBoundingClientRect()},getRangedRect:function(e,r,i,a){var c=o.exact(e,r,i,a);return s.getFirstRect(l,c).map(function(e){return n.map(e,t.apply)})},getSelection:function(){return s.get(l).map(function(t){return e.convertToRange(l,t)})},fromSitus:function(t){var n=o.relative(t.start(),t.finish());return e.convertToRange(l,n)},situsFromPoint:function(e,n){return s.getAtPoint(l,e,n).map(function(e){return{start:t.constant(a.on(e.start(),e.soffset())),finish:t.constant(a.on(e.finish(),e.foffset()))}})},clearSelection:function(){s.clear(l)},setSelection:function(e){s.setExact(l,e.start(),e.soffset(),e.finish(),e.foffset())},setRelativeSelection:function(e,t){s.setRelative(l,e,t)},selectContents:function(e){s.setToElement(l,e)},getInnerHeight:function(){return l.innerHeight},getScrollY:function(){return l.scrollY},scrollBy:function(e,t){l.scrollBy(e,t)}}}}),r("3h",["3f","3l","4r","f","g","1c","t","2b","1e","37"],function(e,t,n,r,i,o,a,s,l,c){var u=function(r,a,l,c,u){if(!o.eq(l,c)){var d=t.identify(l,c,a).getOr([]);if(d.length>0)return u(r,d,l,c),i.some(e.response(i.some(n.makeSitus(l,0,l,s.getEnd(l))),!0))}return i.none()};return{sync:function(e,t,n,r,s,l,c){return o.eq(n,s)&&r===l?i.none():a.closest(n,"td,th",t).bind(function(n){return a.closest(s,"td,th",t).bind(function(r){return u(e,t,n,r,c)})})},detect:u,update:function(e,n,r,i,o){return t.shiftSelection(i,e,n,o.firstSelectedSelector(),o.lastSelectedSelector()).map(function(e){return o.clear(r),o.selectRange(r,e.boxes(),e.start(),e.finish()),e.boxes()})}}}),r("5o",["1k"],function(e){var t=e.immutableBag(["left","top","right","bottom"],[]);return{nu:t,moveUp:function(e,n){return t({left:e.left(),top:e.top()-n,right:e.right(),bottom:e.bottom()-n})},moveDown:function(e,n){return t({left:e.left(),top:e.top()+n,right:e.right(),bottom:e.bottom()+n})},moveBottomTo:function(e,n){var r=e.bottom()-e.top();return t({left:e.left(),top:n-r,right:e.right(),bottom:n})},moveTopTo:function(e,n){var r=e.bottom()-e.top();return t({left:e.left(),top:n,right:e.right(),bottom:n+r})},getTop:function(e){return e.top()},getBottom:function(e){return e.bottom()},translate:function(e,n,r){return t({left:e.left()+n,top:e.top()+r,right:e.right()+n,bottom:e.bottom()+r})},toString:function(e){return"("+e.left()+", "+e.top()+") -> ("+e.right()+", "+e.bottom()+")"}}}),r("5p",["5o","g","n","2b"],function(e,t,n,r){var i=function(t){return e.nu({left:t.left,top:t.top,right:t.right,bottom:t.bottom})},o=function(e,n){return t.some(e.getRect(n))};return{getBoxAt:function(e,a,s){return n.isElement(a)?o(e,a).map(i):n.isText(a)?(l=e,c=a,u=s,u>=0&&u<r.getEnd(c)?l.getRangedRect(c,u,c,u+1):u>0?l.getRangedRect(c,u-1,c,u):t.none()).map(i):t.none();var l,c,u},getEntireBox:function(e,a){return n.isElement(a)?o(e,a).map(i):n.isText(a)?e.getRangedRect(a,0,a,r.getEnd(a)).map(i):t.none()}}}),r("64",["e","g","1k"],function(e,t,n){var r=n.immutable("item","mode"),i=function(e,t,n,i){var a=void 0!==i?i:o;return e.property().parent(t).map(function(e){return r(e,a)})},o=function(e,t,n,i){var o=void 0!==i?i:a;return n.sibling(e,t).map(function(e){return r(e,o)})},a=function(e,t,n,i){var o=void 0!==i?i:a,s=e.property().children(t);return n.first(s).map(function(e){return r(e,o)})},s=[{current:i,next:o,fallback:t.none()},{current:o,next:a,fallback:t.some(i)},{current:a,next:a,fallback:t.some(o)}],l=function(t,n,r,i,o){var a=void 0!==o?o:s;return e.find(a,function(e){return e.current===r}).bind(function(e){return e.current(t,n,i,e.next).orThunk(function(){return e.fallback.bind(function(e){return l(t,n,e,i)})})})};return{backtrack:i,sidestep:o,advance:a,go:l}}),r("65",["g"],function(e){return{left:function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(t){return t.length>0?e.some(t[t.length-1]):e.none()}}},right:function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(t){return t.length>0?e.some(t[0]):e.none()}}}}}),r("63",["g","64","65"],function(e,t,n){var r=function(n,i,o,a,s,l){return t.go(n,i,a,s).bind(function(t){return l(t.item())?e.none():o(t.item())?e.some(t.item()):r(n,t.item(),o,t.mode(),s,l)})};return{left:function(e,i,o,a){return r(e,i,o,t.sidestep,n.left(),a)},right:function(e,i,o,a){return r(e,i,o,t.sidestep,n.right(),a)}}}),r("5q",["f","63","64","65"],function(e,t,n,r){var i=function(e,t){return 0===e.property().children(t).length},o=function(e,n,r,i){return t.left(e,n,r,i)},a=function(e,n,r,i){return t.right(e,n,r,i)};return{before:function(t,n,r){return o(t,n,e.curry(i,t),r)},after:function(t,n,r){return a(t,n,e.curry(i,t),r)},seekLeft:o,seekRight:a,walkers:function(){return{left:r.left,right:r.right}},walk:function(e,t,r,i,o){return n.go(e,t,r,i,o)},backtrack:n.backtrack,sidestep:n.sidestep,advance:n.advance}}),r("4w",["56","5q"],function(e,t){var n=e();return{gather:function(e,r,i){return t.gather(n,e,r,i)},before:function(e,r){return t.before(n,e,r)},after:function(e,r){return t.after(n,e,r)},seekLeft:function(e,r,i){return t.seekLeft(n,e,r,i)},seekRight:function(e,r,i){return t.seekRight(n,e,r,i)},walkers:function(){return t.walkers()},walk:function(e,r,i,o){return t.walk(n,e,r,i,o)}}}),r("4u",["5o","5p","2g","f","g","4w","48","n","2a","3v"],function(e,t,n,r,i,o,a,s,l,c){var u=n.generate([{none:[]},{retry:["caret"]}]),d=function(e,n,i){return l.closest(n,a.isBlock).fold(r.constant(!1),function(n){return t.getEntireBox(e,n).exists(function(e){return n=e,(t=i).left()<n.left()||c.abs(n.right()-t.left())<1||t.left()>n.right();var t,n})})},f={point:e.getTop,adjuster:function(t,n,r,i,o){var a=e.moveUp(o,5);return c.abs(r.top()-i.top())<1?u.retry(a):r.bottom()<o.top()?u.retry(a):r.bottom()===o.top()?u.retry(e.moveUp(o,1)):d(t,n,o)?u.retry(e.translate(a,5,0)):u.none()},move:e.moveUp,gather:o.before},p={point:e.getBottom,adjuster:function(t,n,r,i,o){var a=e.moveDown(o,5);return c.abs(r.bottom()-i.bottom())<1?u.retry(a):r.top()>o.bottom()?u.retry(a):r.top()===o.bottom()?u.retry(e.moveDown(o,1)):d(t,n,o)?u.retry(e.translate(a,5,0)):u.none()},move:e.moveDown,gather:o.after},h=function(e,n,r,o,a){return 0===a?i.some(o):(d=e,f=o.left(),p=n.point(o),d.elementFromPoint(f,p).filter(function(e){return"table"===s.name(e)}).isSome()?(c=o,u=a-1,h(e,l=n,r,l.move(c,5),u)):e.situsFromPoint(o.left(),n.point(o)).bind(function(s){return s.start().fold(i.none,function(s,l){return t.getEntireBox(e,s,l).bind(function(t){return n.adjuster(e,s,t,r,o).fold(i.none,function(t){return h(e,n,r,t,a-1)})}).orThunk(function(){return i.some(o)})},i.none)}));var l,c,u,d,f,p},m=function(e,t,n){var r,o,a,s=e.move(n,5),l=h(t,e,n,s,100).getOr(s);return(r=e,o=l,a=t,r.point(o)>a.getInnerHeight()?i.some(r.point(o)-a.getInnerHeight()):r.point(o)<0?i.some(-r.point(o)):i.none()).fold(function(){return t.situsFromPoint(l.left(),e.point(l))},function(n){return t.scrollBy(0,n),t.situsFromPoint(l.left(),e.point(l)-n)})};return{tryUp:r.curry(m,f),tryDown:r.curry(m,p),ieTryUp:function(e,t){return e.situsFromPoint(t.left(),t.top()-5)},ieTryDown:function(e,t){return e.situsFromPoint(t.left(),t.bottom()+5)},getJumpSize:r.constant(5)}}),r("4v",["2g","3z","1c","t","2b"],function(e,t,n,r,i){var o=e.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),a=function(e){return r.closest(e,"tr")};return{verify:function(e,s,l,c,u,d,f){return r.closest(c,"td,th",f).bind(function(l){return r.closest(s,"td,th",f).map(function(r){return n.eq(l,r)?n.eq(c,l)&&i.getEnd(l)===u?d(r):o.none("in same cell"):t.sharedOne(a,[l,r]).fold(function(){return n=r,i=l,a=(t=e).getRect(n),(s=t.getRect(i)).right>a.left&&s.left<a.right?o.success():d(r);var t,n,i,a,s},function(e){return d(r)})})}).getOr(o.none("default"))},cata:function(e,t,n,r,i){return e.fold(t,n,r,i)},adt:o}}),r("5s",["1k"],function(e){return{point:e.immutable("element","offset"),delta:e.immutable("element","deltaOffset"),range:e.immutable("element","start","finish"),points:e.immutable("begin","end"),text:e.immutable("element","text")}}),r("66",["e","f","g","1k","1c","2a","y","t","1m"],function(e,t,n,r,i,o,a,s,l){var c=r.immutable("ancestor","descendants","element","index"),u=r.immutable("parent","children","element","index"),d=function(n,r){return e.findIndex(n,t.curry(i.eq,r))};return{childOf:function(e,t){return o.closest(e,function(e){return l.parent(e).exists(function(e){return i.eq(e,t)})})},indexOf:d,indexInParent:function(e){return l.parent(e).bind(function(t){var n=l.children(t);return d(n,e).map(function(r){return u(t,n,e,r)})})},selectorsInParent:function(e,t){return l.parent(e).bind(function(n){var r=a.children(n,t);return d(r,e).map(function(t){return u(n,r,e,t)})})},descendantsInAncestor:function(e,t,n){return s.closest(e,t).bind(function(t){var r=a.descendants(t,n);return d(r,e).map(function(n){return c(t,r,e,n)})})}}}),r("5r",["4v","f","g","5s","n","1l","66","1m","2b","37"],function(e,t,n,r,i,o,a,s,l,c){var u=function(e){return"br"===i.name(e)},d=function(e,t,r){return t(e,r).bind(function(e){return i.isText(e)&&0===o.get(e).trim().length?d(e,t,r):n.some(e)})},f=function(e,t,n,r){return(i=t,o=n,s.child(i,o).filter(u).orThunk(function(){return s.child(i,o-1).filter(u)})).bind(function(t){return r.traverse(t).fold(function(){return d(t,r.gather,e).map(r.relative)},function(e){return a.indexInParent(e).map(function(e){return c.on(e.parent(),e.index())})})});var i,o};return{tryBr:function(e,n,r,i){var o,a,s;return(u(n)?(o=e,a=n,(s=i).traverse(a).orThunk(function(){return d(a,s.gather,o)}).map(s.relative)):f(e,n,r,i)).map(function(e){return{start:t.constant(e),finish:t.constant(e)}})},process:function(t){return e.cata(t,function(e){return n.none("BR ADT: none")},function(){return n.none()},function(e){return n.some(r.point(e,0))},function(e){return n.some(r.point(e,l.getEnd(e)))})}}}),r("4s",["5o","5p","4u","4v","5r","g","5s","26","1c","2b"],function(e,t,n,r,i,o,a,s,l,c){var u=s.detect(),d=function(t,n,i,a,s,u){return 0===u?o.none():h(t,n,i,a,s).bind(function(p){var h=t.fromSitus(p),m=r.verify(t,i,a,h.finish(),h.foffset(),s.failure,n);return r.cata(m,function(){return o.none()},function(){return o.some(p)},function(r){return l.eq(i,r)&&0===a?f(t,i,a,e.moveUp,s):d(t,n,r,0,s,u-1)},function(r){return l.eq(i,r)&&a===c.getEnd(r)?f(t,i,a,e.moveDown,s):d(t,n,r,c.getEnd(r),s,u-1)})})},f=function(e,r,i,o,a){return t.getBoxAt(e,r,i).bind(function(t){return p(e,a,o(t,n.getJumpSize()))})},p=function(e,t,n){return u.browser.isChrome()||u.browser.isSafari()||u.browser.isFirefox()||u.browser.isEdge()?t.otherRetry(e,n):u.browser.isIE()?t.ieRetry(e,n):o.none()},h=function(e,n,r,i,o){return t.getBoxAt(e,r,i).bind(function(t){return p(e,o,t)})};return{handle:function(e,t,n){return(s=e,l=t,c=n,s.getSelection().bind(function(e){return i.tryBr(l,e.finish(),e.foffset(),c).fold(function(){return o.some(a.point(e.finish(),e.foffset()))},function(t){var n=s.fromSitus(t),o=r.verify(s,e.finish(),e.foffset(),n.finish(),n.foffset(),c.failure,l);return i.process(o)})})).bind(function(r){return d(e,t,r.element(),r.offset(),n,20).map(e.fromSitus)});var s,l,c}}}),r("4t",["2a"],function(e){return{any:function(t){return e.first(t).isSome()},ancestor:function(t,n,r){return e.ancestor(t,n,r).isSome()},closest:function(t,n,r){return e.closest(t,n,r).isSome()},sibling:function(t,n){return e.sibling(t,n).isSome()},child:function(t,n){return e.child(t,n).isSome()},descendant:function(t,n){return e.descendant(t,n).isSome()}}}),r("3i",["3f","3h","4s","4r","e","f","g","26","1c","4t","y","t","1m","2b","1d"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h){var m=s.detect(),g=function(e,t,r,i,s){return d.closest(i,"td,th",t).bind(function(i){return d.closest(i,"table",t).bind(function(u){return p=s,h=u,c.ancestor(p,function(e){return f.parent(e).exists(function(e){return l.eq(e,h)})})?n.handle(e,t,r).bind(function(e){return d.closest(e.finish(),"td,th",t).map(function(t){return{start:o.constant(i),finish:o.constant(t),range:o.constant(e)}})}):a.none();var p,h})})};return{navigate:function(t,n,i,o,s,l){return m.browser.isIE()?a.none():l(o,n).orThunk(function(){return g(t,n,i,o,s).map(function(t){var n=t.range();return e.response(a.some(r.makeSitus(n.start(),n.soffset(),n.finish(),n.foffset())),!0)})})},select:function(e,n,r,i,o,a,s){return g(e,r,i,o,a).bind(function(e){return t.detect(n,r,e.start(),e.finish(),s)})},firstUpCheck:function(t,n){return d.closest(t,"tr",n).bind(function(t){return d.closest(t,"table",n).bind(function(n){var i=u.descendants(n,"tr");return l.eq(t,i[0])?f.prevSibling(n).bind(h.last).map(function(t){var n=p.getEnd(t);return e.response(a.some(r.makeSitus(t,n,t,n)),!0)}):a.none()})})},lastDownCheck:function(t,n){return d.closest(t,"tr",n).bind(function(t){return d.closest(t,"table",n).bind(function(n){var i=u.descendants(n,"tr");return l.eq(t,i[i.length-1])?f.nextSibling(n).bind(h.first).map(function(t){return e.response(a.some(r.makeSitus(t,0,t,0)),!0)}):a.none()})})}}}),r("3j",["3l","g","1c","t"],function(e,t,n,r){var i=function(e,t){return r.closest(e,"td,th",t)};return function(r,o,a,s){var l=t.none(),c=function(){l=t.none()};return{mousedown:function(e){s.clear(o),l=i(e.target(),a)},mouseover:function(t){l.each(function(l){s.clear(o),i(t.target(),a).each(function(t){var i=e.identify(l,t,a).getOr([]);(i.length>1||1===i.length&&!n.eq(l,t))&&(s.selectRange(o,i,l,t),r.selectContents(t))})})},mouseup:function(){l.each(c)}}}}),r("3k",["4u","4v","4w","1m","37"],function(e,t,n,r,i){return{down:{traverse:r.nextSibling,gather:n.after,relative:i.before,otherRetry:e.tryDown,ieRetry:e.ieTryDown,failure:t.adt.failedDown},up:{traverse:r.prevSibling,gather:n.before,relative:i.before,otherRetry:e.tryUp,ieRetry:e.ieTryUp,failure:t.adt.failedUp}}}),r("1h",["3f","1j","3g","3h","3i","3j","3k","3l","f","g","3m","1k","37"],function(e,t,n,r,i,o,a,s,l,c,u,d,f){var p=d.immutable("rows","cols");return{mouse:function(e,t,r,i){var a=n(e),s=o(a,t,r,i);return{mousedown:s.mousedown,mouseover:s.mouseover,mouseup:s.mouseup}},keyboard:function(o,d,h,m){var g=n(o),v=function(){return m.clear(d),c.none()};return{keydown:function(n,o,b,y,w,x){var C=n.raw().which,$=!0===n.raw().shiftKey;return s.retrieve(d,m.selectedSelector()).fold(function(){return t.isDown(C)&&$?l.curry(i.select,g,d,h,a.down,y,o,m.selectRange):t.isUp(C)&&$?l.curry(i.select,g,d,h,a.up,y,o,m.selectRange):t.isDown(C)?l.curry(i.navigate,g,h,a.down,y,o,i.lastDownCheck):t.isUp(C)?l.curry(i.navigate,g,h,a.up,y,o,i.firstUpCheck):c.none},function(n){var i=function(i){return function(){return u.findMap(i,function(e){return r.update(e.rows(),e.cols(),d,n,m)}).fold(function(){return s.getEdges(d,m.firstSelectedSelector(),m.lastSelectedSelector()).map(function(n){var r=t.isDown(C)||x.isForward(C)?f.after:f.before;return g.setRelativeSelection(f.on(n.first(),0),r(n.table())),m.clear(d),e.response(c.none(),!0)})},function(t){return c.some(e.response(c.none(),!0))})}};return t.isDown(C)&&$?i([p(1,0)]):t.isUp(C)&&$?i([p(-1,0)]):x.isBackward(C)&&$?i([p(0,-1),p(-1,0)]):x.isForward(C)&&$?i([p(0,1),p(1,0)]):t.isNavigation(C)&&!1===$?v:c.none})()},keyup:function(e,n,i,o,a){return s.retrieve(d,m.selectedSelector()).fold(function(){var s=e.raw().which;return 0==(!0===e.raw().shiftKey)?c.none():t.isNavigation(s)?r.sync(d,h,n,i,o,a,m.selectRange):c.none()},c.none)}}}}}),r("4x",["e","3n","4n","1p"],function(e,t,n,r){return{add:function(n,r){e.each(r,function(e){t.add(n,e)})},remove:function(n,r){e.each(r,function(e){t.remove(n,e)})},toggle:function(n,r){e.each(r,function(e){t.toggle(n,e)})},hasAll:function(n,r){return e.forall(r,function(e){return t.has(n,e)})},hasAny:function(n,r){return e.exists(r,function(e){return t.has(n,e)})},get:function(e){return n.supports(e)?function(e){for(var t=e.dom().classList,n=new r(t.length),i=0;i<t.length;i++)n[i]=t.item(i);return n}(e):n.get(e)}}}),r("3o",["3n","4x"],function(e,t){return{addClass:function(t){return function(n){e.add(n,t)}},removeClass:function(t){return function(n){e.remove(n,t)}},removeClasses:function(e){return function(n){t.remove(n,e)}},hasClass:function(t){return function(n){return e.has(n,t)}}}}),r("1i",["e","r","3n","3o","y"],function(e,t,n,r,i){return{byClass:function(t){var o=r.addClass(t.selected()),a=r.removeClasses([t.selected(),t.lastSelected(),t.firstSelected()]),s=function(n){var r=i.descendants(n,t.selectedSelector());e.each(r,a)};return{clear:s,selectRange:function(r,i,a,l){s(r),e.each(i,o),n.add(a,t.firstSelected()),n.add(l,t.lastSelected())},selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},byAttr:function(n){var r=function(e){t.remove(e,n.selected()),t.remove(e,n.firstSelected()),t.remove(e,n.lastSelected())},o=function(e){t.set(e,n.selected(),"1")},a=function(t){var o=i.descendants(t,n.selectedSelector());e.each(o,r)};return{clear:a,selectRange:function(r,i,s,l){a(r),e.each(i,o),t.set(s,n.firstSelected(),"1"),t.set(l,n.lastSelected(),"1")},selectedSelector:n.selectedSelector,firstSelectedSelector:n.firstSelectedSelector,lastSelectedSelector:n.lastSelectedSelector}}}}),r("8",["1h","1i","1j","f","g","1k","j","1c","l","n","1l","r","1m","1e","1n","z","10","9"],function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v){return function(b,y){var w=o.immutableBag(["mousedown","mouseover","mouseup","keyup","keydown"],[]),x=i.none(),C=t.byAttr(v);b.on("init",function(t){var o=b.getWin(),v=m.getBody(b),$=m.getIsRoot(b),S=e.mouse(o,v,$,C),k=e.keyboard(o,v,$,C),T=function(e,t){t.kill()&&e.kill(),t.selection().each(function(e){var t=p.relative(e.start(),e.finish()),n=h.asLtrRange(o,t);b.selection.setRng(n)})},_=function(e){var t=A(e);if(t.raw().shiftKey&&n.isNavigation(t.raw().which)){var r=b.selection.getRng(),i=l.fromDom(r.startContainer),o=l.fromDom(r.endContainer);k.keyup(t,i,r.startOffset,o,r.endOffset).each(function(e){T(t,e)})}},E=function(e){return!(d.has(e,"data-mce-bogus")||"br"===c.name(e)||c.isText(e)&&0===u.get(e).length)},D=function(e){var t,r,o=A(e);y().each(function(e){e.hideBars()}),40===e.which&&(t=l.fromDom(b.getBody()),r=function(e){return f.prevSibling(e).bind(function(e){return E(e)?i.some(e):r(e)})},f.lastChild(t).bind(function(e){return E(e)?i.some(e):r(e)})).each(function(e){"table"===c.name(e)&&(b.settings.forced_root_block?b.dom.add(b.getBody(),b.settings.forced_root_block,b.settings.forced_root_block_attrs,"<br/>"):b.dom.add(b.getBody(),"br"))});var a=b.selection.getRng(),s=l.fromDom(b.selection.getStart()),u=l.fromDom(a.startContainer),d=l.fromDom(a.endContainer),p=g.directionAt(s).isRtl()?n.rtl:n.ltr;k.keydown(o,u,a.startOffset,d,a.endOffset,p).each(function(e){T(o,e)}),y().each(function(e){e.showBars()})},A=function(e){var t=l.fromDom(e.target),n=function(){e.stopPropagation()},i=function(){e.preventDefault()},o=r.compose(i,n);return{target:r.constant(t),x:r.constant(e.x),y:r.constant(e.y),stop:n,prevent:i,kill:o,raw:r.constant(e)}},N=function(e){return 0===e.button},R=function(e){N(e)&&S.mousedown(A(e))},O=function(e){var t;(void 0===(t=e).buttons||0!=(1&t.buttons))&&S.mouseover(A(e))},P=function(e){N&&S.mouseup(A(e))};b.on("mousedown",R),b.on("mouseover",O),b.on("mouseup",P),b.on("keyup",_),b.on("keydown",D),b.on("nodechange",function(){var e=b.selection,t=l.fromDom(e.getStart()),n=l.fromDom(e.getEnd()),o=a.table(t),c=a.table(n);o.bind(function(e){return c.bind(function(t){return s.eq(e,t)?i.some(!0):i.none()})}).fold(function(){C.clear(v)},r.noop)}),x=i.some(w({mousedown:R,mouseover:O,mouseup:P,keyup:_,keydown:D}))});return{clear:C.clear,destroy:function(){x.each(function(e){})}}}}),r("a",["1o","z","9","p"],function(e,t,n,r){return function(i){return{get:function(){var o=t.getBody(i);return e.retrieve(o,n.selectedSelector()).fold(function(){return void 0===i.selection.getStart()?r.none():r.single(i.selection)},function(e){return r.multiple(e)})}}}}),r("b",["f","14","15"],function(e,t,n){var r=t.each;return{addButtons:function(t){function i(e){return function(){t.execCommand(e)}}var o=[];r("inserttable tableprops deletetable | cell row column".split(" "),function(e){"|"==e?o.push({text:"-"}):o.push(t.menuItems[e])}),t.addButton("table",{type:"menubutton",title:"Table",menu:o}),t.addButton("tableprops",{title:"Table properties",onclick:e.curry(n.open,t,!0),icon:"table"}),t.addButton("tabledelete",{title:"Delete table",onclick:i("mceTableDelete")}),t.addButton("tablecellprops",{title:"Cell properties",onclick:i("mceTableCellProps")}),t.addButton("tablemergecells",{title:"Merge cells",onclick:i("mceTableMergeCells")}),t.addButton("tablesplitcells",{title:"Split cell",onclick:i("mceTableSplitCells")}),t.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:i("mceTableInsertRowBefore")}),t.addButton("tableinsertrowafter",{title:"Insert row after",onclick:i("mceTableInsertRowAfter")}),t.addButton("tabledeleterow",{title:"Delete row",onclick:i("mceTableDeleteRow")}),t.addButton("tablerowprops",{title:"Row properties",onclick:i("mceTableRowProps")}),t.addButton("tablecutrow",{title:"Cut row",onclick:i("mceTableCutRow")}),t.addButton("tablecopyrow",{title:"Copy row",onclick:i("mceTableCopyRow")}),t.addButton("tablepasterowbefore",{title:"Paste row before",onclick:i("mceTablePasteRowBefore")}),t.addButton("tablepasterowafter",{title:"Paste row after",onclick:i("mceTablePasteRowAfter")}),t.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:i("mceTableInsertColBefore")}),t.addButton("tableinsertcolafter",{title:"Insert column after",onclick:i("mceTableInsertColAfter")}),t.addButton("tabledeletecol",{title:"Delete column",onclick:i("mceTableDeleteCol")})},addToolbars:function(e){var t=e.settings.table_toolbar;""!==t&&!1!==t&&(t||(t="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),e.addContextToolbar(function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)},t))}}}),r("c",["f","e","g","j","l","3","o","15"],function(e,t,n,r,i,o,a,s){return{addMenuItems:function(l,c){function u(e){return function(){l.execCommand(e)}}var d=n.none(),f=[],p=[],h=[],m=[],g=function(e){e.disabled(!0)},v=function(e){e.disabled(!1)},b=function(){var e=this;f.push(e),d.fold(function(){g(e)},function(t){v(e)})},y=function(){var e=this;p.push(e),d.fold(function(){g(e)},function(t){v(e)})};l.on("init",function(){l.on("nodechange",function(e){var o=n.from(l.dom.getParent(l.selection.getStart(),"th,td"));(d=o.bind(function(e){var t=i.fromDom(e);return r.table(t).map(function(e){return a.forMenu(c,e,t)})})).fold(function(){t.each(f,g),t.each(p,g),t.each(h,g),t.each(m,g)},function(e){t.each(f,v),t.each(p,v),t.each(h,function(t){t.disabled(e.mergable().isNone())}),t.each(m,function(t){t.disabled(e.unmergable().isNone())})})})});var w=function(e,t,n,r){var i,o,a,s,l,c=r.getEl().getElementsByTagName("table")[0],u=r.isRtl()||"tl-tr"==r.parent().rel;for(c.nextSibling.innerHTML=t+1+" x "+(n+1),u&&(t=9-t),o=0;o<10;o++)for(i=0;i<10;i++)s=c.rows[o].childNodes[i].firstChild,l=(u?i>=t:i<=t)&&o<=n,e.dom.toggleClass(s,"mce-active",l),l&&(a=s);return a.parentNode},x=!1===l.settings.table_grid?{text:"Table",icon:"table",context:"table",onclick:e.curry(s.open,l)}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),s.open(l))},onshow:function(){w(l,0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");l.dom.removeClass(e,"mce-active"),l.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return(e+="</table>")+'<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,r=e.target;"A"==r.tagName.toUpperCase()&&(t=parseInt(r.getAttribute("data-mce-x"),10),n=parseInt(r.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(w(l,t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),l.undoManager.transact(function(){o.insert(l,t.lastX+1,t.lastY+1)}),l.addVisual())}}]},C={text:"Table properties",context:"table",onPostRender:b,onclick:e.curry(s.open,l,!0)},$={text:"Delete table",context:"table",onPostRender:b,cmd:"mceTableDelete"},S={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:u("mceTableInsertRowBefore"),onPostRender:y},{text:"Insert row after",onclick:u("mceTableInsertRowAfter"),onPostRender:y},{text:"Delete row",onclick:u("mceTableDeleteRow"),onPostRender:y},{text:"Row properties",onclick:u("mceTableRowProps"),onPostRender:y},{text:"-"},{text:"Cut row",onclick:u("mceTableCutRow"),onPostRender:y},{text:"Copy row",onclick:u("mceTableCopyRow"),onPostRender:y},{text:"Paste row before",onclick:u("mceTablePasteRowBefore"),onPostRender:y},{text:"Paste row after",onclick:u("mceTablePasteRowAfter"),onPostRender:y}]},k={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:u("mceTableInsertColBefore"),onPostRender:y},{text:"Insert column after",onclick:u("mceTableInsertColAfter"),onPostRender:y},{text:"Delete column",onclick:u("mceTableDeleteCol"),onPostRender:y}]},T={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:u("mceTableCellProps"),onPostRender:y},{text:"Merge cells",onclick:u("mceTableMergeCells"),onPostRender:function(){var e=this;h.push(e),d.fold(function(){g(e)},function(t){e.disabled(t.mergable().isNone())})}},{text:"Split cell",onclick:u("mceTableSplitCells"),onPostRender:function(){var e=this;m.push(e),d.fold(function(){g(e)},function(t){e.disabled(t.unmergable().isNone())})}}]};l.addMenuItem("inserttable",x),l.addMenuItem("tableprops",C),l.addMenuItem("deletetable",$),l.addMenuItem("row",S),l.addMenuItem("column",k),l.addMenuItem("cell",T)}}}),r("0",["1","2","3","4","5","6","7","8","9","a","b","c"],function(e,t,n,r,i,o,a,s,l,c,u,d){return e.add("table",function(e){var f=o(e),p=s(e,f.lazyResize),h=r(e,f.lazyWire),m=c(e);i.registerCommands(e,h,p,m),t.registerEvents(e,m,h,p),d.addMenuItems(e,m),u.addButtons(e),u.addToolbars(e),e.on("PreInit",function(){e.serializer.addTempAttr(l.firstSelected()),e.serializer.addTempAttr(l.lastSelected())}),!1!==e.settings.table_tab_navigation&&e.on("keydown",function(t){a.handle(t,e,h,f.lazyWire)}),e.on("remove",function(){f.destroy(),p.destroy()}),this.insertTable=function(t,r){return n.insert(e,t,r)},this.setClipboardRows=i.setClipboardRows,this.getClipboardRows=i.getClipboardRows}),function(){}}),n("0")()}(),function(){var e,t,n={},r=function(e,t,r){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===r)throw"no definition function for "+e;n[e]={deps:t,defn:r,instance:void 0}},i=function(e){var t=n[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=n[e],r=t.deps,o=t.defn,a=r.length,s=new Array(a),l=0;l<a;++l)s[l]=i(r[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+e+"] returned undefined";t.instance=c}(e),t.instance},o=r;e="6",t=tinymce.util.Tools.resolve,o(e,[],function(){return t}),o("1",["6"],function(e){return e("tinymce.PluginManager")}),o("g",["6"],function(e){return e("tinymce.dom.RangeUtils")}),o("h",["6"],function(e){return e("tinymce.dom.TreeWalker")}),o("b",["6"],function(e){return e("tinymce.util.VK")}),o("i",["6"],function(e){return e("tinymce.dom.BookmarkManager")}),o("d",["6"],function(e){return e("tinymce.util.Tools")}),o("j",["6"],function(e){return e("tinymce.dom.DOMUtils")}),o("e",[],function(){var e=function(e){return e&&"BR"===e.nodeName};return{isTextNode:function(e){return e&&3===e.nodeType},isListNode:function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},isListItemNode:function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},isTableCellNode:function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},isBr:e,isFirstChild:function(e){return e.parentNode.firstChild===e},isLastChild:function(e){return e.parentNode.lastChild===e},isTextBlock:function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},isBlock:function(e,t){return e&&e.nodeName in t},isBogusBr:function(t,n){return!!e(n)&&!(!t.isBlock(n.nextSibling)||e(n.previousSibling))},isEmpty:function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},isChildOfBody:function(e,t){return e.isChildOf(t,e.getRoot())}}}),o("p",["g","e"],function(e,t){var n=function(n,r){var i=e.getNode(n,r);return t.isListItemNode(n)&&t.isTextNode(i)?{container:i,offset:r>=n.childNodes.length?i.data.length:0}:{container:n,offset:r}};return{getNormalizedEndPoint:n,normalizeRange:function(e){var t=e.cloneRange(),r=n(e.startContainer,e.startOffset);t.setStart(r.container,r.offset);var i=n(e.endContainer,e.endOffset);return t.setEnd(i.container,i.offset),t}}}),o("k",["j","e","p"],function(e,t,n){var r=e.DOM;return{createBookmark:function(e){var t={},n=function(n){var i,o,a;o=e[n?"startContainer":"endContainer"],a=e[n?"startOffset":"endOffset"],1===o.nodeType&&(i=r.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(a=Math.min(a,o.childNodes.length-1),n?o.insertBefore(i,o.childNodes[a]):r.insertAfter(i,o.childNodes[a])):o.appendChild(i),o=i,a=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=a};return n(!0),e.collapsed||n(),t},resolveBookmark:function(e){function t(t){var n,i,o;n=o=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(i=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,r.remove(o),!n.hasChildNodes()&&r.isBlock(n)&&n.appendChild(r.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=i)}t(!0),t();var i=r.createRng();return i.setStart(e.startContainer,e.startOffset),e.endContainer&&i.setEnd(e.endContainer,e.endOffset),n.normalizeRange(i)}}}),o("l",["j","d","e"],function(e,t,n){var r=e.DOM,i=function(e,t){var i,o=t.parentNode;"LI"===o.nodeName&&o.firstChild===t&&((i=o.previousSibling)&&"LI"===i.nodeName?(i.appendChild(t),n.isEmpty(e,o)&&r.remove(o)):r.setStyle(o,"listStyleType","none")),n.isListNode(o)&&((i=o.previousSibling)&&"LI"===i.nodeName&&i.appendChild(t))};return{normalizeList:i,normalizeLists:function(e,n){t.each(t.grep(e.select("ol,ul",n)),function(t){i(e,t)})}}}),o("m",["6"],function(e){return e("tinymce.dom.DomQuery")}),o("f",["m","d","e"],function(e,t,n){var r=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",i(e,t))},i=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()};return{getParentList:r,getSelectedSubLists:function(e){var i,o,a,s=r(e),l=e.selection.getSelectedBlocks();return a=l,(o=s)&&1===a.length&&a[0]===o?(i=s,t.grep(i.querySelectorAll("ol,ul,dl"),function(e){return n.isListNode(e)})):t.grep(l,function(e){return n.isListNode(e)&&s!==e})},getSelectedListItems:function(r){var o,a,s,l=r.selection.getSelectedBlocks();return t.grep((o=r,a=l,s=t.map(a,function(e){var t=o.dom.getParent(e,"li,dd,dt",i(o,e));return t||e}),e.unique(s)),function(e){return n.isListItemNode(e)})},getClosestListRootElm:i}}),o("q",["6"],function(e){return e("tinymce.Env")}),o("o",["j","q","e"],function(e,t,n){var r=e.DOM;return{createNewTextBlock:function(e,i,o){var a,s,l,c=r.createFragment(),u=e.schema.getBlockElements();if(e.settings.forced_root_block&&(o=o||e.settings.forced_root_block),o&&((s=r.create(o)).tagName===e.settings.forced_root_block&&r.setAttribs(s,e.settings.forced_root_block_attrs),n.isBlock(i.firstChild,u)||c.appendChild(s)),i)for(;a=i.firstChild;){var d=a.nodeName;l||"SPAN"===d&&"bookmark"===a.getAttribute("data-mce-type")||(l=!0),n.isBlock(a,u)?(c.appendChild(a),s=null):o?(s||(s=r.create(o),c.appendChild(s)),s.appendChild(a)):c.appendChild(a)}return e.settings.forced_root_block?l||t.ie&&!(t.ie>10)||s.appendChild(r.create("br",{"data-mce-bogus":"1"})):c.appendChild(r.create("br")),c}}}),o("n",["j","e","o","d"],function(e,t,n,r){var i=e.DOM;return{splitList:function(e,o,a,s){var l,c,u,d,f;for(u=i.select('span[data-mce-type="bookmark"]',o),s=s||n.createNewTextBlock(e,a),(l=i.createRng()).setStartAfter(a),l.setEndAfter(o),d=(c=l.extractContents()).firstChild;d;d=d.firstChild)if("LI"===d.nodeName&&e.dom.isEmpty(d)){i.remove(d);break}e.dom.isEmpty(c)||i.insertAfter(c,o),i.insertAfter(s,o),t.isEmpty(e.dom,a.parentNode)&&(f=a.parentNode,r.each(u,function(e){f.parentNode.insertBefore(e,a.parentNode)}),i.remove(f)),i.remove(a),t.isEmpty(e.dom,o)&&i.remove(o)}}}),o("9",["j","k","e","l","f","n","o"],function(e,t,n,r,i,o,a){var s=e.DOM,l=function(e,t){n.isEmpty(e,t)&&s.remove(t)},c=function(e,t){var i,c=t.parentNode,u=c.parentNode;return!(c!==e.getBody()&&("DD"===t.nodeName?(s.rename(t,"DT"),0):n.isFirstChild(t)&&n.isLastChild(t)?("LI"===u.nodeName?(s.insertAfter(t,u),l(e.dom,u),s.remove(c)):n.isListNode(u)?s.remove(c,!0):(u.insertBefore(a.createNewTextBlock(e,t),c),s.remove(c)),0):n.isFirstChild(t)?("LI"===u.nodeName?(s.insertAfter(t,u),t.appendChild(c),l(e.dom,u)):n.isListNode(u)?u.insertBefore(t,c):(u.insertBefore(a.createNewTextBlock(e,t),c),s.remove(t)),0):n.isLastChild(t)?("LI"===u.nodeName?s.insertAfter(t,u):n.isListNode(u)?s.insertAfter(t,c):(s.insertAfter(a.createNewTextBlock(e,t),c),s.remove(t)),0):("LI"===u.nodeName?(c=u,i=a.createNewTextBlock(e,t,"LI")):i=n.isListNode(u)?a.createNewTextBlock(e,t,"LI"):a.createNewTextBlock(e,t),o.splitList(e,c,t,i),r.normalizeLists(e.dom,c.parentNode),0)))};return{outdent:c,outdentSelection:function(e){var n=i.getSelectedListItems(e);if(n.length){var r,o,a=t.createBookmark(e.selection.getRng(!0)),s=i.getClosestListRootElm(e,e.selection.getStart(!0));for(r=n.length;r--;)for(var l=n[r].parentNode;l&&l!==s;){for(o=n.length;o--;)if(n[o]===l){n.splice(r,1);break}l=l.parentNode}for(r=0;r<n.length&&(c(e,n[r])||0!==r);r++);return e.selection.setRng(t.resolveBookmark(a)),e.nodeChanged(),!0}}}}),o("a",["i","d","9","k","e","l","f","n"],function(e,t,n,r,i,o,a,s){var l=function(e,n){t.each(n,function(t,n){e.setAttribute(n,t)})},c=function(e,n,r){var i,o,a,s,c,u,d;s=e,c=n,d=(u=r)["list-style-type"]?u["list-style-type"]:null,s.setStyle(c,"list-style-type",d),i=e,l(o=n,(a=r)["list-attributes"]),t.each(i.select("li",o),function(e){l(e,a["list-item-attributes"])})},u=function(e,t,n,r){var o,a;for(o=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o),!n&&i.isBr(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(i.isTextBlock(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},d=function(n,o,s){var l,d=n.selection.getRng(!0),f="LI",p=a.getClosestListRootElm(n,n.selection.getStart(!0)),m=n.dom;s=s||{},"false"!==m.getContentEditable(n.selection.getNode())&&("DL"===(o=o.toUpperCase())&&(f="DT"),l=r.createBookmark(d),t.each(function(n,r,o){for(var a,s=[],l=n.dom,c=u(n,r,!0,o),d=u(n,r,!1,o),f=[],p=c;p&&(f.push(p),p!==d);p=p.nextSibling);return t.each(f,function(t){if(i.isTextBlock(n,t))return s.push(t),void(a=null);if(l.isBlock(t)||i.isBr(t))return i.isBr(t)&&l.remove(t),void(a=null);var r=t.nextSibling;return e.isBookmarkNode(t)&&(i.isTextBlock(n,r)||!r&&t.parentNode===o)?void(a=null):(a||(a=l.create("p"),t.parentNode.insertBefore(a,t),s.push(a)),void a.appendChild(t))}),s}(n,d,p),function(e){var t,r,a,l,u,d;(r=e.previousSibling)&&i.isListNode(r)&&r.nodeName===o&&(a=r,l=s,u=m.getStyle(a,"list-style-type"),d=l?l["list-style-type"]:"",u===(d=null===d?"":d))?(t=r,e=m.rename(e,f),r.appendChild(e)):(t=m.create(o),e.parentNode.insertBefore(t,e),t.appendChild(e),e=m.rename(e,f)),c(m,t,s),h(n.dom,t)}),n.selection.setRng(r.resolveBookmark(l)))},f=function(e){var l=r.createBookmark(e.selection.getRng(!0)),c=a.getClosestListRootElm(e,e.selection.getStart(!0)),u=a.getSelectedListItems(e),d=t.grep(u,function(t){return e.dom.isEmpty(t)});u=t.grep(u,function(t){return!e.dom.isEmpty(t)}),t.each(d,function(t){i.isEmpty(e.dom,t)&&n.outdent(e,t)}),t.each(u,function(t){var n,r;if(t.parentNode!==e.getBody()){for(n=t;n&&n!==c;n=n.parentNode)i.isListNode(n)&&(r=n);s.splitList(e,r,t),o.normalizeLists(e.dom,r.parentNode)}}),e.selection.setRng(r.resolveBookmark(l))},p=function(e,t,n){return c=n,(l=t)&&c&&i.isListNode(l)&&l.nodeName===c.nodeName&&(a=t,s=n,(o=e).getStyle(a,"list-style-type",!0)===o.getStyle(s,"list-style-type",!0))&&(r=n,t.className===r.className);var r,o,a,s,l,c},h=function(e,t){var n,r;if(n=t.nextSibling,p(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,p(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},m=function(e,n,i,o,a){if(n.nodeName!==o||g(a)){var s=r.createBookmark(e.selection.getRng(!0));t.each([n].concat(i),function(t){!function(e,t,n,r){if(t.nodeName!==n){var i=e.rename(t,n);c(e,i,r)}else c(e,t,r)}(e.dom,t,o,a)}),e.selection.setRng(r.resolveBookmark(s))}else f(e)},g=function(e){return"list-style-type"in e};return{toggleList:function(e,t,n){var i=a.getParentList(e),o=a.getSelectedSubLists(e);n=n||{},i&&o.length>0?m(e,i,o,t,n):function(e,t,n,i){if(t!==e.getBody())if(t)if(t.nodeName!==n||g(i)){var o=r.createBookmark(e.selection.getRng(!0));c(e.dom,t,i),h(e.dom,e.dom.rename(t,n)),e.selection.setRng(r.resolveBookmark(o))}else f(e);else d(e,n,i)}(e,i,t,n)},removeList:f,mergeWithAdjacentLists:h}}),o("7",["g","h","b","a","k","e","l","p","f"],function(e,t,n,r,i,o,a,s,l){var c=function(n,r,i,a){var s,l,c=r.startContainer,u=r.startOffset;if(3===c.nodeType&&(i?u<c.data.length:u>0))return c;for(s=n.schema.getNonEmptyElements(),1===c.nodeType&&(c=e.getNode(c,u)),l=new t(c,a),i&&o.isBogusBr(n.dom,c)&&l.next();c=l[i?"next":"prev2"]();){if("LI"===c.nodeName&&!c.hasChildNodes())return c;if(s[c.nodeName])return c;if(3===c.nodeType&&c.data.length>0)return c}},u=function(e,t){var n=t.childNodes;return 1===n.length&&!o.isListNode(n[0])&&e.isBlock(n[0])},d=function(e,t,n){var r,i,a,s;if(i=u(e,n)?n.firstChild:n,u(a=e,s=t)&&a.remove(s.firstChild,!0),!o.isEmpty(e,t,!0))for(;r=t.firstChild;)i.appendChild(r)},f=function(e,t,n){var r,i,a=t.parentNode;o.isChildOfBody(e,t)&&o.isChildOfBody(e,n)&&(o.isListNode(n.lastChild)&&(i=n.lastChild),a===n.lastChild&&o.isBr(a.previousSibling)&&e.remove(a.previousSibling),(r=n.lastChild)&&o.isBr(r)&&t.hasChildNodes()&&e.remove(r),o.isEmpty(e,n,!0)&&e.$(n).empty(),d(e,t,n),i&&n.appendChild(i),e.remove(t),o.isEmpty(e,a)&&a!==e.getRoot()&&e.remove(a))},p=function(e,t,n,r){var o,a,s,l=e.dom;if(l.isEmpty(r))a=n,s=r,(o=e).dom.$(s).empty(),f(o.dom,a,s),o.selection.setCursorLocation(s);else{var c=i.createBookmark(t);f(l,n,r),e.selection.setRng(i.resolveBookmark(c))}},h=function(e,t){var n,a,u,d=e.dom,h=e.selection,m=h.getStart(),g=l.getClosestListRootElm(e,m),v=d.getParent(h.getStart(),"LI",g);if(v){if((n=v.parentNode)===e.getBody()&&o.isEmpty(d,n))return!0;if(a=s.normalizeRange(h.getRng(!0)),(u=d.getParent(c(e,a,t,g),"LI",g))&&u!==v)return t?p(e,a,u,v):function(e,t,n,r){var o=i.createBookmark(t);f(e.dom,n,r);var a=i.resolveBookmark(o);e.selection.setRng(a)}(e,a,v,u),!0;if(!u&&!t&&r.removeList(e,n.nodeName))return!0}return!1},m=function(e,t){return h(e,t)||function(e,t){var n=e.dom,i=e.selection.getStart(),o=l.getClosestListRootElm(e,i),a=n.getParent(i,n.isBlock,o);if(a&&n.isEmpty(a)){var u=s.normalizeRange(e.selection.getRng(!0)),d=n.getParent(c(e,u,t,o),"LI",o);if(d)return e.undoManager.transact(function(){var i,s,l,c;s=a,l=o,c=(i=n).getParent(s.parentNode,i.isBlock,l),i.remove(s),c&&i.isEmpty(c)&&i.remove(c),r.mergeWithAdjacentLists(n,d.parentNode),e.selection.select(d,!0),e.selection.collapse(t)}),!0}return!1}(e,t)},g=function(e,t){return e.selection.isCollapsed()?m(e,t):(r=(n=e).selection.getStart(),i=l.getClosestListRootElm(n,r),!!(n.dom.getParent(r,"LI,DT,DD",i)||l.getSelectedListItems(n).length>0)&&(n.undoManager.transact(function(){n.execCommand("Delete"),a.normalizeLists(n.dom,n.getBody())}),!0));var n,r,i};return{setup:function(e){e.on("keydown",function(t){t.keyCode===n.BACKSPACE?g(e,!1)&&t.preventDefault():t.keyCode===n.DELETE&&g(e,!0)&&t.preventDefault()})},backspaceDelete:g}}),o("2",["7"],function(e){return{get:function(t){return{backspaceDelete:function(n){e.backspaceDelete(t,n)}}}}}),o("8",["j","k","e","f"],function(e,t,n,r){var i=e.DOM,o=function(e,t){var r;if(n.isListNode(e)){for(;r=e.firstChild;)t.appendChild(r);i.remove(e)}};return{indentSelection:function(e){var a,s,l,c,u=r.getSelectedListItems(e);if(u.length){for(var d=t.createBookmark(e.selection.getRng(!0)),f=0;f<u.length&&(a=u[f],s=void 0,l=void 0,c=void 0,("DT"===a.nodeName?(i.rename(a,"DD"),1):(s=a.previousSibling)&&n.isListNode(s)?(s.appendChild(a),1):s&&"LI"===s.nodeName&&n.isListNode(s.lastChild)?(s.lastChild.appendChild(a),o(a.lastChild,s.lastChild),1):(s=a.nextSibling)&&n.isListNode(s)?(s.insertBefore(a,s.firstChild),1):(s=a.previousSibling)&&"LI"===s.nodeName&&(l=i.create(a.parentNode.nodeName),(c=i.getStyle(a.parentNode,"listStyleType"))&&i.setStyle(l,"listStyleType",c),s.appendChild(l),l.appendChild(a),o(a.lastChild,l),1))||0!==f);f++);return e.selection.setRng(t.resolveBookmark(d)),e.nodeChanged(),!0}}}}),o("3",["8","9","a"],function(e,t,n){var r=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}};return{register:function(i){i.on("BeforeExecCommand",function(n){var r,o=n.command.toLowerCase();if("indent"===o?e.indentSelection(i)&&(r=!0):"outdent"===o&&t.outdentSelection(i)&&(r=!0),r)return i.fire("ExecCommand",{command:n.command}),n.preventDefault(),!0}),i.addCommand("InsertUnorderedList",function(e,t){n.toggleList(i,"UL",t)}),i.addCommand("InsertOrderedList",function(e,t){n.toggleList(i,"OL",t)}),i.addCommand("InsertDefinitionList",function(e,t){n.toggleList(i,"DL",t)}),i.addQueryStateHandler("InsertUnorderedList",r(i,"UL")),i.addQueryStateHandler("InsertOrderedList",r(i,"OL")),i.addQueryStateHandler("InsertDefinitionList",r(i,"DL"))}}}),o("c",[],function(){return{shouldIndentOnTab:function(e){return e.getParam("lists_indent_on_tab",!0)}}}),o("4",["b","8","9","c","7"],function(e,t,n,r,i){return{setup:function(o){var a;r.shouldIndentOnTab(o)&&(a=o).on("keydown",function(r){r.keyCode!==e.TAB||e.metaKeyPressed(r)||a.dom.getParent(a.selection.getStart(),"LI,DT,DD")&&(r.preventDefault(),r.shiftKey?n.outdentSelection(a):t.indentSelection(a))}),i.setup(o)}}}),o("5",["d","e","f"],function(e,t,n){var r=function(n,r){return function(i){var o=i.control;n.on("NodeChange",function(n){var i=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(n.parents,t.isTableCellNode),a=-1!==i?n.parents.slice(0,i):n.parents,s=e.grep(a,t.isListNode);o.active(s.length>0&&s[0].nodeName===r)})}};return{register:function(i){var o,a,s,l;s="advlist",l=(a=i).settings.plugins?a.settings.plugins:"",-1!==e.inArray(l.split(/[ ,]/),s)||(i.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:r(i,"OL")}),i.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:r(i,"UL")})),i.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:(o=i,function(e){var r=e.control;o.on("nodechange",function(){var e=n.getSelectedListItems(o),i=e.length>0&&t.isFirstChild(e[0]);r.disabled(i)})})})}}}),o("0",["1","2","3","4","5"],function(e,t,n,r,i){return e.add("lists",function(e){return r.setup(e),i.register(e),n.register(e),t.get(e)}),function(){}}),i("0")()}(),function(){var e={},t=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},n=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&function(t){for(var r=e[t],i=r.deps,o=r.defn,a=i.length,s=new Array(a),l=0;l<a;++l)s[l]=n(i[l]);var c=o.apply(null,s);if(void 0===c)throw"module ["+t+"] returned undefined";r.instance=c}(t),r.instance},r=t,i=function(e,t){r(e,[],function(){return t})};i("6",tinymce.util.Tools.resolve),r("1",["6"],function(e){return e("tinymce.PluginManager")}),r("7",["6"],function(e){return e("tinymce.util.VK")}),r("8",[],function(){var e=function(e){return e.target_list},t=function(e){return e.rel_list},n=function(e){return e.link_class_list};return{assumeExternalTargets:function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},hasContextToolbar:function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},getLinkList:function(e){return e.link_list},hasDefaultLinkTarget:function(e){return"string"==typeof e.default_link_target},getDefaultLinkTarget:function(e){return e.default_link_target},getTargetList:e,setTargetList:function(e,t){e.settings.target_list=t},shouldShowTargetList:function(t){return!1!==e(t)},getRelList:t,hasRelList:function(e){return void 0!==t(e)},getLinkClassList:n,hasLinkClassList:function(e){return void 0!==n(e)},shouldShowLinkTitle:function(e){return!1!==e.link_title},allowUnsafeLinkTarget:function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target}}}),i("c",document),i("d",window),r("e",["6"],function(e){return e("tinymce.dom.DOMUtils")}),r("f",["6"],function(e){return e("tinymce.Env")}),r("9",["c","d","e","f"],function(e,t,n,r){return{open:function(i){if(!r.ie||r.ie>10){var o=e.createElement("a");o.target="_blank",o.href=i,o.rel="noreferrer noopener";var a=e.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,null),c=o,u=a,e.body.appendChild(c),c.dispatchEvent(u),e.body.removeChild(c)}else{var s=t.open("","_blank");if(s){s.opener=null;var l=s.document;l.open(),l.write('<meta http-equiv="refresh" content="0; url='+n.DOM.encode(i)+'">'),l.close()}}var c,u}}}),i("g",RegExp),r("h",["6"],function(e){return e("tinymce.util.Tools")}),r("a",["g","h","8"],function(e,t,n){var r=function(e,n){var r,i,o=["noopener"],a=e?e.split(/\s+/):[],s=function(e){return e.filter(function(e){return-1===t.inArray(o,e)})};return(a=n?(i=s(i=a)).length?i.concat(o):o:s(a)).length?(r=a,t.trim(r.sort().join(" "))):null},i=function(e,t){return t=t||e.selection.getNode(),a(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},o=function(e){return e&&"A"===e.nodeName&&e.href},a=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},s=function(e,t){var n,r;(r=e.dom.select("img",t)[0])&&((n=e.dom.getParents(r,"a[href]",t)[0])&&(n.parentNode.insertBefore(r,n),e.dom.remove(n)))},l=function(e,t,n){var r,i;(i=e.dom.select("img",t)[0])&&(r=e.dom.create("a",n),i.parentNode.insertBefore(r,i),r.appendChild(i))};return{link:function(e,t){return function(o){e.undoManager.transact(function(){var s=e.selection.getNode(),c=i(e,s),u={href:o.href,target:o.target?o.target:null,rel:o.rel?o.rel:null,class:o.class?o.class:null,title:o.title?o.title:null};n.hasRelList(e.settings)||!1!==n.allowUnsafeLinkTarget(e.settings)||(u.rel=r(u.rel,"_blank"===u.target)),o.href===t.href&&(t.attach(),t={}),c?(e.focus(),o.hasOwnProperty("text")&&("innerText"in c?c.innerText=o.text:c.textContent=o.text),e.dom.setAttribs(c,u),e.selection.select(c),e.undoManager.add()):a(s)?l(e,s,u):o.hasOwnProperty("text")?e.insertContent(e.dom.createHTML("a",u,e.dom.encode(o.text))):e.execCommand("mceInsertLink",!1,u)})}},unlink:function(e){return function(){e.undoManager.transact(function(){var t=e.selection.getNode();a(t)?s(e,t):e.execCommand("unlink")})}},isLink:o,hasLinks:function(e){return t.grep(e,o).length>0},isOnlyTextSelected:function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},getAnchorElement:i,getAnchorText:function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return n.replace(/\uFEFF/g,"")},toggleTargetRules:r}}),r("i",["6"],function(e){return e("tinymce.util.Delay")}),r("j",["6"],function(e){return e("tinymce.util.XHR")}),r("b",["i","h","j","8","a"],function(e,t,n,r,i){var o={},a=function(e,n,r){var i=function(e,r){return r=r||[],t.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=i(e.menu):(t.value=e.value,n&&n(t)),r.push(t)}),r};return i(e,r||[])},s=function(t,n,r){var i=t.selection.getRng();e.setEditorTimeout(t,function(){t.windowManager.confirm(n,function(e){t.selection.setRng(i),r(e)})})},l=function(e,n){var l,c,u,d,f,p,h,m,g,v,b,y={},w=e.selection,x=e.dom,C=function(e){var t=u.find("#text");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),u.find("#href").value(e.control.value())},$=function(){c||!d||y.text||this.parent().parent().find("#text")[0].value(this.value())};d=i.isOnlyTextSelected(w.getContent()),l=i.getAnchorElement(e),y.text=c=i.getAnchorText(e.selection,l),y.href=l?x.getAttrib(l,"href"):"",l?y.target=x.getAttrib(l,"target"):r.hasDefaultLinkTarget(e.settings)&&(y.target=r.getDefaultLinkTarget(e.settings)),(b=x.getAttrib(l,"rel"))&&(y.rel=b),(b=x.getAttrib(l,"class"))&&(y.class=b),(b=x.getAttrib(l,"title"))&&(y.title=b),d&&(f={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){y.text=this.value()}}),n&&(p={type:"listbox",label:"Link list",values:a(n,function(t){t.value=e.convertURL(t.value||t.url,"href")},[{text:"None",value:""}]),onselect:C,value:e.convertURL(y.href,"href"),onPostRender:function(){p=this}}),r.shouldShowTargetList(e.settings)&&(void 0===r.getTargetList(e.settings)&&r.setTargetList(e,[{text:"None",value:""},{text:"New window",value:"_blank"}]),m={name:"target",type:"listbox",label:"Target",values:a(r.getTargetList(e.settings))}),r.hasRelList(e.settings)&&(h={name:"rel",type:"listbox",label:"Rel",values:a(r.getRelList(e.settings),function(t){!1===r.allowUnsafeLinkTarget(e.settings)&&(t.value=i.toggleTargetRules(t.value,"_blank"===y.target))})}),r.hasLinkClassList(e.settings)&&(g={name:"class",type:"listbox",label:"Class",values:a(r.getLinkClassList(e.settings),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})})})}),r.shouldShowLinkTitle(e.settings)&&(v={name:"title",type:"textbox",label:"Title",value:y.title}),u=e.windowManager.open({title:"Insert link",data:y,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(n){var r=n.meta||{};p&&p.value(e.convertURL(this.value(),"href")),t.each(n.meta,function(e,t){var n=u.find("#"+t);"text"===t?0===c.length&&(n.value(e),y.text=e):n.value(e)}),r.attach&&(o={href:this.value(),attach:r.attach}),r.text||$.call(this)},onkeyup:$,onbeforecall:function(e){e.meta=u.toJSON()}},f,v,function(n){var r=[];if(t.each(e.dom.select("a:not([href])"),function(e){var t=e.name||e.id;t&&r.push({text:t,value:"#"+t,selected:-1!==n.indexOf("#"+t)})}),r.length)return r.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:r,onselect:C}}(y.href),p,h,m,g],onSubmit:function(n){var a=r.assumeExternalTargets(e.settings),l=i.link(e,o),u=i.unlink(e),f=t.extend({},y,n.data),p=f.href;return p?(d&&f.text!==c||delete f.text,p.indexOf("@")>0&&-1===p.indexOf("//")&&-1===p.indexOf("mailto:")?void s(e,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(f.href="mailto:"+p),l(f)}):!0===a&&!/^\w+:/i.test(p)||!1===a&&/^\s*www[\.|\d\.]/i.test(p)?void s(e,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(f.href="http://"+p),l(f)}):void l(f)):void u()}})};return{open:function(e){var t,i,o;t=e,i=l,"string"==typeof(o=r.getLinkList(t.settings))?n.send({url:o,success:function(e){i(t,JSON.parse(e))}}):"function"==typeof o?o(function(e){i(t,e)}):i(t,o)}}}),r("3",["7","8","9","a","b"],function(e,t,n,r,i){var o=function(e,t){return e.dom.getParent(t,"a[href]")},a=function(e){return o(e,e.selection.getStart())},s=function(e,t){if(t){var r=(o=t).getAttribute("data-mce-href")||o.getAttribute("href");if(/^#/.test(r)){var i=e.$(r);i.length&&e.selection.scrollIntoView(i[0],!0)}else n.open(t.href)}var o};return{openDialog:function(e){return function(){i.open(e)}},gotoSelectedLink:function(e){return function(){s(e,a(e))}},leftClickedOnAHref:function(e){return function(n){var i,o,a,s,l;return!!(t.hasContextToolbar(e.settings)&&(s=e,l=s.plugins.contextmenu,!l||!l.isContextMenuVisible())&&r.isLink(n)&&(i=e.selection,o=i.getRng(),a=o.startContainer,3===a.nodeType&&i.isCollapsed()&&o.startOffset>0&&o.startOffset<a.data.length))}},setupGotoLinks:function(t){t.on("click",function(n){var r=o(t,n.target);r&&e.metaKeyPressed(n)&&(n.preventDefault(),s(t,r))}),t.on("keydown",function(e){var n,r=a(t);r&&13===e.keyCode&&!0===(n=e).altKey&&!1===n.shiftKey&&!1===n.ctrlKey&&!1===n.metaKey&&(e.preventDefault(),s(t,r))})},toggleActiveState:function(e){return function(){var t=this;e.on("nodechange",function(n){t.active(!e.readonly&&!!r.getAnchorElement(e,n.element))})}},toggleViewLinkState:function(e){return function(){var t=this,n=function(e){r.hasLinks(e.parents)?t.show():t.hide()};r.hasLinks(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",n),t.on("remove",function(){e.off("nodechange",n)})}}}}),r("2",["3"],function(e){return{register:function(t){t.addCommand("mceLink",e.openDialog(t))}}}),r("4",["3"],function(e){return{setup:function(t){t.addShortcut("Meta+K","",e.openDialog(t))}}}),r("5",["3","a"],function(e,t){return{setupButtons:function(n){n.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:e.openDialog(n),onpostrender:e.toggleActiveState(n)}),n.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:t.unlink(n),onpostrender:e.toggleActiveState(n)}),n.addContextToolbar&&n.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:e.gotoSelectedLink(n)})},setupMenuItems:function(t){t.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:e.gotoSelectedLink(t),onPostRender:e.toggleViewLinkState(t),prependToContext:!0}),t.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:e.openDialog(t),stateSelector:"a[href]",context:"insert",prependToContext:!0})},setupContextToolbars:function(t){t.addContextToolbar&&t.addContextToolbar(e.leftClickedOnAHref(t),"openlink | link unlink")}}}),r("0",["1","2","3","4","5"],function(e,t,n,r,i){return e.add("link",function(e){i.setupButtons(e),i.setupMenuItems(e),i.setupContextToolbars(e),n.setupGotoLinks(e),t.register(e),r.setup(e)}),function(){}}),n("0")()}(),tinymce.addI18n("es_MX",{Redo:"Deshacer",Undo:"Rehacer",Cut:"Cortar",Copy:"Copiar",Paste:"Pegar","Select all":"Seleccionar todo","New document":"Nuevo documento",Ok:"Aceptar",Cancel:"Cancelar","Visual aids":"Ayuda visual",Bold:"Negrita",Italic:"Cursiva",Underline:"Subrayado",Strikethrough:"Tachado",Superscript:"ndice",Subscript:"Subndice","Clear formatting":"Limpiar formato","Align left":"Alinear a la izquierda","Align center":"Centrar","Align right":"Alinear a la derecha",Justify:"Justificar","Bullet list":"Lista de vieta","Numbered list":"Lista numerada","Decrease indent":"Decrementar identado","Increase indent":"Incrementar identado",Close:"Cerrar",Formats:"Formato","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"Su navegador no soporta acceso directo al portapapeles. Por favor haga uso de la combinacin de teclas Ctrl+X para cortar, Ctrl+C para copiar y Ctrl+V para pegar con el teclado. ",Headers:"Encabezado","Header 1":"Encabezado 1","Header 2":"Encabezado 2","Header 3":"Encabezado 3","Header 4":"Encabezado 4","Header 5":"Encabezado 5","Header 6":"Encabezado 6",Headings:"Encabezados","Heading 1":"Encabezados 1","Heading 2":"Encabezados 2","Heading 3":"Encabezados 3","Heading 4":"Encabezados 4","Heading 5":"Encabezados 5","Heading 6":"Encabezados 6",Div:"Div",Pre:"Pre",Code:"Cdigo",Paragraph:"Prrafo",Blockquote:"Blockquote",Inline:"En lnea",Blocks:"Bloque","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"Se pegar en texto plano. El contenido se pegar como texto plano hasta que desactive esta opcin.","Font Family":"Tipo de letra","Font Sizes":"Tamao de letra",Class:"Clase","Browse for an image":"Ver por imagen",OR:"OR","Drop an image here":"Arrastra una imagen aqu",Upload:"Subir",Default:"Por defecto",Circle:"Circulo",Disc:"Disco",Square:"Cuadro","Lower Alpha":"Alfa minscula","Lower Greek":"Griega minscula","Lower Roman":"Romano minscula","Upper Alpha":"Alfa mayscula","Upper Roman":"Mayscula Romana",Anchor:"Anclar",Name:"Nombre",Id:"Identificador","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"El Identificador debe comenzar con una letra, seguido solo por letras, nmeros, puntos, guiones medios o guiones bajos.  ","You have unsaved changes are you sure you want to navigate away?":"No se  han guardado los cambios. Seguro que desea abandonar la pgina?","Restore last draft":"Restaurar el ltimo borrador","Special character":"Caracter especial","Source code":"Cdigo fuente","Insert/Edit code sample":"Insertar/Editar cdigo muestra",Language:"idioma",Color:"Color",R:"R",G:"G",B:"B","Left to right":"Izquierda a derecha","Right to left":"Derecha a Izquierda",Emoticons:"Emoticones","Document properties":"Propiedades del documento",Title:"Ttulo",Keywords:"Palabras clave",Description:"Descripcin ",Robots:"Robots",Author:"Autor",Encoding:"Codificacin",Fullscreen:"Pantalla completa",Action:"Accin",Shortcut:"Atajo",Help:"Ayuda",Address:"Direccin","Focus to menubar":"Enfocar en barra de menu","Focus to toolbar":"Enfocar en barra de herramientas","Focus to element path":"Enfocar ruta del elemento","Focus to contextual toolbar":"Enfocar en barra de herramientas contextual","Insert link (if link plugin activated)":"Insertar enlace (si enlace del plugin est activo)","Save (if save plugin activated)":"Guardar (si el plugin guardar est activo)","Find (if searchreplace plugin activated)":"Buscar (si el plugin buscar/reemplazar est activo)","Plugins installed ({0}):":"Plugins instalados ({0}):","Premium plugins:":"Plugins premium:","Learn more...":"Aprende ms...","You are using {0}":"ests usando {0}","Horizontal line":"Lnea Horizontal","Insert/edit image":"Insertar/editar imagen","Image description":"Descripcin de imagen",Source:"Origen",Dimensions:"Dimensiones","Constrain proportions":"Restringir proporciones",General:"General",Advanced:"Avanzado",Style:"Estilo","Vertical space":"Espacio vertical","Horizontal space":"Espacio horizontal",Border:"Borde","Insert image":"Insertar imagen",Image:"Imagen","Image list":"Lista de imgenes","Rotate counterclockwise":"Rotar en sentido contrario a las manecillas","Rotate clockwise":"Rotar en sentido de las manecillas","Flip vertically":"Voltear verticalmente","Flip horizontally":"Volter horizontalmente","Edit image":"Editar imagen","Image options":"Opciones de la imagen","Zoom in":"Acercar","Zoom out":"Alejar",Crop:"Recortar",Resize:"Cambiar tamao",Orientation:"Orientacin",Brightness:"Brillo",Sharpen:"Nitidez",Contrast:"Contraste","Color levels":"Niveles de Color",Gamma:"Gamma",Invert:"Invertir",Apply:"Aplicar",Back:"Regresar","Insert date/time":"Insertar fecha/hora","Date/time":"Fecha/hora","Insert link":"Insertar enlace","Insert/edit link":"Inserta/editar enlace","Text to display":"Texto a mostrar",Url:"Url",Target:"Objetivo",None:"Ninguno","New window":"Nueva ventana","Remove link":"Eliminar elnace",Anchors:"Anclas",Link:"Enlace","Paste or type a link":"Pega o escribe un enlace","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":'El URL que ha insertado tiene formato de correo electrnico. Desea agregar con prefijo "mailto:"?',"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":'El URL que ha ingresado es un enlace externo. Desea agregar el prefijo "http://"?',"Link list":"Lista de enlaces","Insert video":"Insertar video","Insert/edit video":"Insertar/editar video","Insert/edit media":"Insertar/editar multimedia","Alternative source":"Fuente alternativa",Poster:"Cartel","Paste your embed code below:":"Pegue su cdigo de insercin abajo:",Embed:"Incrustar",Media:"Multimedia","Nonbreaking space":"Espacio de no separacin","Page break":"Salto de pgina ","Paste as text":"Copiar como texto",Preview:"Vista previa ",Print:"Imprimir",Save:"Guardar",Find:"Buscar","Replace with":"Remplazar con",Replace:"Remplazar","Replace all":"Remplazar todo",Prev:"Anterior",Next:"Siguiente","Find and replace":"Buscar y reemplazar","Could not find the specified string.":"No se ha encontrado la cadena especificada.","Match case":"Coincidencia","Whole words":"Palabras completas",Spellcheck:"Revisin ortogrfica",Ignore:"Ignorar","Ignore all":"Ignorar todo",Finish:"Terminar","Add to Dictionary":"Agregar al diccionario ","Insert table":"Insertar tabla","Table properties":"Propiedades de tabla","Delete table":"Eliminar tabla",Cell:"Celda",Row:"Rengln ",Column:"Columna","Cell properties":"Propiedades de celda","Merge cells":"Unir celdas","Split cell":"Dividir celdas","Insert row before":"Insertar rengln antes","Insert row after":"Insertar rengln despus","Delete row":"Eliminar rengln ","Row properties":"Propiedades del rengln ","Cut row":"Cortar renglon","Copy row":"Copiar rengln ","Paste row before":"Pegar rengln antes","Paste row after":"Pegar rengln despus","Insert column before":"Insertar columna antes","Insert column after":"Insertar columna despus","Delete column":"Eliminar columna",Cols:"Columnas",Rows:"Renglones ",Width:"Ancho",Height:"Alto","Cell spacing":"Espacio entre celdas","Cell padding":"Relleno de la celda",Caption:"Subttulo",Left:"Izquierda",Center:"Centro",Right:"Derecha","Cell type":"Tipo de celda",Scope:"Alcance",Alignment:"Alineacin ","H Align":"Alineacin Horizontal","V Align":"Alineacin Vertical",Top:"Arriba",Middle:"Centrado",Bottom:"Abajo","Header cell":"Celda de encabezado","Row group":"Grupo de renglones","Column group":"Grupo de columnas","Row type":"Tipo de rengln ",Header:"Encabezado",Body:"Cuerpo",Footer:"Pie","Border color":"Color del borde","Insert template":"Insertar plantilla",Templates:"Plantilla",Template:"Plantilla","Text color":"Color de letra","Background color":"Color de fondo","Custom...":"Personalizar","Custom color":"Perzonalizar color","No color":"Sin color","Table of Contents":"Tabla de Contenidos","Show blocks":"Mostrar bloques","Show invisible characters":"Mostrar caracteres invisibles","Words: {0}":"Palabras:{0}",File:"Archivo",Edit:"Editar",Insert:"Insertar",View:"Vistas",Format:"Formato",Table:"Tabla",Tools:"Herramientas","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"Presione dentro del rea de texto ALT-F9 para invocar el men, ALT-F10 para la barra de herramientas y ALT-0 para la ayuda."}),function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,r=arguments[0];for(n="["+(e?e+":":"")+r+"] http://errors.angularjs.org/1.6.1/"+(e?e+"/":"")+r,r=1;r<arguments.length;r++){var i;n=n+(1==r?"?":"&")+"p"+(r-1)+"=",n+=encodeURIComponent(i="function"==typeof(i=arguments[r])?i.toString().replace(/ \{[\s\S]*$/,""):void 0===i?"undefined":"string"!=typeof i?JSON.stringify(i):i)}return new t(n)}}function n(e){if(null==e||S(e))return!1;if(Zn(e)||y(e)||In&&e instanceof In)return!0;var t="length"in Object(e)&&e.length;return w(t)&&(0<=t&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,i){var o,a;if(e)if(C(e))for(o in e)"prototype"!==o&&"length"!==o&&"name"!==o&&e.hasOwnProperty(o)&&t.call(i,e[o],o,e);else if(Zn(e)||n(e)){var s="object"!=typeof e;for(o=0,a=e.length;o<a;o++)(s||o in e)&&t.call(i,e[o],o,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else if(b(e))for(o in e)t.call(i,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e);else for(o in e)Fn.call(e,o)&&t.call(i,e[o],o,e);return e}function i(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function o(e){return function(t,n){e(n,t)}}function a(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var s=t[i];if(v(s)||C(s))for(var l=Object.keys(s),c=0,u=l.length;c<u;c++){var d=l[c],f=s[d];n&&v(f)?x(f)?e[d]=new Date(f.valueOf()):$(f)?e[d]=new RegExp(f):f.nodeName?e[d]=f.cloneNode(!0):_(f)?e[d]=f.clone():(v(e[d])||(e[d]=Zn(f)?[]:{}),a(e[d],[f],!0)):e[d]=f}}return r?e.$$hashKey=r:delete e.$$hashKey,e}function s(e){return a(e,Un.call(arguments,1),!1)}function l(e){return a(e,Un.call(arguments,1),!0)}function c(e){return parseInt(e,10)}function u(e,t){return s(Object.create(e),t)}function d(){}function f(e){return e}function p(e){return function(){return e}}function h(e){return C(e.toString)&&e.toString!==Vn}function m(e){return void 0===e}function g(e){return void 0!==e}function v(e){return null!==e&&"object"==typeof e}function b(e){return null!==e&&"object"==typeof e&&!Wn(e)}function y(e){return"string"==typeof e}function w(e){return"number"==typeof e}function x(e){return"[object Date]"===Vn.call(e)}function C(e){return"function"==typeof e}function $(e){return"[object RegExp]"===Vn.call(e)}function S(e){return e&&e.window===e}function k(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"boolean"==typeof e}function _(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function E(e){return jn(e.nodeName||e[0]&&e[0].nodeName)}function D(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function A(e,t){function n(e,t){var n,r=t.$$hashKey;if(Zn(e)){n=0;for(var o=e.length;n<o;n++)t.push(i(e[n]))}else if(b(e))for(n in e)t[n]=i(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));else for(n in e)Fn.call(e,n)&&(t[n]=i(e[n]));return r?t.$$hashKey=r:delete t.$$hashKey,t}function i(e){if(!v(e))return e;if(-1!==(t=a.indexOf(e)))return s[t];if(S(e)||k(e))throw Yn("cpws");var t=!1,r=function(e){switch(Vn.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(i(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return(t=new RegExp(e.source,e.toString().match(/[^/]*$/)[0])).lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(C(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===r&&(r=Zn(e)?[]:Object.create(Wn(e)),t=!0),a.push(e),s.push(r),t?n(e,r):r}var o,a=[],s=[];if(t){if((o=t)&&w(o.length)&&Jn.test(Vn.call(o))||"[object ArrayBuffer]"===Vn.call(t))throw Yn("cpta");if(e===t)throw Yn("cpi");return Zn(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),s.push(t),n(e,t)}return i(e)}function N(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r=typeof e;if(r===typeof t&&"object"===r){if(!Zn(e)){if(x(e))return!!x(t)&&N(e.getTime(),t.getTime());if($(e))return!!$(t)&&e.toString()===t.toString();if(k(e)||k(t)||S(e)||S(t)||Zn(t)||x(t)||$(t))return!1;for(n in r=te(),e)if("$"!==n.charAt(0)&&!C(e[n])){if(!N(e[n],t[n]))return!1;r[n]=!0}for(n in t)if(!(n in r)&&"$"!==n.charAt(0)&&g(t[n])&&!C(t[n]))return!1;return!0}if(!Zn(t))return!1;if((r=e.length)===t.length){for(n=0;n<r;n++)if(!N(e[n],t[n]))return!1;return!0}}return!1}function R(e,t,n){return e.concat(Un.call(t,n))}function O(e,t){var n=2<arguments.length?Un.call(arguments,2):[];return!C(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,R(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function P(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:S(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":k(n)&&(r="$SCOPE"),r}function I(e,t){if(!m(e))return w(t)||(t=t?2:null),JSON.stringify(e,P,t)}function M(e){return y(e)?JSON.parse(e):e}function L(e,t){e=e.replace(rr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return Kn(n)?t:n}function B(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return n*=(t=L(t,r))-r,(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}function F(e){e=In(e).clone();try{e.empty()}catch(e){}var t=In("<div>").append(e).html();try{return e[0].nodeType===lr?jn(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+jn(t)})}catch(e){return jn(t)}}function j(e){try{return decodeURIComponent(e)}catch(e){}}function z(e){var t={};return r((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(r=e.substring(0,n),i=e.substring(n+1)),g(r=j(r))&&(i=!g(i)||j(i),Fn.call(t,r)?Zn(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function U(e){var t=[];return r(e,function(e,n){Zn(e)?r(e,function(e){t.push(q(n,!0)+(!0===e?"":"="+q(e,!0)))}):t.push(q(n,!0)+(!0===e?"":"="+q(e,!0)))}),t.length?t.join("&"):""}function H(e){return q(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function q(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function V(t,n){var i,o,a={};r(ir,function(e){e+="app",!i&&t.hasAttribute&&t.hasAttribute(e)&&(i=t,o=t.getAttribute(e))}),r(ir,function(e){var n;e+="app",!i&&(n=t.querySelector("["+e.replace(":","\\:")+"]"))&&(i=n,o=n.getAttribute(e))}),i&&(or?(a.strictDi=null!==function(e,t){var n,r,i=ir.length;for(r=0;r<i;++r)if(n=ir[r]+t,y(n=e.getAttribute(n)))return n;return null}(i,"strict-di"),n(i,o?[o]:[],a)):e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function W(t,n,i){v(i)||(i={}),i=s({strictDi:!1},i);var o=function(){if((t=In(t)).injector()){var r=t[0]===e.document?"document":F(t);throw Yn("btstrpd",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng"),(r=Re(n,i.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),r},a=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;if(e&&a.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!l.test(e.name))return o();e.name=e.name.replace(l,""),Gn.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),o()},C(Gn.resumeDeferredBootstrap)&&Gn.resumeDeferredBootstrap()}function Y(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function G(e){if(!(e=Gn.element(e).injector()))throw Yn("test");return e.get("$$testability")}function X(e,t){return t=t||"_",e.replace(ar,function(e,n){return(n?t:"")+e.toLowerCase()})}function K(e,t,n){if(!e)throw Yn("areq",t||"?",n||"required");return e}function Z(e,t,n){return n&&Zn(e)&&(e=e[e.length-1]),K(C(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function J(e,t){if("hasOwnProperty"===e)throw Yn("badname",t)}function Q(e,t,n){if(!t)return e;for(var r,i=e,o=(t=t.split(".")).length,a=0;a<o;a++)r=t[a],e&&(e=(i=e)[r]);return!n&&C(e)?O(i,e):e}function ee(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=In(Un.call(e,0,i))),t.push(n));return t||e}function te(){return Object.create(null)}function ne(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!h(e)||Zn(e)||x(e)?I(e):e.toString()}return e}function re(e,t){if(Zn(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(v(e))for(n in t=t||{},e)"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t||e}function ie(e){var t=[];return JSON.stringify(e,function(e,n){if(v(n=P(e,n))){if(0<=t.indexOf(n))return"...";t.push(n)}return n})}function oe(e,t){return t.toUpperCase()}function ae(e){return e.replace(fr,oe)}function se(e){return 1===(e=e.nodeType)||!e||9===e}function le(e,t){var n,i,o=t.createDocumentFragment(),a=[];if(vr.test(e)){for(n=o.appendChild(t.createElement("div")),i=(br.exec(e)||["",""])[1].toLowerCase(),i=wr[i]||wr._default,n.innerHTML=i[1]+e.replace(yr,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;a=R(a,n.childNodes),(n=o.firstChild).textContent=""}else a.push(t.createTextNode(e));return o.textContent="",o.innerHTML="",r(a,function(e){o.appendChild(e)}),o}function ce(t){if(t instanceof ce)return t;var n,r;if(y(t)&&(t=Qn(t),n=!0),!(this instanceof ce)){if(n&&"<"!==t.charAt(0))throw mr("nosel");return new ce(t)}n?(n=e.document,ye(this,t=(r=gr.exec(t))?[n.createElement(r[1])]:(r=le(t,n))?r.childNodes:[])):C(t)?Se(t):ye(this,t)}function ue(e){return e.cloneNode(!0)}function de(e,t){if(t||pe(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)pe(n[r])}function fe(e,t,n,i){if(g(i))throw mr("offargs");var o=(i=he(e))&&i.events,a=i&&i.handle;if(a)if(t){var s=function(t){var r=o[t];g(n)&&D(r||[],n),g(n)&&r&&0<r.length||(e.removeEventListener(t,a),delete o[t])};r(t.split(" "),function(e){s(e),hr[e]&&s(hr[e])})}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,a),delete o[t]}function pe(e,t){var n=e.ng339,r=n&&ur[n];r&&(t?delete r.data[t]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),fe(e)),delete ur[n],e.ng339=void 0))}function he(e,t){var n=(n=e.ng339)&&ur[n];return t&&!n&&(e.ng339=n=++dr,n=ur[n]={events:{},data:{},handle:void 0}),n}function me(e,t,n){if(se(e)){var r,i=g(n),o=!i&&t&&!v(t),a=!t;if(e=(e=he(e,!o))&&e.data,i)e[ae(t)]=n;else{if(a)return e;if(o)return e&&e[ae(t)];for(r in t)e[ae(r)]=t[r]}}}function ge(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function ve(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Qn((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Qn(t)+" "," ")))})}function be(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Qn(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Qn(n))}}function ye(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function we(e,t){return xe(e,"$"+(t||"ngController")+"Controller")}function xe(e,t,n){for(9===e.nodeType&&(e=e.documentElement),t=Zn(t)?t:[t];e;){for(var r=0,i=t.length;r<i;r++)if(g(n=In.data(e,t[r])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Ce(e){for(de(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function $e(e,t){t||de(e);var n=e.parentNode;n&&n.removeChild(e)}function Se(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function ke(e,t){var n=$r[t.toLowerCase()];return n&&Sr[E(e)]&&n}function Te(e,t,n){n.call(e,t)}function _e(e,t,n){var r=t.relatedTarget;r&&(r===e||xr.call(e,r))||n.call(e,t)}function Ee(){this.$get=function(){return s(ce,{hasClass:function(e,t){return e.attr&&(e=e[0]),ge(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),be(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),ve(e,t)}})}}function De(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):"function"===(n=typeof e)||"object"===n&&null!==e?e.$$hashKey=n+":"+(t||function(){return++Xn})():n+":"+e}function Ae(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Ne(e){return(e=(Function.prototype.toString.call(e)+" ").replace(Nr,"")).match(_r)||e.match(Er)}function Re(e,t){function n(e){return function(t,n){if(!v(t))return e(t,n);r(t,o(e))}}function i(e,t){if(J(e,"service"),(C(t)||Zn(t))&&(t=f.instantiate(t)),!t.$get)throw Rr("pget",e);return d[e+"Provider"]=t}function a(e,t,n){return i(e,{$get:!1!==n?(r=e,o=t,function(){var e=b.invoke(o,this);if(m(e))throw Rr("undef",r);return e}):t});var r,o}function s(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===l)throw Rr("cdep",t+" <- "+c.join(" <- "));return e[t]}try{return c.unshift(t),e[t]=l,e[t]=n(t,r),e[t]}catch(n){throw e[t]===l&&delete e[t],n}finally{c.shift()}}function i(e,n,i){for(var o=[],a=0,s=(e=Re.$$annotate(e,t,i)).length;a<s;a++){var l=e[a];if("string"!=typeof l)throw Rr("itkn",l);o.push(n&&n.hasOwnProperty(l)?n[l]:r(l,i))}return o}return{invoke:function(e,t,n,r){if("string"==typeof n&&(r=n,n=null),n=i(e,n,r),Zn(e)&&(e=e[e.length-1]),r=e,Pn||"function"!=typeof r)r=!1;else{var o=r.$$ngIsClass;T(o)||(o=r.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(r)+" ")),r=o}return r?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var r=Zn(e)?e[e.length-1]:e;return(e=i(e,t,n)).unshift(null),new(Function.prototype.bind.apply(r,e))},get:r,annotate:Re.$$annotate,has:function(t){return d.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var l={},c=[],u=new Ae([],!0),d={$provide:{provider:n(i),factory:n(a),service:n(function(e,t){return a(e,["$injector",function(e){return e.instantiate(t)}])}),value:n(function(e,t){return a(e,p(t),!1)}),constant:n(function(e,t){J(e,"constant"),d[e]=t,h[e]=t}),decorator:function(e,t){var n=f.get(e+"Provider"),r=n.$get;n.$get=function(){var e=b.invoke(r,n);return b.invoke(t,null,{$delegate:e})}}}},f=d.$injector=s(d,function(e,t){throw Gn.isString(t)&&c.push(t),Rr("unpr",c.join(" <- "))}),h={},g=s(h,function(e,t){var n=f.get(e+"Provider",t);return b.invoke(n.$get,n,void 0,e)}),b=g;d.$injectorProvider={$get:p(g)};var w=function e(t){K(m(t)||Zn(t),"modulesToLoad","not an array");var n,i=[];return r(t,function(t){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=f.get(r[0]);i[r[1]].apply(i,r[2])}}if(!u.get(t)){u.put(t,!0);try{y(t)?(n=Ln(t),i=i.concat(e(n.requires)).concat(n._runBlocks),r(n._invokeQueue),r(n._configBlocks)):C(t)?i.push(f.invoke(t)):Zn(t)?i.push(f.invoke(t)):Z(t,"module")}catch(e){throw Zn(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Rr("modulerr",t,e.stack||e.message||e)}}}),i}(e);return(b=g.get("$injector")).strictDi=t,r(w,function(e){e&&b.invoke(e)}),b}function Oe(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,r,i){function o(e){var t;e?(e.scrollIntoView(),C(t=a.yOffset)?t=t():_(t)?(t=t[0],t="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom):w(t)||(t=0),t&&(e=e.getBoundingClientRect().top,n.scrollBy(0,e-t))):n.scrollTo(0,0)}function a(e){var t,n,i;(e=y(e)?e:w(e)?e.toString():r.hash())?(t=s.getElementById(e))?o(t):(n=s.getElementsByName(e),i=null,Array.prototype.some.call(n,function(e){if("a"===E(e))return i=e,!0}),(t=i)?o(t):"top"===e&&o(null)):o(null)}var s=n.document;return t&&i.$watch(function(){return r.hash()},function(t,n){var r,o;t===n&&""===t||(r=function(){i.$evalAsync(a)},"complete"===(o=o||e).document.readyState?o.setTimeout(r):In(o).on("load",r))}),a}]}function Pe(e,t){return e||t?e?t?(Zn(e)&&(e=e.join(" ")),Zn(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Ie(e){return v(e)?e:{}}function Me(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new function(e,t,n,i){function o(e){try{e.apply(null,Un.call(arguments,1))}finally{if(0==--v)for(;b.length;)try{b.pop()()}catch(e){n.error(e)}}}function a(){$=null,s(),l()}function s(){N(y=m(y=S())?null:y,_)&&(y=_),_=y}function l(){x===c.url()&&w===y||(x=c.url(),w=y,r(k,function(e){e(c.url(),y)}))}var c=this,u=e.location,f=e.history,p=e.setTimeout,h=e.clearTimeout,g={};c.isMock=!1;var v=0,b=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){v++},c.notifyWhenNoOutstandingRequests=function(e){0===v?e():b.push(e)};var y,w,x=u.href,C=t.find("base"),$=null,S=i.history?function(){try{return f.state}catch(e){}}:d;s(),w=y,c.url=function(t,n,r){if(m(r)&&(r=null),u!==e.location&&(u=e.location),f!==e.history&&(f=e.history),t){var o=w===r;if(x===t&&(!i.history||o))return c;var a=x&&dt(x)===dt(t);return x=t,w=r,!i.history||a&&o?(a||($=t),n?u.replace(t):a?(n=u,r=-1===(r=t.indexOf("#"))?"":t.substr(r),n.hash=r):u.href=t,u.href!==t&&($=t)):(f[n?"replaceState":"pushState"](r,"",t),s(),w=y),$&&($=t),c}return $||u.href.replace(/%27/g,"'")},c.state=function(){return y};var k=[],T=!1,_=null;c.onUrlChange=function(t){return T||(i.history&&In(e).on("popstate",a),In(e).on("hashchange",a),T=!0),k.push(t),t},c.$$applicationDestroyed=function(){In(e).off("hashchange popstate",a)},c.$$checkUrlChange=l,c.baseHref=function(){var e=C.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},c.defer=function(e,t){var n;return v++,n=p(function(){delete g[n],o(e)},t||0),g[n]=!0,n},c.defer.cancel=function(e){return!!g[e]&&(delete g[e],h(e),o(d),!0)}}(e,i,t,n)}]}function Le(){this.$get=function(){function e(e,r){function i(e){e!==f&&(p?p===e&&(p=e.n):p=e,o(e.n,e.p),o(e,f),(f=e).n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid",e);var a=0,l=s({},r,{id:e}),c=te(),u=r&&r.capacity||Number.MAX_VALUE,d=te(),f=null,p=null;return n[e]={put:function(e,t){if(!m(t)){if(u<Number.MAX_VALUE)i(d[e]||(d[e]={key:e}));return e in c||a++,c[e]=t,a>u&&this.remove(p.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;i(t)}return c[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;t===f&&(f=t.p),t===p&&(p=t.n),o(t.n,t.p),delete d[e]}e in c&&(delete c[e],a--)},removeAll:function(){c=te(),a=0,d=te(),f=p=null},destroy:function(){d=l=c=null,delete n[e]},info:function(){return s({},l,{size:a})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function Be(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Fe(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=te();return r(e,function(e,r){if(e in x)o[r]=x[e];else{var a=e.match(i);if(!a)throw jr("iscp",t,r,e,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(x[e]=o[r])}}),o}var a={},l=/^\s*directive:\s*([\w-]+)\s+(.*)$/,c=/(([\w-]+)(?::([^;]+))?;?)/,h=function(e){var t,n={};for(e=e.split(","),t=0;t<e.length;t++)n[e[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),b=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/,x=te();this.directive=function e(n,i){return K(n,"name"),J(n,"directive"),y(n)?(function(e){var t=e.charAt(0);if(!t||t!==jn(t))throw jr("baddir",e);if(e!==e.trim())throw jr("baddir",e)}(n),K(i,"directiveFactory"),a.hasOwnProperty(n)||(a[n]=[],t.factory(n+"Directive",["$injector","$exceptionHandler",function(e,t){var i=[];return r(a[n],function(o,a){try{var s=e.invoke(o);C(s)?s={compile:p(s)}:!s.compile&&s.link&&(s.compile=p(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||n,s.require=(d=(u=s).require||u.controller&&u.name,!Zn(d)&&v(d)&&r(d,function(e,t){var n=e.match(b);e.substring(n[0].length)||(d[t]=n[0]+t)}),d);var l=s,c=s.restrict;if(c&&(!y(c)||!/[EACM]/.test(c)))throw jr("badrestrict",c,n);l.restrict=c||"EA",s.$$moduleName=o.$$moduleName,i.push(s)}catch(e){t(e)}var u,d}),i}])),a[n].push(i)):r(n,o(e)),this},this.component=function(e,t){function n(e){function n(t){return C(t)||Zn(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:i,controllerAs:function(e,t){if(t&&y(t))return t;if(y(e)){var n=Vr.exec(e);if(n)return n[3]}}(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var i=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,C(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return g(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return g(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var $=!0;this.debugInfoEnabled=function(e){return g(e)?($=e,this):$};var S=!1;this.preAssignBindingsEnabled=function(e){return g(e)?(S=e,this):S};var _=10;this.onChangesTtl=function(e){return arguments.length?(_=e,this):_};var A=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(A=e,this):A};var R=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(R=e,this):R},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,o,p,x,P,I,M,L,B){function j(){try{if(!--xe)throw ge=void 0,jr("infchng",_);I.$apply(function(){for(var e=[],t=0,n=ge.length;t<n;++t)try{ge[t]()}catch(t){e.push(t)}if(ge=void 0,e.length)throw e})}finally{xe++}}function z(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=t[i]}else this.$attr={};this.$$element=e}function U(e,t){try{e.addClass(t)}catch(e){}}function H(e,t,n,r,i){e instanceof In||(e=In(e));var o=q(e,t,e,n,r,i);H.$$addScopeClass(e);var a=null;return function(t,n,r){if(!e)throw jr("multilink");K(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new());var s=(r=r||{}).parentBoundTranscludeFn,l=r.transcludeControllers;if(r=r.futureParentElement,s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=(r=r&&r[0])&&"foreignobject"!==E(r)&&Vn.call(r).match(/SVG/)?"svg":"html"),r="html"!==a?In(ce(a,In("<div>").append(e).html())):n?Cr.clone.call(e):e,l)for(var c in l)r.data("$"+c+"Controller",l[c].instance);return H.$$addScopeInfo(r,t),n&&n(r,t),o&&o(t,r,r,s),n||(e=o=null),r}}function q(e,t,n,r,i,o){for(var a,s,l,c,u,d=[],f=Zn(e)||e instanceof In,p=0;p<e.length;p++)a=new z,11===Pn&&V(e,p,f),(o=(s=Y(e[p],[],a,0===p?r:void 0,i)).length?Q(s,e[p],a,t,n,null,[],[],o):null)&&o.scope&&H.$$addScopeClass(a.$$element),a=o&&o.terminal||!(l=e[p].childNodes)||!l.length?null:q(l,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:t),(o||a)&&(d.push(p,o,a),c=!0,u=u||o),o=null;return c?function(e,n,r,i){var o,a,s,l,c,f;if(u)for(f=Array(n.length),l=0;l<d.length;l+=3)f[o=d[l]]=n[o];else f=n;for(l=0,c=d.length;l<c;)a=f[d[l++]],n=d[l++],o=d[l++],n?(n.scope?(s=e.$new(),H.$$addScopeInfo(In(a),s)):s=e,n(o,s,a,r,n.transcludeOnThisElement?W(e,n.transclude,i):!n.templateOnThisElement&&i?i:!i&&t?W(e,t):null)):o&&o(e,a.childNodes,void 0,i)}:null}function V(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===lr)for(;(r=o?i.nextSibling:e[t+1])&&r.nodeType===lr;)i.nodeValue+=r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}function W(e,t,n){function r(r,i,o,a,s){return r||((r=e.$new(!1,s)).$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i,o=r.$$slots=te();for(i in t.$$slots)o[i]=t.$$slots[i]?W(e,t.$$slots[i],n):null;return r}function Y(e,t,r,i,o){var a,s,u,d,f=r.$attr;switch(e.nodeType){case 1:re(t,ze(a=E(e)),"E",i,o);for(var p,h,m,g,b=e.attributes,w=0,x=b&&b.length;w<x;w++){var C=!1,$=!1;h=(p=b[w]).name,m=p.value,p=ze(h),(g=Te.test(p))&&(h=h.replace(Ur,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),(p=p.match(_e))&&ie(p[1])&&(C=h,$=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),f[p=ze(h.toLowerCase())]=h,!g&&r.hasOwnProperty(p)||(r[p]=m,ke(e,p)&&(r[p]=!0)),de(e,t,m,p,g),re(t,p,"A",i,o,C,$)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!we)break;if(v(f=e.className)&&(f=f.animVal),y(f)&&""!==f)for(;e=c.exec(f);)re(t,p=ze(e[2]),"C",i,o)&&(r[p]=Qn(e[3])),f=f.substr(e.index+e[0].length);break;case lr:s=t,u=e.nodeValue,(d=n(u,!0))&&s.push({priority:0,compile:function(e){var t=!!(e=e.parent()).length;return t&&H.$$addBindingClass(e),function(e,n){var r=n.parent();t||H.$$addBindingClass(r),H.$$addBindingInfo(r,d.expressions),e.$watch(d,function(e){n[0].nodeValue=e})}}});break;case 8:if(!ye)break;!function(e,t,n,r,i){try{var o=l.exec(e.nodeValue);if(o){var a=ze(o[1]);re(t,a,"M",r,i)&&(n[a]=Qn(o[2]))}}catch(e){}}(e,t,r,i,o)}return t.sort(se),t}function G(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw jr("uterdir",t,n);1===e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(0<i);else r.push(e);return In(r)}function Z(e,t,n){return function(r,i,o,a,s){return i=G(i[0],t,n),e(r,i,o,a,s)}}function J(e,t,n,r,i,o){var a;return e?H(t,n,r,i,o):function(){return a||(a=H(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function Q(e,t,n,i,a,l,c,u,d){function f(e,t,n,r){e&&(n&&(e=Z(e,n,r)),e.require=h.require,e.directiveName=g,(_===h||h.$$isolateScope)&&(e=pe(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=Z(t,n,r)),t.require=h.require,t.directiveName=g,(_===h||h.$$isolateScope)&&(t=pe(t,{isolateScope:!0})),u.push(t))}function p(e,i,a,l,d){var f,p,h,g,b,y,w,x;for(f in t===a?(l=n,x=n.$$element):l=new z(x=In(a),n),b=i,_?g=i.$new(!0):$&&(b=i.$parent),d&&((w=function(e,t,n,r){var i;if(k(e)||(r=n,n=t,t=e,e=void 0),I&&(i=y),n||(n=I?x.parent():x),!r)return d(e,t,i,n,N);var o=d.$$slots[r];if(o)return o(e,t,i,n,N);if(m(o))throw jr("noslot",r,F(x))}).$$boundTransclude=d,w.isSlotFilled=function(e){return!!d.$$slots[e]}),T&&(y=function(e,t,n,r,i,o,a){var s,l=te();for(s in r){var c=r[s],u={$scope:c===a||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"===d&&(d=t[c.name]),u=P(d,u,!0,c.controllerAs),l[c.name]=u,e.data("$"+c.name+"Controller",u.instance)}return l}(x,l,w,T,g,i,_)),_&&(H.$$addScopeInfo(x,g,!0,!(D&&(D===_||D===_.$$originalDirective))),H.$$addScopeClass(x,!0),g.$$isolateBindings=_.$$isolateBindings,(p=me(i,l,g,g.$$isolateBindings,_)).removeWatches&&g.$on("$destroy",p.removeWatches)),y){p=T[f],h=y[f];var E=p.$$bindings.bindToController;if(S){h.bindingInfo=E?me(b,l,h.instance,E,p):{};var A=h();A!==h.instance&&(h.instance=A,x.data("$"+p.name+"Controller",A),h.bindingInfo.removeWatches&&h.bindingInfo.removeWatches(),h.bindingInfo=me(b,l,h.instance,E,p))}else h.instance=h(),x.data("$"+p.name+"Controller",h.instance),h.bindingInfo=me(b,l,h.instance,E,p)}for(r(T,function(e,t){var n=e.require;e.bindToController&&!Zn(n)&&v(n)&&s(y[t].instance,ee(t,n,x,y))}),r(y,function(e){var t=e.instance;if(C(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){o(e)}if(C(t.$onInit))try{t.$onInit()}catch(e){o(e)}C(t.$doCheck)&&(b.$watch(function(){t.$doCheck()}),t.$doCheck()),C(t.$onDestroy)&&b.$on("$destroy",function(){t.$onDestroy()})}),f=0,p=c.length;f<p;f++)he(h=c[f],h.isolateScope?g:i,x,l,h.require&&ee(h.directiveName,h.require,x,y),w);var N=i;for(_&&(_.template||null===_.templateUrl)&&(N=g),e&&e(N,a.childNodes,void 0,d),f=u.length-1;0<=f;f--)he(h=u[f],h.isolateScope?g:i,x,l,h.require&&ee(h.directiveName,h.require,x,y),w);r(y,function(e){C((e=e.instance).$postLink)&&e.$postLink()})}d=d||{};for(var h,g,b,y,w,x=-Number.MAX_VALUE,$=d.newScopeDirective,T=d.controllerDirectives,_=d.newIsolateScopeDirective,D=d.templateDirective,A=d.nonTlbTranscludeDirective,N=!1,R=!1,I=d.hasElementTranscludeDirective,M=n.$$element=In(t),L=i,B=!1,j=!1,U=0,q=e.length;U<q;U++){var V=(h=e[U]).$$start,W=h.$$end;if(V&&(M=G(t,V,W)),b=void 0,x>h.priority)break;if((w=h.scope)&&(h.templateUrl||(v(w)?(le("new/isolated scope",_||$,h,M),_=h):le("new/isolated scope",_,h,M)),$=$||h),g=h.name,!B&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(w=U+1;B=e[w++];)if(B.transclude&&!B.$$tlb||B.replace&&(B.templateUrl||B.template)){j=!0;break}B=!0}if(!h.templateUrl&&h.controller&&(T=T||te(),le("'"+g+"' controller",T[g],h,M),T[g]=h),w=h.transclude)if(N=!0,h.$$tlb||(le("transclusion",A,h,M),A=h),"element"===w)I=!0,x=h.priority,b=M,M=n.$$element=In(H.$$createComment(g,n[g])),t=M[0],fe(a,Un.call(b,0),t),b[0].$$parentNode=b[0].parentNode,L=J(j,b,i,x,l&&l.name,{nonTlbTranscludeDirective:A});else{var X=te();if(v(w)){b=[];var K=te(),Q=te();for(var re in r(w,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,K[e]=t,X[t]=null,Q[t]=n}),r(M.contents(),function(e){var t=K[ze(E(e))];t?(Q[t]=!0,X[t]=X[t]||[],X[t].push(e)):b.push(e)}),r(Q,function(e,t){if(!e)throw jr("reqslot",t)}),X)X[re]&&(X[re]=J(j,X[re],i))}else b=In(ue(t)).contents();M.empty(),(L=J(j,b,i,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope})).$$slots=X}if(h.template)if(R=!0,le("template",D,h,M),D=h,w=C(h.template)?h.template(M,n):h.template,w=Se(w),h.replace){if(l=h,b=vr.test(w)?He(ce(h.templateNamespace,Qn(w))):[],t=b[0],1!==b.length||1!==t.nodeType)throw jr("tplrt",g,"");fe(a,M,t),w=Y(t,[],q={$attr:{}});var ie=e.splice(U+1,e.length-(U+1));(_||$)&&ne(w,_,$),e=e.concat(w).concat(ie),oe(n,q),q=e.length}else M.html(w);if(h.templateUrl)R=!0,le("template",D,h,M),D=h,h.replace&&(l=h),p=ae(e.splice(U,e.length-U),M,n,a,N&&L,c,u,{controllerDirectives:T,newScopeDirective:$!==h&&$,newIsolateScopeDirective:_,templateDirective:D,nonTlbTranscludeDirective:A}),q=e.length;else if(h.compile)try{y=h.compile(M,n,L);var se=h.$$originalDirective||h;C(y)?f(null,O(se,y),V,W):y&&f(O(se,y.pre),O(se,y.post),V,W)}catch(e){o(e,F(M))}h.terminal&&(p.terminal=!0,x=Math.max(x,h.priority))}return p.scope=$&&!0===$.scope,p.transcludeOnThisElement=N,p.templateOnThisElement=R,p.transclude=L,d.hasElementTranscludeDirective=I,p}function ee(e,t,n,i){var o;if(y(t)){var a=t.match(b);t=t.substring(a[0].length);var s=a[1]||a[3];a="?"===a[2];if("^^"===s?n=n.parent():o=(o=i&&i[t])&&o.instance,!o){var l="$"+t+"Controller";o=s?n.inheritedData(l):n.data(l)}if(!o&&!a)throw jr("ctreq",t,e)}else if(Zn(t))for(o=[],s=0,a=t.length;s<a;s++)o[s]=ee(e,t[s],n,i);else v(t)&&(o={},r(t,function(t,r){o[r]=ee(e,t,n,i)}));return o||null}function ne(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=u(e[r],{$$isolateScope:t,$$newScope:n})}function re(e,n,r,o,s,l,c){if(n===s)return null;var d=null;if(a.hasOwnProperty(n))for(var f=0,p=(s=t.get(n+"Directive")).length;f<p;f++)if(n=s[f],(m(o)||o>n.priority)&&-1!==n.restrict.indexOf(r)){if(l&&(n=u(n,{$$start:l,$$end:c})),!n.$$bindings){var h=d=n,g=n.name,b={isolateScope:null,bindToController:null};if(v(h.scope)&&(!0===h.bindToController?(b.bindToController=i(h.scope,g,!0),b.isolateScope={}):b.isolateScope=i(h.scope,g,!1)),v(h.bindToController)&&(b.bindToController=i(h.bindToController,g,!0)),b.bindToController&&!h.controller)throw jr("noctrl",g);v((d=d.$$bindings=b).isolateScope)&&(n.$$isolateBindings=d.isolateScope)}e.push(n),d=n}return d}function ie(e){if(a.hasOwnProperty(e))for(var n=t.get(e+"Directive"),r=0,i=n.length;r<i;r++)if((e=n[r]).multiElement)return!0;return!1}function oe(e,t){var n=t.$attr,i=e.$attr;r(e,function(r,i){"$"!==i.charAt(0)&&(t[i]&&t[i]!==r&&(r=r.length?r+("style"===i?";":" ")+t[i]:t[i]),e.$set(i,r,!0,n[i]))}),r(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function ae(e,t,n,i,a,s,l,c){var f,h,m=[],g=t[0],b=e.shift(),y=u(b,{templateUrl:null,transclude:null,replace:null,$$originalDirective:b}),w=C(b.templateUrl)?b.templateUrl(t,n):b.templateUrl,x=b.templateNamespace;return t.empty(),p(w).then(function(o){var u,d;if(o=Se(o),b.replace){if(o=vr.test(o)?He(ce(x,Qn(o))):[],u=o[0],1!==o.length||1!==u.nodeType)throw jr("tplrt",b.name,w);o={$attr:{}},fe(i,t,u);var p=Y(u,[],o);v(b.scope)&&ne(p,!0),e=p.concat(e),oe(n,o)}else u=g,t.html(o);for(e.unshift(y),f=Q(e,u,n,a,t,b,s,l,c),r(i,function(e,n){e===u&&(i[n]=t[0])}),h=q(t[0].childNodes,a);m.length;){o=m.shift(),d=m.shift();var C=m.shift(),$=m.shift();p=t[0];if(!o.$$destroyed){if(d!==g){var S=d.className;c.hasElementTranscludeDirective&&b.replace||(p=ue(u)),fe(C,In(d),p),U(In(p),S)}d=f.transcludeOnThisElement?W(o,f.transclude,$):$,f(h,o,p,i,d)}}m=null}).catch(function(e){e instanceof Error&&o(e)}).catch(d),function(e,t,n,r,i){e=i,t.$$destroyed||(m?m.push(t,n,r,e):(f.transcludeOnThisElement&&(e=W(t,f.transclude,i)),f(h,t,n,r,e)))}}function se(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function le(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw jr("multidir",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,F(r))}function ce(t,n){switch(t=jn(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function de(e,t,r,i,o){var a=function(e,t){if("srcdoc"===t)return M.HTML;var n=E(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return M.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return M.RESOURCE_URL}(e,i),s=h[i]||o,l=n(r,!o,a,s);if(l){if("multiple"===i&&"select"===E(e))throw jr("selmulti",F(e));if(w.test(i))throw jr("nodomevents");t.push({priority:100,compile:function(){return{pre:function(e,t,o){t=o.$$observers||(o.$$observers=te());var c=o[i];c!==r&&(l=c&&n(c,!0,a,s),r=c),l&&(o[i]=l(e),(t[i]||(t[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||e).$watch(l,function(e,t){"class"===i&&e!==t?o.$updateClass(e,t):o.$set(i,e)}))}}}})}}function fe(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]===a){t[i++]=r,o=i+s-1;for(var c=t.length;i<c;i++,o++)o<c?t[i]=t[o]:delete t[i];t.length-=s-1,t.context===a&&(t.context=r);break}for(l&&l.replaceChild(r,a),t=e.document.createDocumentFragment(),i=0;i<s;i++)t.appendChild(n[i]);for(In.hasData(a)&&(In.data(r,In.data(a)),In(a).off("$destroy")),In.cleanData(t.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function pe(e,t){return s(function(){return e.apply(null,arguments)},e,t)}function he(e,t,n,r,i,a){try{e(t,n,r,i,a)}catch(e){o(e,F(n))}}function me(e,t,i,o,a){function s(t,n,r){!C(i.$onChanges)||n===r||n!=n&&r!=r||(ge||(e.$$postDigest(j),ge=[]),c||(c={},ge.push(l)),c[t]&&(r=c[t].previousValue),c[t]=new je(r,n))}function l(){i.$onChanges(c),c=void 0}var c,u=[],f={};return r(o,function(r,o){var l,c,p,h,m=r.attrName,g=r.optional;switch(r.mode){case"@":g||Fn.call(t,m)||(i[o]=t[m]=void 0),g=t.$observe(m,function(e){(y(e)||T(e))&&(s(o,e,i[o]),i[o]=e)}),t.$$observers[m].$$scope=e,y(l=t[m])?i[o]=n(l)(e):T(l)&&(i[o]=l),f[o]=new je(zr,i[o]),u.push(g);break;case"=":if(!Fn.call(t,m)){if(g)break;t[m]=void 0}if(g&&!t[m])break;c=x(t[m]),h=c.literal?N:function(e,t){return e===t||e!=e&&t!=t},p=c.assign||function(){throw l=i[o]=c(e),jr("nonassign",t[m],m,a.name)},l=i[o]=c(e),(g=function(t){return h(t,i[o])||(h(t,l)?p(e,t=i[o]):i[o]=t),l=t}).$stateful=!0,g=r.collection?e.$watchCollection(t[m],g):e.$watch(x(t[m],g),null,c.literal),u.push(g);break;case"<":if(!Fn.call(t,m)){if(g)break;t[m]=void 0}if(g&&!t[m])break;var v=(c=x(t[m])).literal,b=i[o]=c(e);f[o]=new je(zr,i[o]),g=e.$watch(c,function(e,t){if(t===e){if(t===b||v&&N(t,b))return;t=b}s(o,e,t),i[o]=e},v),u.push(g);break;case"&":if((c=t.hasOwnProperty(m)?x(t[m]):d)===d&&g)break;i[o]=function(t){return c(e,t)}}}),{initialChanges:f,removeWatches:u.length&&function(){for(var e=0,t=u.length;e<t;++e)u[e]()}}}var ge,ve=/^\w/,be=e.document.createElement("div"),ye=A,we=R,xe=_;z.prototype={$normalize:ze,$addClass:function(e){e&&0<e.length&&L.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&L.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ue(e,t);n&&n.length&&L.addClass(this.$$element,n),(n=Ue(t,e))&&n.length&&L.removeClass(this.$$element,n)},$set:function(e,t,n,i){var a=ke(this.$$element[0],e),s=kr[e],l=e;if(a?(this.$$element.prop(e,t),i=a):s&&(this[s]=t,l=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=X(e,"-")),"a"===(a=E(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=B(t,"src"===e);else if("img"===a&&"srcset"===e&&g(t)){a="",s=Qn(t);for(var c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=(c=/\s/.test(s)?c:/(,)/,s=s.split(c),c=Math.floor(s.length/2),0);u<c;u++){var d=2*u;a=(a=a+B(Qn(s[d]),!0))+" "+Qn(s[d+1])}s=Qn(s[2*u]).split(/\s/),a+=B(Qn(s[0]),!0),2===s.length&&(a+=" "+Qn(s[1])),this[e]=t=a}!1!==n&&(null===t||m(t)?this.$$element.removeAttr(i):ve.test(i)?this.$$element.attr(i,t):function(e,t,n){be.innerHTML="<span "+t+">";var r=(t=be.firstChild.attributes)[0];t.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}(this.$$element[0],i,t)),(e=this.$$observers)&&r(e[l],function(e){try{e(t)}catch(e){o(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=te()),i=r[e]||(r[e]=[]);return i.push(t),I.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||m(n[e])||t(n[e])}),function(){D(i,t)}}};var Ce=n.startSymbol(),$e=n.endSymbol(),Se="{{"===Ce&&"}}"===$e?f:function(e){return e.replace(/\{\{/g,Ce).replace(/}}/g,$e)},Te=/^ngAttr[A-Z]/,_e=/^(.+)Start$/;return H.$$addBindingInfo=$?function(e,t){var n=e.data("$binding")||[];Zn(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:d,H.$$addBindingClass=$?function(e){U(e,"ng-binding")}:d,H.$$addScopeInfo=$?function(e,t,n,r){e.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:d,H.$$addScopeClass=$?function(e,t){U(e,t?"ng-isolate-scope":"ng-scope")}:d,H.$$createComment=function(t,n){var r="";return $&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},H}]}function je(e,t){this.previousValue=e,this.currentValue=t}function ze(e){return e.replace(Ur,"").replace(Hr,oe)}function Ue(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/),o=0;e:for(;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue e;n+=(0<n.length?" ":"")+a}return n}function He(e){var t=(e=In(e)).length;if(1>=t)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===lr&&""===n.nodeValue.trim())&&Hn.call(e,t,1)}return e}function qe(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){J(t,"controller"),v(t)?s(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(e,n,r,i){if(!e||!v(e.$scope))throw t("$controller")("noscp",i,n);e.$scope[n]=r}return function(t,a,l,c){var u,d,f;if(l=!0===l,c&&y(c)&&(f=c),y(t)){if(!(c=t.match(Vr)))throw qr("ctrlfmt",t);if(d=c[1],f=f||c[3],!(t=e.hasOwnProperty(d)?e[d]:Q(a.$scope,d,!0)||(n?Q(i,d,!0):void 0)))throw qr("ctrlreg",d);Z(t,d,!0)}return l?(l=(Zn(t)?t[t.length-1]:t).prototype,u=Object.create(l||null),f&&o(a,f,u,d||t.name),s(function(){var e=r.invoke(t,u,a,d);return e!==u&&(v(e)||C(e))&&(u=e,f&&o(a,f,u,d||t.name)),u},{instance:u,identifier:f})):(u=r.instantiate(t,a,d),f&&o(a,f,u,d||t.name),u)}}]}function Ve(){this.$get=["$window",function(e){return In(e.document)}]}function We(){this.$get=["$document","$rootScope",function(e,t){function n(){i=r.hidden}var r=e[0],i=r&&r.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return i}}]}function Ye(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Ge(e){return v(e)?x(e)?e.toISOString():I(e):e}function Xe(){this.$get=function(){return function(e){if(!e)return"";var t=[];return i(e,function(e,n){null===e||m(e)||(Zn(e)?r(e,function(e){t.push(q(n)+"="+q(Ge(e)))}):t.push(q(n)+"="+q(Ge(e))))}),t.join("&")}}}function Ke(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,o,a){null===n||m(n)||(Zn(n)?r(n,function(t,n){e(t,o+"["+(v(t)?n:"")+"]")}):v(n)&&!x(n)?i(n,function(t,n){e(t,o+(a?"":"[")+n+(a?"":"]"))}):t.push(q(o)+"="+q(Ge(n))))}(e,"",!0),t.join("&")}}}function Ze(e,t){if(y(e)){var n=e.replace(Zr,"").trim();if(n){var r=t("Content-Type");(r=r&&0===r.indexOf(Yr))||(r=(r=n.match(Xr))&&Kr[r[0]].test(n)),r&&(e=M(n))}}return e}function Je(e){var t,n=te();return y(e)?r(e.split("\n"),function(e){t=e.indexOf(":");var r=jn(Qn(e.substr(0,t)));e=Qn(e.substr(t+1)),r&&(n[r]=n[r]?n[r]+", "+e:e)}):v(e)&&r(e,function(e,t){var r=jn(t),i=Qn(e);r&&(n[r]=n[r]?n[r]+", "+i:i)}),n}function Qe(e){var t;return function(n){return t||(t=Je(e)),n?(void 0===(n=t[jn(n)])&&(n=null),n):t}}function et(e,t,n,i){return C(i)?i(e,t,n):(r(i,function(r){e=r(e,t,n)}),e)}function tt(){var e=this.defaults={transformResponse:[Ze],transformRequest:[function(e){return v(e)&&"[object File]"!==Vn.call(e)&&"[object Blob]"!==Vn.call(e)&&"[object FormData]"!==Vn.call(e)?I(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:re(Gr),put:re(Gr),patch:re(Gr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(e){return g(e)?(n=!!e,this):n};var i=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(o,a,l,c,u,f,p,h){function b(i){function c(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function $(e){var t=s({},e);return t.data=et(e.data,e.headers,e.status,S.transformResponse),200<=(e=e.status)&&300>e?t:f.reject(t)}if(!v(i))throw t("$http")("badreq",i);if(!y(h.valueOf(i.url)))throw t("$http")("badreq",i.url);var S=s({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},i);S.headers=function(t){var n,i,o,a,l,c,u,d=e.headers,f=s({},t.headers);d=s({},d.common,d[jn(t.method)]);e:for(n in d){for(o in i=jn(n),f)if(jn(o)===i)continue e;f[n]=d[n]}return a=f,l=re(t),u={},r(a,function(e,t){C(e)?null!=(c=e(l))&&(u[t]=c):u[t]=e}),u}(i),S.method=zn(S.method),S.paramSerializer=y(S.paramSerializer)?p.get(S.paramSerializer):S.paramSerializer,o.$$incOutstandingRequestCount();var k=[],T=[];return i=f.resolve(S),r(x,function(e){(e.request||e.requestError)&&k.unshift(e.request,e.requestError),(e.response||e.responseError)&&T.push(e.response,e.responseError)}),(i=c(i=(i=c(i,k)).then(function(t){var i=t.headers,o=et(t.data,Qe(i),void 0,t.transformRequest);return m(o)&&r(i,function(e,t){"content-type"===jn(t)&&delete i[t]}),m(t.withCredentials)&&!m(e.withCredentials)&&(t.withCredentials=e.withCredentials),function(t,i){function o(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?u.$applyAsync(r):u.$$phase?r():u.$apply(r)}}),t}}function s(e,n,r,i){(200<=(n=-1<=n?n:0)&&300>n?$.resolve:$.reject)({data:e,status:n,headers:Qe(r),config:t,statusText:i})}function c(e){s(e.data,e.status,re(e.headers()),e.statusText)}function d(){var e=b.pendingRequests.indexOf(t);-1!==e&&b.pendingRequests.splice(e,1)}var p,x,$=f.defer(),S=$.promise,k=t.headers,T="jsonp"===jn(t.method),_=t.url;return T?_=h.getTrustedResourceUrl(_):y(_)||(_=h.valueOf(_)),E=_,D=t.paramSerializer(t.params),0<D.length&&(E+=(-1===E.indexOf("?")?"?":"&")+D),_=E,T&&(_=function(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw Jr("badjsonp",e);if(new RegExp("[&?]"+t+"=").test(e))throw Jr("badjsonp",t,e);return e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}(_,t.jsonpCallbackParam)),b.pendingRequests.push(t),S.then(d,d),!t.cache&&!e.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(p=v(t.cache)?t.cache:v(e.cache)?e.cache:w),p&&(g(x=p.get(_))?x&&C(x.then)?x.then(c,c):Zn(x)?s(x[1],x[0],re(x[2]),x[3]):s(x,200,{},"OK"):p.put(_,S)),m(x)&&((x=Wt(t.url)?l()[t.xsrfCookieName||e.xsrfCookieName]:void 0)&&(k[t.xsrfHeaderName||e.xsrfHeaderName]=x),a(t.method,_,i,function(e,t,r,i){function o(){s(t,e,r,i)}p&&(200<=e&&300>e?p.put(_,[e,t,Je(r),i]):p.remove(_)),n?u.$applyAsync(o):(o(),u.$$phase||u.$apply())},k,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))),S;var E,D}(t,o).then($,$)}),T)).finally(function(){o.$$completeOutstandingRequest(d)})}var w=c("$http");e.paramSerializer=y(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var x=[];return r(i,function(e){x.unshift(y(e)?p.get(e):p.invoke(e))}),b.pendingRequests=[],function(e){r(arguments,function(e){b[e]=function(t,n){return b(s({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){r(arguments,function(e){b[e]=function(t,n,r){return b(s({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),b.defaults=e,b}]}function nt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function rt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return function(e,t,n,i,o){return function(a,s,l,c,u,d,f,p,h,v){function b(){w&&w(),x&&x.abort()}if(s=s||e.url(),"jsonp"===jn(a))var y=i.createCallback(s),w=function(e,t,n){e=e.replace("JSON_CALLBACK",t);var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){r.removeEventListener("load",a),r.removeEventListener("error",a),o.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},r.addEventListener("load",a),r.addEventListener("error",a),o.body.appendChild(r),a}(s,y,function(e,t){var r=200===e&&i.getResponse(y);g($)&&n.cancel($),w=x=null,c(e,r,"",t),i.removeCallback(y)});else{var x=t(a,s);if(x.open(a,s,!0),r(u,function(e,t){g(e)&&x.setRequestHeader(t,e)}),x.onload=function(){var e=x.statusText||"",t="response"in x?x.response:x.responseText,r=1223===x.status?204:x.status;0===r&&(r=t?200:"file"===Vt(s).protocol?404:0);var i=x.getAllResponseHeaders();g($)&&n.cancel($),w=x=null,c(r,t,i,e)},a=function(){g($)&&n.cancel($),w=x=null,c(-1,null,null,"")},x.onerror=a,x.onabort=a,x.ontimeout=a,r(h,function(e,t){x.addEventListener(t,e)}),r(v,function(e,t){x.upload.addEventListener(t,e)}),f&&(x.withCredentials=!0),p)try{x.responseType=p}catch(e){if("json"!==p)throw e}x.send(m(l)?null:l)}if(0<d)var $=n(b,d);else d&&C(d.then)&&d.then(b)}}(e,i,e.defer,t,n[0])}]}function it(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(f,e).replace(h,t)}function l(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function c(o,c,f,h){function v(e){try{var t=e;return e=f?i.getTrusted(f,t):i.valueOf(t),h&&!g(e)?e:ne(e)}catch(e){r(Qr.interr(o,e))}}var b;if(!o.length||-1===o.indexOf(e))return c||((b=p(c=a(o))).exp=o,b.expressions=[],b.$$watchDelegate=l),b;h=!!h;var y,w,x=0,$=[],S=[];b=o.length;for(var k=[],T=[];x<b;){if(-1===(y=o.indexOf(e,x))||-1===(w=o.indexOf(t,y+u))){x!==b&&k.push(a(o.substring(x)));break}x!==y&&k.push(a(o.substring(x,y))),x=o.substring(y+u,w),$.push(x),S.push(n(x,v)),x=w+d,T.push(k.length),k.push("")}if(f&&1<k.length&&Qr.throwNoconcat(o),!c||$.length){var _=function(e){for(var t=0,n=$.length;t<n;t++){if(h&&m(e[t]))return;k[T[t]]=e[t]}return k.join("")};return s(function(e){var t=0,n=$.length,i=Array(n);try{for(;t<n;t++)i[t]=S[t](e);return _(i)}catch(e){r(Qr.interr(o,e))}},{exp:o,expressions:$,$$watchDelegate:function(e,t){var n;return e.$watchGroup(S,function(r,i){var o=_(r);C(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var u=e.length,d=t.length,f=new RegExp(e.replace(/./g,o),"g"),h=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function ot(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,l,c){function u(){d?o.apply(null,f):o(m)}var d=4<arguments.length,f=d?Un.call(arguments,4):[],p=t.setInterval,h=t.clearInterval,m=0,v=g(c)&&!c,b=(v?r:n).defer(),y=b.promise;return l=g(l)?l:0,y.$$intervalId=p(function(){v?i.defer(u):e.$evalAsync(u),b.notify(m++),0<l&&m>=l&&(b.resolve(m),h(y.$$intervalId),delete a[y.$$intervalId]),v||e.$apply()},s),a[y.$$intervalId]=b,y}var a={};return o.cancel=function(e){return!!(e&&e.$$intervalId in a)&&(a[e.$$intervalId].promise.catch(d),a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0)},o}]}function at(e){for(var t=(e=e.split("/")).length;t--;)e[t]=H(e[t]);return e.join("/")}function st(e,t){var n=Vt(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=c(n.port)||ni[n.protocol]||null}function lt(e,t){if(ii.test(e))throw ri("badpath",e);var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Vt(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=z(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function ct(e,t){return e.slice(0,t.length)===t}function ut(e,t){if(ct(t,e))return t.substr(e.length)}function dt(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function ft(e){return e.replace(/(#.+)|#$/,"$1")}function pt(e,t,n){this.$$html5=!0,n=n||"",st(e,this),this.$$parse=function(e){var n=ut(t,e);if(!y(n))throw ri("ipthprfx",e,t);lt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=U(this.$$search),n=this.$$hash?"#"+H(this.$$hash):"";this.$$url=at(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(g(o=ut(e,r))?(a=o,a=n&&g(o=ut(n,o))?t+(ut("/",o)||o):e+a):g(o=ut(t,r))?a=t+o:t===r+"/"&&(a=t),a&&this.$$parse(a),!!a);var o,a}}function ht(e,t,n){st(e,this),this.$$parse=function(r){var i;m(o=ut(e,r)||ut(t,r))||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",m(o)&&(e=r,this.replace())):m(i=ut(n,o))&&(i=o),lt(i,this),r=this.$$path;var o,a=/^\/[A-Z]:(\/.*)/;ct(i,o=e)&&(i=i.replace(o,"")),a.exec(i)||(r=(i=a.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var t=U(this.$$search),r=this.$$hash?"#"+H(this.$$hash):"";this.$$url=at(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return dt(e)===dt(t)&&(this.$$parse(t),!0)}}function mt(e,t,n){this.$$html5=!0,ht.apply(this,arguments),this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(e===dt(r)?o=r:(a=ut(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o);var o,a},this.$$compose=function(){var t=U(this.$$search),r=this.$$hash?"#"+H(this.$$hash):"";this.$$url=at(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function gt(e){return function(){return this[e]}}function vt(e,t){return function(n){return m(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function bt(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return g(t)?(e=t,this):e},this.html5Mode=function(e){return T(e)?(t.enabled=e,this):v(e)?(T(e.enabled)&&(t.enabled=e.enabled),T(e.requireBase)&&(t.requireBase=e.requireBase),(T(e.rewriteLinks)||y(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=c.url(),o=c.$$state;try{r.url(e,t,n),c.$$state=r.state()}catch(e){throw c.url(i),c.$$state=o,e}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u;u=r.baseHref();var d,f=r.url();if(t.enabled){if(!u&&t.requireBase)throw ri("nobase");d=f.substring(0,f.indexOf("/",f.indexOf("//")+2))+(u||"/"),u=i.history?pt:mt}else d=dt(f),u=ht;var p=d.substr(0,dt(d).lastIndexOf("/")+1);(c=new u(d,p,"#"+e)).$$parseLinkUrl(f,f),c.$$state=r.state();var h=/^\s*(javascript|mailto):/i;o.on("click",function(e){if((s=t.rewriteLinks)&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var i=In(e.target);"a"!==E(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;if(!y(s)||!m(i.attr(s))){var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");v(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Vt(s.animVal).href),h.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||!c.$$parseLinkUrl(s,l)||(e.preventDefault(),c.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),ft(c.absUrl())!==ft(f)&&r.url(c.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){ct(e,p)?(n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;e=ft(e),c.$$parse(e),c.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,c.absUrl()===e&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(g=!1,l(i,o)))}),n.$$phase||n.$digest()):a.location.href=e}),n.$watch(function(){var e=ft(r.url()),t=ft(c.absUrl()),o=r.state(),a=c.$$replace,u=e!==t||c.$$html5&&i.history&&o!==c.$$state;(g||u)&&(g=!1,n.$evalAsync(function(){var t=c.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,c.$$state,o).defaultPrevented;c.absUrl()===t&&(r?(c.$$parse(e),c.$$state=o):(u&&s(t,a,o===c.$$state?null:c.$$state),l(e,o)))})),c.$$replace=!1}),c}]}function yt(){var e=!0,t=this;this.debugEnabled=function(t){return g(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){var t=n.console||{},i=t[e]||t.log||d;e=!1;try{e=!!i.apply}catch(e){}return e?function(){var e=[];return r(arguments,function(t){var n;e.push(((n=t)instanceof Error&&(n.stack?n=n.message&&-1===n.stack.indexOf(n.message)?"Error: "+n.message+"\n"+n.stack:n.stack:n.sourceURL&&(n=n.message+"\n"+n.sourceURL+":"+n.line)),n))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:(o=i("debug"),function(){e&&o.apply(t,arguments)})};var o}]}function wt(e){return e+""}function xt(e,t){return void 0!==e?e:t}function Ct(e,t){return void 0===e?t:void 0===t?e:e+t}function $t(e,t){var n,i,o;switch(e.type){case di.Program:n=!0,r(e.body,function(e){$t(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case di.Literal:e.constant=!0,e.toWatch=[];break;case di.UnaryExpression:$t(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case di.BinaryExpression:$t(e.left,t),$t(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case di.LogicalExpression:$t(e.left,t),$t(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case di.ConditionalExpression:$t(e.test,t),$t(e.alternate,t),$t(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case di.Identifier:e.constant=!1,e.toWatch=[e];break;case di.MemberExpression:$t(e.object,t),e.computed&&$t(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case di.CallExpression:n=o=!!e.filter&&!t(e.callee.name).$stateful,i=[],r(e.arguments,function(e){$t(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=o?i:[e];break;case di.AssignmentExpression:$t(e.left,t),$t(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case di.ArrayExpression:n=!0,i=[],r(e.elements,function(e){$t(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case di.ObjectExpression:n=!0,i=[],r(e.properties,function(e){$t(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case di.ThisExpression:e.constant=!1,e.toWatch=[];break;case di.LocalsExpression:e.constant=!1,e.toWatch=[]}}function St(e){if(1===e.length){var t=(e=e[0].expression).toWatch;return 1!==t.length?t:t[0]!==e?t:void 0}}function kt(e){return e.type===di.Identifier||e.type===di.MemberExpression}function Tt(e){if(1===e.body.length&&kt(e.body[0].expression))return{type:di.AssignmentExpression,left:e.body[0].expression,right:{type:di.NGValueParameter},operator:"="}}function _t(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===di.Literal||e.body[0].expression.type===di.ArrayExpression||e.body[0].expression.type===di.ObjectExpression)}function Et(e,t){this.astBuilder=e,this.$filter=t}function Dt(e,t){this.astBuilder=e,this.$filter=t}function At(e){return C(e.valueOf)?e.valueOf():si.call(e)}function Nt(){var e,t,n=te(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(o){function a(e,t){return null==e||null==t?e===t:("object"!=typeof e||"object"!=typeof(e=At(e)))&&(e===t||e!=e&&t!=t)}function s(e,t,n,r,i){var o;if(1===(l=r.inputs).length){var s=a,l=l[0];return e.$watch(function(e){var t=l(e);return a(t,s)||(o=r(e,void 0,void 0,[t]),s=t&&At(t)),o},t,n,i)}for(var c=[],u=[],d=0,f=l.length;d<f;d++)c[d]=a,u[d]=null;return e.$watch(function(e){for(var t=!1,n=0,i=l.length;n<i;n++){var s=l[n](e);(t||(t=!a(s,c[n])))&&(u[n]=s,c[n]=s&&At(s))}return t&&(o=r(e,void 0,void 0,u)),o},t,n,i)}function l(e,t,n,r,i){function o(e,n,r){l=e,C(t)&&t(e,n,r),g(e)&&r.$$postDigest(function(){g(l)&&a()})}var a,l;return a=r.inputs?s(e,o,n,r,i):e.$watch(function(e){return r(e)},o,n)}function c(e,t,n,i){function o(e){var t=!0;return r(e,function(e){g(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return i(e)},function(e,n,r){s=e,C(t)&&t(e,n,r),o(e)&&r.$$postDigest(function(){o(s)&&a()})},n)}function u(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function f(e,t){if(!t)return e;var n=!1,r=(r=e.$$watchDelegate)!==c&&r!==l?function(r,i,o,a){return o=n&&a?a[0]:e(r,i,o,a),t(o,r,i)}:function(n,r,i,o){return i=e(n,r,i,o),n=t(i,n,r),g(i)?n:i};n=!e.inputs;return e.$$watchDelegate&&e.$$watchDelegate!==s?(r.$$watchDelegate=e.$$watchDelegate,r.inputs=e.inputs):t.$stateful||(r.$$watchDelegate=s,r.inputs=e.inputs?e.inputs:[e]),r}var p={csp:tr().noUnsafeEval,literals:A(i),isIdentifierStart:C(e)&&e,isIdentifierContinue:C(t)&&t};return function(e,t){var r,i,a;switch(typeof e){case"string":return a=e=e.trim(),(r=n[a])||(":"===e.charAt(0)&&":"===e.charAt(1)&&(i=!0,e=e.substring(2)),r=new ui(p),(r=new fi(r,o,p).parse(e)).constant?r.$$watchDelegate=u:i?r.$$watchDelegate=r.literal?c:l:r.inputs&&(r.$$watchDelegate=s),n[a]=r),f(r,t);case"function":return f(e,t);default:return f(d,t)}}}]}function Rt(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Pt(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return g(t)?(e=t,this):e}}function Ot(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Pt(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return g(t)?(e=t,this):e}}function Pt(e,n,i){function o(){return new function(){var e=this.promise=new a;this.resolve=function(t){u(e,t)},this.reject=function(t){d(e,t)},this.notify=function(t){p(e,t)}}}function a(){this.$$state={status:0}}function l(){for(;!x&&$.length;){var e=$.shift();if(!e.pur){e.pur=!0;var t="Possibly unhandled rejection: "+("function"==typeof(t=e.value)?t.toString().replace(/ \{[\s\S]*$/,""):m(t)?"undefined":"string"!=typeof t?ie(t):t);e.value instanceof Error?n(e.value,t):n(t)}}}function c(t){!i||t.pending||2!==t.status||t.pur||(0===x&&0===$.length&&e(l),$.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++x,e(function(){var n,r,o;o=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var a=0,s=o.length;a<s;++a){t.pur=!0,r=o[a][0],n=o[a][t.status];try{C(n)?u(r,n(t.value)):1===t.status?u(r,t.value):d(r,t.value)}catch(e){d(r,e)}}}finally{--x,i&&0===x&&e(l)}}))}function u(e,t){e.$$state.status||(t===e?f(e,w("qcycle",t)):function e(t,n){function r(n){a||(a=!0,e(t,n))}function i(e){a||(a=!0,f(t,e))}var o,a=!1;try{(v(n)||C(n))&&(o=n.then),C(o)?(t.$$state.status=-1,o.call(n,function r(e){a||(a=!0,function e(t,n){function r(n){a||(a=!0,e(t,n))}function i(e){a||(a=!0,f(t,e))}var o,a=!1;try{(v(n)||C(n))&&(o=n.then),C(o)?(t.$$state.status=-1,o.call(n,r,i,function(e){p(t,e)})):(t.$$state.value=n,t.$$state.status=1,c(t.$$state))}catch(e){i(e)}}(t,e))},i,function(e){p(t,e)})):(t.$$state.value=n,t.$$state.status=1,c(t.$$state))}catch(e){i(e)}}(e,t))}function d(e,t){e.$$state.status||f(e,t)}function f(e,t){e.$$state.value=t,e.$$state.status=2,c(e.$$state)}function p(t,r){var i=t.$$state.pending;0>=t.$$state.status&&i&&i.length&&e(function(){for(var e,t,o=0,a=i.length;o<a;o++){t=i[o][0],e=i[o][3];try{p(t,C(e)?e(r):r)}catch(e){n(e)}}})}function h(e){var t=new a;return d(t,e),t}function g(e,t,n){var r=null;try{C(n)&&(r=n())}catch(e){return h(e)}return r&&C(r.then)?r.then(function(){return t(e)},h):t(e)}function b(e,t,n,r){var i=new a;return u(i,e),i.then(t,n,r)}function y(e){if(!C(e))throw w("norslvr",e);var t=new a;return e(function(e){u(t,e)},function(e){d(t,e)}),t}var w=t("$q",TypeError),x=0,$=[];s(a.prototype,{then:function(e,t,n){if(m(e)&&m(t)&&m(n))return this;var r=new a;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&c(this.$$state),r},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return g(t,S,e)},function(t){return g(t,h,e)},t)}});var S=b;return y.prototype=a.prototype,y.defer=o,y.reject=h,y.when=b,y.resolve=S,y.all=function(e){var t=new a,n=0,i=Zn(e)?[]:{};return r(e,function(e,r){n++,b(e).then(function(e){i[r]=e,--n||u(t,i)},function(e){d(t,e)})}),0===n&&u(t,i),t},y.race=function(e){var t=o();return r(e,function(e){b(e).then(t.resolve,t.reject)}),t.promise},y}function It(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function Mt(){var e=10,i=t("$rootScope"),o=null,a=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(t,s,l){function c(e){e.currentScope.$$destroyed=!0}function u(){this.$id=++Xn,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(e){if(y.$$phase)throw i("inprog",y.$$phase);y.$$phase=e}function p(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function h(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function g(){}function b(){for(;$.length;)try{$.shift()()}catch(e){t(e)}a=null}u.prototype={constructor:u,$new:function(e,t){var n;return t=t||this,e?(n=new u).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++Xn,this.$$ChildScope=null}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",c),n},$watch:function(e,t,n,r){var i=s(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var a=this,l=a.$$watchers,c={fn:t,last:g,get:i,exp:r||e,eq:!!n};return o=null,C(t)||(c.fn=d),l||((l=a.$$watchers=[]).$$digestWatchIndex=-1),l.unshift(c),l.$$digestWatchIndex++,p(this,1),function(){var e=D(l,c);0<=e&&(p(a,-1),e<l.$$digestWatchIndex&&l.$$digestWatchIndex--),o=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(o,o,s)):t(o,i,s)}var i=Array(e.length),o=Array(e.length),a=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(o,o,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){o[0]=e,i[0]=n,t(o,e===n?o:i,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){o[t]=e,i[t]=r,l||(l=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function r(e){var t,r,a;if(!m(i=e)){if(v(i))if(n(i))for(o!==f&&(g=(o=f).length=0,u++),e=i.length,g!==e&&(u++,o.length=g=e),t=0;t<e;t++)a=o[t],r=i[t],a!=a&&r!=r||a===r||(u++,o[t]=r);else{for(t in o!==p&&(o=p={},g=0,u++),e=0,i)Fn.call(i,t)&&(e++,r=i[t],a=o[t],t in o?a!=a&&r!=r||a===r||(u++,o[t]=r):(g++,o[t]=r,u++));if(g>e)for(t in u++,o)Fn.call(i,t)||(g--,delete o[t])}else o!==i&&(o=i,u++);return u}}r.$stateful=!0;var i,o,a,l=this,c=1<t.length,u=0,d=s(e,r),f=[],p={},h=!0,g=0;return this.$watch(d,function(){if(h?(h=!1,t(i,i,l)):t(i,a,l),c)if(v(i))if(n(i)){a=Array(i.length);for(var e=0;e<i.length;e++)a[e]=i[e]}else for(e in a={},i)Fn.call(i,e)&&(a[e]=i[e]);else a=i})},$digest:function(){var n,r,s,c,u,d,p,h,m=e,v=[];f("$digest"),l.$$checkUrlChange(),this===y&&null!==a&&(l.defer.cancel(a),b()),o=null;do{for(u=!1,d=this,c=0;c<w.length;c++){try{(h=w[c]).scope.$eval(h.expression,h.locals)}catch(e){t(e)}o=null}w.length=0;e:do{if(c=d.$$watchers)for(c.$$digestWatchIndex=c.length;c.$$digestWatchIndex--;)try{if(n=c[c.$$digestWatchIndex])if((r=(0,n.get)(d))===(s=n.last)||(n.eq?N(r,s):Kn(r)&&Kn(s))){if(n===o){u=!1;break e}}else u=!0,o=n,n.last=n.eq?A(r,null):r,(0,n.fn)(r,s===g?r:s,d),5>m&&(v[p=4-m]||(v[p]=[]),v[p].push({msg:C(n.exp)?"fn: "+(n.exp.name||n.exp.toString()):n.exp,newVal:r,oldVal:s}))}catch(e){t(e)}if(!(c=d.$$watchersCount&&d.$$childHead||d!==this&&d.$$nextSibling))for(;d!==this&&!(c=d.$$nextSibling);)d=d.$parent}while(d=c);if((u||w.length)&&!m--)throw y.$$phase=null,i("infdig",e,v)}while(u||w.length);for(y.$$phase=null;S<x.length;)try{x[S++]()}catch(e){t(e)}x.length=S=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===y&&l.$$applicationDestroyed(),p(this,-this.$$watchersCount),this.$$listenerCount)h(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=d,this.$on=this.$watch=this.$watchGroup=function(){return d},this.$$listeners={},this.$$nextSibling=null,function e(t){9===Pn&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e,t){y.$$phase||w.length||l.defer(function(){w.length&&y.$digest()}),w.push({scope:this,expression:s(e),locals:t})},$$postDigest:function(e){x.push(e)},$apply:function(e){try{f("$apply");try{return this.$eval(e)}finally{y.$$phase=null}}catch(e){t(e)}finally{try{y.$digest()}catch(e){throw t(e),e}}},$applyAsync:function(e){var t=this;e&&$.push(function(){t.$eval(e)}),e=s(e),null===a&&(a=l.defer(function(){y.$apply(b)}))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,h(i,1,e))}},$emit:function(e,n){var r,i,o,a=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=R([c],arguments,1);do{for(r=s.$$listeners[e]||a,c.currentScope=s,i=0,o=r.length;i<o;i++)if(r[i])try{r[i].apply(null,u)}catch(e){t(e)}else r.splice(i,1),i--,o--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,n){var r=this,i=this,o={name:e,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return o;for(var a,s,l=R([o],arguments,1);r=i;){for(o.currentScope=r,a=0,s=(i=r.$$listeners[e]||[]).length;a<s;a++)if(i[a])try{i[a].apply(null,l)}catch(e){t(e)}else i.splice(a,1),a--,s--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var y=new u,w=y.$$asyncQueue=[],x=y.$$postDigestQueue=[],$=y.$$applyAsyncQueue=[],S=0;return y}]}function Lt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return g(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return g(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return""===(i=Vt(n).href)||i.match(o)?n:"unsafe:"+i}}}function Bt(e){var t=[];return g(e)&&r(e,function(e){t.push(function(e){if("self"===e)return e;if(y(e)){if(-1<e.indexOf("***"))throw pi("iwcard",e);return e=er(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if($(e))return new RegExp("^"+e.source+"$");throw pi("imatcher")}(e))}),t}function Ft(){this.SCE_CONTEXTS=hi;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Bt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Bt(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Wt(t):!!e.exec(t.href)}function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var o=function(e){throw pi("unsafe")};n.has("$sanitize")&&(o=n.get("$sanitize"));var a=i(),s={};return s[hi.HTML]=i(a),s[hi.CSS]=i(a),s[hi.URL]=i(a),s[hi.JS]=i(a),s[hi.RESOURCE_URL]=i(s[hi.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw pi("icontext",e,t);if(null===t||m(t)||""===t)return t;if("string"!=typeof t)throw pi("itype",e);return new n(t)},getTrusted:function(n,i){if(null===i||m(i)||""===i)return i;if((c=s.hasOwnProperty(n)?s[n]:null)&&i instanceof c)return i.$$unwrapTrustedValue();if(n===hi.RESOURCE_URL){var a,l,c=Vt(i.toString()),u=!1;for(a=0,l=e.length;a<l;a++)if(r(e[a],c)){u=!0;break}if(u)for(a=0,l=t.length;a<l;a++)if(r(t[a],c)){u=!1;break}if(u)return i;throw pi("insecurl",i.toString())}if(n===hi.HTML)return o(i);throw pi("unsafe")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function jt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Pn)throw pi("iequirks");var i=re(hi);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=f),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return r(hi,function(e,t){var n=jn(t);i[("parse_as_"+n).replace(mi,oe)]=function(t){return o(e,t)},i[("get_trusted_"+n).replace(mi,oe)]=function(t){return a(e,t)},i[("trust_as_"+n).replace(mi,oe)]=function(t){return s(e,t)}}),i}]}function zt(){this.$get=["$window","$document",function(e,t){var n={},r=!(e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,i=c((/android (\d+)/.exec(jn((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},s=a.body&&a.body.style,l=!1,u=!1;return s&&(l=!!("transition"in s||"webkitTransition"in s),u=!!("animation"in s||"webkitAnimation"in s)),{history:!(!r||4>i||o),hasEvent:function(e){if("input"===e&&Pn)return!1;if(m(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:tr(),transitions:l,animations:u,android:i}}]}function Ut(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,i,o){function a(l,c){a.totalPendingRequests++,y(l)&&!m(n.get(l))||(l=o.getTrustedResourceUrl(l));var u=r.defaults&&r.defaults.transformResponse;return Zn(u)?u=u.filter(function(e){return e!==Ze}):u===Ze&&(u=null),r.get(l,s({cache:n,transformResponse:u},e)).finally(function(){a.totalPendingRequests--}).then(function(e){return n.put(l,e.data),e.data},function(e){return c||(e=gi("tpload",l,e.status,e.statusText),t(e)),i.reject(e)})}return a.totalPendingRequests=0,a}]}function Ht(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){var i=[];return r(e=e.getElementsByClassName("ng-binding"),function(e){var o=Gn.element(e).data("$binding");o&&r(o,function(r){n?new RegExp("(^|\\s)"+er(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!==r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=e.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function qt(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){C(o)||(l=s,s=o,o=d);var c,u=Un.call(arguments,3),f=g(l)&&!l,p=(f?r:n).defer(),h=p.promise;return c=t.defer(function(){try{p.resolve(o.apply(null,u))}catch(e){p.reject(e),i(e)}finally{delete a[h.$$timeoutId]}f||e.$apply()},s),h.$$timeoutId=c,a[c]=p,h}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].promise.catch(d),a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function Vt(e){return Pn&&(vi.setAttribute("href",e),e=vi.href),vi.setAttribute("href",e),{href:vi.href,protocol:vi.protocol?vi.protocol.replace(/:$/,""):"",host:vi.host,search:vi.search?vi.search.replace(/^\?/,""):"",hash:vi.hash?vi.hash.replace(/^#/,""):"",hostname:vi.hostname,port:vi.port,pathname:"/"===vi.pathname.charAt(0)?vi.pathname:"/"+vi.pathname}}function Wt(e){return(e=y(e)?Vt(e):e).protocol===bi.protocol&&e.host===bi.host}function Yt(){this.$get=p(e)}function Gt(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,l;try{e=n.cookie||""}catch(t){e=""}if(e!==i)for(e=(i=e).split("; "),r={},a=0;a<e.length;a++)0<(s=(o=e[a]).indexOf("="))&&(l=t(o.substring(0,s)),m(r[l])&&(r[l]=t(o.substring(s+1))));return r}}function Xt(){this.$get=Gt}function Kt(e){function t(n,i){if(v(n)){var o={};return r(n,function(e,n){o[n]=t(n,e)}),o}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",en),t("date",un),t("filter",Zt),t("json",dn),t("limitTo",fn),t("lowercase",ki),t("number",tn),t("orderBy",hn),t("uppercase",Ti)}function Zt(){return function(e,r,i,o){if(!n(e)){if(null==e)return e;throw t("filter")("notarray",e)}var a,s,l,c,u,d;switch(o=o||"$",Qt(r)){case"function":break;case"boolean":case"null":case"number":case"string":a=!0;case"object":l=i,c=o,u=a,d=v(s=r)&&c in s,!0===l?l=N:C(l)||(l=function(e,t){return!(m(e)||(null===e||null===t?e!==t:v(t)||v(e)&&!h(e)||(e=jn(""+e),t=jn(""+t),-1===e.indexOf(t))))}),r=function(e){return d&&!v(e)?Jt(e,s[c],l,c,!1):Jt(e,s,l,c,u)};break;default:return e}return Array.prototype.filter.call(e,r)}}function Jt(e,t,n,r,i,o){var a=Qt(e),s=Qt(t);if("string"===s&&"!"===t.charAt(0))return!Jt(e,t.substring(1),n,r,i);if(Zn(e))return e.some(function(e){return Jt(e,t,n,r,i)});switch(a){case"object":var l;if(i){for(l in e)if("$"!==l.charAt(0)&&Jt(e[l],t,n,r,!0))return!0;return!o&&Jt(e,t,n,r,!1)}if("object"===s){for(l in t)if(!C(o=t[l])&&!m(o)&&!Jt((a=l===r)?e:e[l],o,n,r,a,a))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Qt(e){return null===e?"null":typeof e}function en(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return m(n)&&(n=t.CURRENCY_SYM),m(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:nn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function tn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:nn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function nn(e,t,n,r,i){if(!y(e)&&!w(e)||isNaN(e))return"";var o=!isFinite(e),a=!1,s=Math.abs(e)+"",l="";if(o)l="";else{for(function(e,t,n,r){var i=e.d,o=i.length-e.i;if(r=i[n=(t=m(t)?Math.min(Math.max(n,o),r):+t)+e.i],0<n){i.splice(Math.max(e.i,n));for(var a=n;a<i.length;a++)i[a]=0}else for(o=Math.max(0,o),e.i=1,i.length=Math.max(1,n=t+1),i[0]=0,a=1;a<n;a++)i[a]=0;if(5<=r)if(0>n-1){for(r=0;r>n;r--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[n-1]++;for(;o<Math.max(0,t);o++)i.push(0);(t=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0))&&(i.unshift(t),e.i++)}(a=function(e){var t,n,r,i,o,a=0;for(-1<(n=e.indexOf(wi))&&(e=e.replace(wi,"")),0<(r=e.search(/e/i))?(0>n&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):0>n&&(n=e.length),r=0;e.charAt(r)===xi;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===xi;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>yi&&(t=t.splice(0,yi-1),a=n-1,n=1),{d:t,e:a,i:n}}(s),i,t.minFrac,t.maxFrac),l=a.d,s=a.i,i=a.e,o=[],a=l.reduce(function(e,t){return e&&!t},!0);0>s;)l.unshift(0),s++;for(0<s?o=l.splice(s,l.length):(o=l,l=[0]),s=[],l.length>=t.lgSize&&s.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)s.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),o.length&&(l+=r+o.join("")),i&&(l+="e+"+i)}return 0>e&&!a?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function rn(e,t,n,r){var i="";for((0>e||r&&0>=e)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e=xi+e;return n&&(e=e.substr(e.length-t)),i+e}function on(e,t,n,r,i){return n=n||0,function(o){return o=o["get"+e](),(0<n||o>-n)&&(o+=n),0===o&&-12===n&&(o=12),rn(o,t,r,i)}}function an(e,t,n){return function(r,i){var o=r["get"+e]();return i[zn((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function sn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function ln(e){return function(t){var n=sn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,rn(t=1+Math.round(t/6048e5),e)}}function cn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function un(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var a,s,l="",u=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,y(n)&&(n=Si.test(n)?c(n):function(e){var n;if(n=e.match(t)){e=new Date(0);var r=0,i=0,o=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(r=c(n[9]+n[10]),i=c(n[9]+n[11])),o.call(e,c(n[1]),c(n[2])-1,c(n[3])),r=c(n[4]||0)-r,i=c(n[5]||0)-i,o=c(n[6]||0),n=Math.round(1e3*parseFloat("0."+(n[7]||0))),a.call(e,r,i,o,n)}return e}(n)),w(n)&&(n=new Date(n)),!x(n)||!isFinite(n.getTime()))return n;for(;i;)(s=$i.exec(i))?i=(u=R(u,s,1)).pop():(u.push(i),i=null);var d=n.getTimezoneOffset();return o&&(d=L(o,d),n=B(n,o,!0)),r(u,function(t){a=Ci[t],l+=a?a(n,e.DATETIME_FORMATS,d):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function dn(){return function(e,t){return m(t)&&(t=2),I(e,t)}}function fn(){return function(e,t,r){return t=1/0===Math.abs(Number(t))?Number(t):c(t),Kn(t)?e:(w(e)&&(e=e.toString()),n(e)?(r=0>(r=!r||isNaN(r)?0:c(r))?Math.max(0,e.length+r):r,0<=t?pn(e,r,r+t):0===r?pn(e,t,e.length):pn(e,Math.max(0,r+t),r)):e)}}function pn(e,t,n){return y(e)?e.slice(t,n):Un.call(e,t,n)}function hn(e){function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function i(e,t){var n=0,r=e.type;if(r===(i=t.type)){var i=e.value,o=t.value;"string"===r?(i=i.toLowerCase(),o=o.toLowerCase()):"object"===r&&(v(i)&&(i=e.index),v(o)&&(o=t.index)),i!==o&&(n=i<o?-1:1)}else n=r<i?-1:1;return n}return function(o,a,s,l){if(null==o)return o;if(!n(o))throw t("orderBy")("notarray",o);Zn(a)||(a=[a]),0===a.length&&(a=["+"]);var c=a.map(function(t){var n=1,r=f;if(C(t))r=t;else if(y(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t)).constant)){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}}),u=s?-1:1,d=C(l)?l:i;return(o=Array.prototype.map.call(o,function(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:c.map(function(n){var i=n.get(e);return n=typeof i,null===i?(n="string",i="null"):"object"===n&&(C(i.valueOf)&&r(i=i.valueOf())||h(i)&&r(i=i.toString())),{value:i,type:n,index:t}})}})).sort(function(e,t){for(var n=0,r=c.length;n<r;n++){var i=d(e.predicateValues[n],t.predicateValues[n]);if(i)return i*c[n].descending*u}return d(e.tieBreaker,t.tieBreaker)*u}),o.map(function(e){return e.value})}}function mn(e){return C(e)&&(e={link:e}),e.restrict=e.restrict||"AC",p(e)}function gn(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=Di,this.$$element=e,this.$$animate=r,vn(this)}function vn(e){e.$$classCache={},e.$$classCache[uo]=!(e.$$classCache[co]=e.$$element.hasClass(co))}function bn(e){function t(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function n(e,n,r){n=n?"-"+X(n,"-"):"",t(e,co+n,!0===r),t(e,uo+n,!1===r)}var r=e.set,i=e.unset;e.clazz.prototype.$setValidity=function(e,o,a){m(o)?(this.$pending||(this.$pending={}),r(this.$pending,e,a)):(this.$pending&&i(this.$pending,e,a),yn(this.$pending)&&(this.$pending=void 0)),T(o)?o?(i(this.$error,e,a),r(this.$$success,e,a)):(r(this.$error,e,a),i(this.$$success,e,a)):(i(this.$error,e,a),i(this.$$success,e,a)),this.$pending?(t(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,n(this,"",null)):(t(this,"ng-pending",!1),this.$valid=yn(this.$error),this.$invalid=!this.$valid,n(this,"",this.$valid)),n(this,e,o=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,o,this)}}function yn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function wn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function xn(e,t,n,r,i,o){var a=jn(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,c()})}var l,c=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val();e=e&&e.type,"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Qn(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,e)}};if(i.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||u(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),Ui[a]&&r.$$hasNativeValidators&&a===n.type&&t.on("keydown wheel mousedown",function(e){if(!l){var t=this.validity,n=t.badInput,r=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||c(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function Cn(e,t){return function(n,i){var o,a;if(x(n))return n;if(y(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Oi.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function $n(e,t,n,r){return function(i,o,a,s,l,c,u){function d(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function f(e){return g(e)&&!x(e)?n(e)||void 0:e}Sn(i,o,a,s),xn(0,o,a,s,l,c);var p,h,v,b=s&&s.$options.getOption("timezone");(s.$$parserName=e,s.$parsers.push(function(e){return s.$isEmpty(e)?null:t.test(e)?(e=n(e,p),b&&(e=B(e,b)),e):void 0}),s.$formatters.push(function(e){if(e&&!x(e))throw ho("datefmt",e);return d(e)?((p=e)&&b&&(p=B(p,b,!0)),u("date")(e,r,b)):(p=null,"")}),g(a.min)||a.ngMin)&&(s.$validators.min=function(e){return!d(e)||m(h)||n(e)>=h},a.$observe("min",function(e){h=f(e),s.$validate()}));(g(a.max)||a.ngMax)&&(s.$validators.max=function(e){return!d(e)||m(v)||n(e)<=v},a.$observe("max",function(e){v=f(e),s.$validate()}))}}function Sn(e,t,n,r){(r.$$hasNativeValidators=v(t[0].validity))&&r.$parsers.push(function(e){var n=t.prop("validity")||{};return n.badInput||n.typeMismatch?void 0:e})}function kn(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:Mi.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!w(t))throw ho("numfmt",t);t=t.toString()}return t})}function Tn(e){return g(e)&&!w(e)&&(e=parseFloat(e)),Kn(e)?void 0:e}function _n(e){var t=e.toString(),n=t.indexOf(".");return-1===n?-1<e&&1>e&&(e=/e-(\d+)$/.exec(t))?Number(e[1]):0:t.length-n-1}function En(e,t,n){if((0|(e=Number(e)))!==e||(0|t)!==t||(0|n)!==n){var r=Math.max(_n(e),_n(t),_n(n));e*=r=Math.pow(10,r),t*=r,n*=r}return 0==(e-t)%n}function Dn(e,t,n,r,i){if(g(r)){if(!(e=e(r)).constant)throw ho("constexpr",n,r);return e(t)}return i}function An(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[],r=0;e:for(;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function i(e){var t=e;return Zn(e)?t=e.map(i).join(" "):v(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function o(e){var t=e;if(Zn(e))t=e.map(o);else if(v(e)){var n=!1;t=Object.keys(e).filter(function(t){return t=e[t],!n&&m(t)&&(n=!0),t});n&&t.push(void 0)}return t}var a;return e="ngClass"+e,["$parse",function(s){return{restrict:"AC",link:function(l,c,u){function d(e,t){var n=[];return r(e,function(e){(0<t||v[e])&&(v[e]=(v[e]||0)+t,v[e]===+(0<t)&&n.push(e))}),n.join(" ")}function f(e){if(b===t){var r=p&&p.split(" "),i=e&&e.split(" "),o=n(r,i);r=n(i,r),o=d(o,-1),r=d(r,1);u.$addClass(r),u.$removeClass(o)}p=e}var p,h=":"===(m=u[e].trim()).charAt(0)&&":"===m.charAt(1),m=s(m,h?o:i),g=h?function(e){(e=i(e))!==p&&f(e)}:f,v=c.data("$classCounts"),b=!0;v||(v=te(),c.data("$classCounts",v)),"ngClass"!==e&&(a||(a=s("$index",function(e){return 1&e})),l.$watch(a,function(e){if(e===t){var n=d((n=p)&&n.split(" "),1);u.$addClass(n)}else n=d((n=p)&&n.split(" "),-1),u.$removeClass(n);b=e})),l.$watch(m,g,h)}}}]}function Nn(e,t,n,r,i,o,a,s,l){var c;this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Di,this.$options=mo,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,this.$$scope=e,this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=t,vn(this),(c=this).$$scope.$watch(function(){var e=c.$$ngModelGet(c.$$scope);if(e!==c.$modelValue&&(c.$modelValue==c.$modelValue||e==e)){c.$modelValue=c.$$rawModelValue=e,c.$$parserValid=void 0;for(var t=c.$formatters,n=t.length,r=e;n--;)r=t[n](r);c.$viewValue!==r&&(c.$$updateEmptyClasses(r),c.$viewValue=c.$$lastCommittedViewValue=r,c.$render(),c.$$runValidators(c.$modelValue,c.$viewValue,d))}return e})}function Rn(e){this.$$options=e}function On(e,t){r(t,function(t,n){g(e[n])||(e[n]=t)})}var Pn,In,Mn,Ln,Bn=/^\/(.+)\/([a-z]*)$/,Fn=Object.prototype.hasOwnProperty,jn=function(e){return y(e)?e.toLowerCase():e},zn=function(e){return y(e)?e.toUpperCase():e},Un=[].slice,Hn=[].splice,qn=[].push,Vn=Object.prototype.toString,Wn=Object.getPrototypeOf,Yn=t("ng"),Gn=e.angular||(e.angular={}),Xn=0;Pn=e.document.documentMode;var Kn=Number.isNaN||function(e){return e!=e};d.$inject=[],f.$inject=[];var Zn=Array.isArray,Jn=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Qn=function(e){return y(e)?e.trim():e},er=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},tr=function(){if(!g(tr.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");tr.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{t=tr;try{new Function(""),n=!1}catch(e){n=!0}t.rules={noUnsafeEval:n,noInlineStyle:!1}}}return tr.rules},nr=function(){if(g(nr.name_))return nr.name_;var t,n,r,i,o=ir.length;for(n=0;n<o;++n)if(r=ir[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return nr.name_=i},rr=/:/g,ir=["ng-","data-ng-","ng:","x-ng-"],or=function(e){if(!e.currentScript)return!0;var t=e.currentScript.getAttribute("src"),n=e.createElement("a");if(n.href=t,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}(e.document),ar=/[A-Z]/g,sr=!1,lr=3,cr={full:"1.6.1",major:1,minor:6,dot:1,codeName:"promise-rectification"};ce.expando="ng339";var ur=ce.cache={},dr=1;ce._data=function(e){return this.cache[e[this.expando]]||{}};var fr=/-([a-z])/g,pr=/^-ms-/,hr={mouseleave:"mouseout",mouseenter:"mouseover"},mr=t("jqLite"),gr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,vr=/<|&#?\w+;/,br=/<([\w:-]+)/,yr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wr.optgroup=wr.option,wr.tbody=wr.tfoot=wr.colgroup=wr.caption=wr.thead,wr.th=wr.td;var xr=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Cr=ce.prototype={ready:Se,toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return In(0<=e?this[e]:this[this.length+e])},length:0,push:qn,sort:[].sort,splice:[].splice},$r={};r("multiple selected checked disabled readOnly required open".split(" "),function(e){$r[jn(e)]=e});var Sr={};r("input select option textarea button form details".split(" "),function(e){Sr[e]=!0});var kr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};r({data:me,removeData:pe,hasData:function(e){for(var t in ur[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)pe(e[t])}},function(e,t){ce[t]=e}),r({data:me,inheritedData:xe,scope:function(e){return In.data(e,"$scope")||xe(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return In.data(e,"$isolateScope")||In.data(e,"$isolateScopeNoTemplate")},controller:we,injector:function(e){return xe(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:ge,css:function(e,t,n){if(t=ae(t.replace(pr,"ms-")),!g(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){if((r=e.nodeType)!==lr&&2!==r&&8!==r&&e.getAttribute){var r=jn(t),i=$r[r];if(!g(n))return e=e.getAttribute(t),i&&null!==e&&(e=r),null===e?void 0:e;null===n||!1===n&&i?e.removeAttribute(t):e.setAttribute(t,i?r:n)}},prop:function(e,t,n){if(!g(n))return e[t];e[t]=n},text:function(){function e(e,t){if(m(t)){var n=e.nodeType;return 1===n||n===lr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(m(t)){if(e.multiple&&"select"===E(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(m(t))return e.innerHTML;de(e,!0),e.innerHTML=t},empty:Ce},function(e,t){ce.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Ce&&m(2===e.length&&e!==ge&&e!==we?t:n)){if(v(t)){for(r=0;r<o;r++)if(e===me)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(o=m(r=e.$dv)?Math.min(o,1):o,i=0;i<o;i++){var a=e(this[i],t,n);r=r?r+a:a}return r}for(r=0;r<o;r++)e(this[r],t,n);return this}}),r({removeData:pe,on:function(e,t,n,r){if(g(r))throw mr("onargs");if(se(e)){var i=(r=he(e,!0)).events,o=r.handle;o||(o=r.handle=(c=i,(u=function(e,t){e.isDefaultPrevented=function(){return e.defaultPrevented};var n=c[t||e.type],r=n?n.length:0;if(r){if(m(e.immediatePropagationStopped)){var i=e.stopImmediatePropagation;e.stopImmediatePropagation=function(){e.immediatePropagationStopped=!0,e.stopPropagation&&e.stopPropagation(),i&&i.call(e)}}e.isImmediatePropagationStopped=function(){return!0===e.immediatePropagationStopped};var o=n.specialHandlerWrapper||Te;1<r&&(n=re(n));for(var a=0;a<r;a++)e.isImmediatePropagationStopped()||o(l,e,n[a])}}).elem=l=e,u));for(var a=(r=0<=t.indexOf(" ")?t.split(" "):[t]).length,s=function(t,r,a){var s=i[t];s||((s=i[t]=[]).specialHandlerWrapper=r,"$destroy"===t||a||e.addEventListener(t,o)),s.push(n)};a--;)t=r[a],hr[t]?(s(hr[t],_e),s(t,void 0,!0)):s(t)}var l,c,u},off:fe,one:function(e,t,n){(e=In(e)).on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;de(e),r(new ce(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){if(1===(n=e.nodeType)||11===n)for(var n=0,r=(t=new ce(t)).length;n<r;n++)e.appendChild(t[n])},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;r(new ce(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){var n=In(t).eq(0).clone()[0],r=e.parentNode;r&&r.replaceChild(n,e),n.appendChild(e)},remove:$e,detach:function(e){$e(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r)for(var i=0,o=(t=new ce(t)).length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:be,removeClass:ve,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;m(r)&&(r=!ge(e,t)),(r?be:ve)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ue,triggerHandler:function(e,t,n){var i,o,a=t.type||t,l=he(e);(l=(l=l&&l.events)&&l[a])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:d,type:a,target:e},t.type&&(i=s(i,t)),t=re(l),o=n?[i].concat(n):[i],r(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){ce.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)m(i)?g(i=e(this[o],t,n,r))&&(i=In(i)):ye(i,e(this[o],t,n,r));return g(i)?i:this}}),ce.prototype.bind=ce.prototype.on,ce.prototype.unbind=ce.prototype.off,Ae.prototype={put:function(e,t){this[De(e,this.nextUid)]=t},get:function(e){return this[De(e,this.nextUid)]},remove:function(e){var t=this[e=De(e,this.nextUid)];return delete this[e],t}};var Tr=[function(){this.$get=[function(){return Ae}]}],_r=/^([^(]+?)=>/,Er=/^[^(]*\(\s*([^)]*)\)/m,Dr=/,/,Ar=/^\s*(_?)(\S+?)\1\s*$/,Nr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Rr=t("$injector");Re.$$annotate=function(e,t,n){var i,o;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw y(n)&&n||(n=e.name||((o=Ne(o=e))?"function("+(o[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),Rr("strictdi",n);r((t=Ne(e))[1].split(Dr),function(e){e.replace(Ar,function(e,t,n){i.push(n)})})}e.$inject=i}}else Zn(e)?(Z(e[t=e.length-1],"fn"),i=e.slice(0,t)):Z(e,"fn",!0);return i};var Or=t("$animate"),Pr=function(){this.$get=d},Ir=function(){var e=new Ae,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(e,t,n){var i=!1;return t&&r(t=y(t)?t.split(" "):Zn(t)?t:[],function(t){t&&(i=!0,e[t]=n)}),i}function a(){r(t,function(t){var n=e.get(t);if(n){var i=function(e){y(e)&&(e=e.split(" "));var t=te();return r(e,function(e){e.length&&(t[e]=!0)}),t}(t.attr("class")),o="",a="";r(n,function(e,t){e!==!!i[t]&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),r(t,function(e){o&&be(e,o),a&&ve(e,a)}),e.remove(t)}}),t.length=0}return{enabled:d,on:d,off:d,pin:d,push:function(r,s,l,c){return c&&c(),(l=l||{}).from&&r.css(l.from),l.to&&r.css(l.to),(l.addClass||l.removeClass)&&(s=l.addClass,c=l.removeClass,s=o(l=e.get(r)||{},s,!0),c=o(l,c,!1),(s||c)&&(e.put(r,l),t.push(r),1===t.length&&i.$$postDigest(a))),(r=new n).complete(),r}}}]},Mr=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Or("notcsel",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Or("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r;e:{for(r=0;r<n.length;r++){var i=n[r];if(1===i.nodeType){r=i;break e}}r=void 0}!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&In(r),i=i&&In(i),t(n,r=r||i.parent(),i),e.push(n,"enter",Ie(o))},move:function(n,r,i,o){return r=r&&In(r),i=i&&In(i),t(n,r=r||i.parent(),i),e.push(n,"move",Ie(o))},leave:function(t,n){return e.push(t,"leave",Ie(n),function(){t.remove()})},addClass:function(t,n,r){return(r=Ie(r)).addClass=Pe(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return(r=Ie(r)).removeClass=Pe(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return(i=Ie(i)).addClass=Pe(i.addClass,n),i.removeClass=Pe(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return(o=Ie(o)).from=o.from?s(o.from,n):n,o.to=o.to?s(o.to,r):r,o.tempClasses=Pe(o.tempClasses,i||"ng-inline-animate"),e.push(t,"animate",o)}}}]}],Lr=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),1<n.length||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Br=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,i,o){function a(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){i()?o(e,0,!1):t(e)},this._state=0}return a.chain=function(e,t){var n=0;!function r(){n===e.length?t(!0):e[n](function(e){!1===e?t(!1):(n++,r())})}()},a.all=function(e,t){function n(n){o=o&&n,++i===e.length&&t(o)}var i=0,o=!0;r(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:d,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},a}]},Fr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o.addClass&&(t.addClass(o.addClass),o.addClass=null),o.removeClass&&(t.removeClass(o.removeClass),o.removeClass=null),o.to&&(t.css(o.to),o.to=null),a||s.complete(),a=!0}),s}var o=r||{};o.$$prepared||(o=A(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(t.css(o.from),o.from=null);var a,s=new n;return{start:i,end:i}}}]},jr=t("$compile"),zr=new function(){};Fe.$inject=["$provide","$$sanitizeUriProvider"],je.prototype.isFirstChange=function(){return this.previousValue===zr};var Ur=/^((?:x|data)[:\-_])/i,Hr=/[:\-_]+(.)/g,qr=t("$controller"),Vr=/^(\S+)(\s+as\s+([\w$]+))?$/,Wr=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof In&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Yr="application/json",Gr={"Content-Type":Yr+";charset=utf-8"},Xr=/^\[|^\{(?!\{)/,Kr={"[":/]$/,"{":/}$/},Zr=/^\)]\}',?\n/,Jr=t("$http"),Qr=Gn.$interpolateMinErr=t("$interpolate");Qr.throwNoconcat=function(e){throw Qr("noconcat",e)},Qr.interr=function(e,t){return Qr("interr",e,t.toString())};var ei=function(){this.$get=["$window",function(e){var t=e.angular.callbacks,n={};return{createCallback:function(e){var r,i="angular.callbacks."+(e="_"+(t.$$counter++).toString(36)),o=((r=function(e){r.data=e,r.called=!0}).id=e,r);return n[i]=t[e]=o,i},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){delete t[n[e].id],delete n[e]}}}]},ti=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,ni={http:80,https:443,ftp:21},ri=t("$location"),ii=/^\s*[\\/]{2,}/,oi={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:gt("$$absUrl"),url:function(e){if(m(e))return this.$$url;var t=ti.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:gt("$$protocol"),host:gt("$$host"),port:gt("$$port"),path:vt("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(y(e)||w(e))e=e.toString(),this.$$search=z(e);else{if(!v(e))throw ri("isrcharg");r(e=A(e,{}),function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:m(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:vt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([mt,ht,pt],function(e){e.prototype=Object.create(oi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==pt||!this.$$html5)throw ri("nostate");return this.$$state=m(t)?null:t,this}});var ai=t("$parse"),si={}.constructor.prototype.valueOf,li=te();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){li[e]=!0});var ci={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ui=function(e){this.options=e};ui.prototype={constructor:ui,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(e=this.text.charAt(this.index))||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),r=li[t],i=li[n];li[e]||r||i?(e=i?n:r?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return 55296<=n&&56319>=n&&56320<=r&&57343>=r?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=g(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,ai("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=jn(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);r=r+o;if(i)"u"===o?((i=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=ci[o]||o,i=!1;else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var di=function(e,t){this.lexer=e,this.options=t};di.Program="Program",di.ExpressionStatement="ExpressionStatement",di.AssignmentExpression="AssignmentExpression",di.ConditionalExpression="ConditionalExpression",di.LogicalExpression="LogicalExpression",di.BinaryExpression="BinaryExpression",di.UnaryExpression="UnaryExpression",di.CallExpression="CallExpression",di.MemberExpression="MemberExpression",di.Identifier="Identifier",di.Literal="Literal",di.ArrayExpression="ArrayExpression",di.Property="Property",di.ObjectExpression="ObjectExpression",di.ThisExpression="ThisExpression",di.LocalsExpression="LocalsExpression",di.NGValueParameter="NGValueParameter",di.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:di.Program,body:e}},expressionStatement:function(){return{type:di.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!kt(e))throw ai("lval");e={type:di.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:di.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:di.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:di.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:di.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:di.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:di.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:di.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:di.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=A(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:di.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:di.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:di.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:di.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:di.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:di.Identifier,name:e.text}},constant:function(){return{type:di.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:di.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:di.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:di.ObjectExpression,properties:t}},throwError:function(e,t){throw ai("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw ai("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw ai("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=(e=this.tokens[e]).text;if(o===t||o===n||o===r||o===i||!(t||n||r||i))return e}return!1},expect:function(e,t,n,r){return!!(e=this.peek(e,t,n,r))&&(this.tokens.shift(),e)},selfReferential:{this:{type:di.ThisExpression},$locals:{type:di.LocalsExpression}}},Et.prototype={compile:function(e){var t=this;e=this.astBuilder.ast(e),this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},$t(e,t.$filter);var n,i="";return this.stage="assign",(n=Tt(e))&&(this.state.computing="assign",i=this.nextId(),this.recurse(n,i),this.return_(i),i="fn.assign="+this.generateFunction("assign","s,v,l")),n=St(e.body),t.stage="inputs",r(n,function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}},t.state.computing=r;var i=t.nextId();t.recurse(e,i),t.return_(i),t.state.inputs.push(r),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e),i='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",i=new Function("$filter","getStringValue","ifDefined","plus",i)(this.$filter,wt,xt,Ct),this.state=this.stage=void 0,i.literal=_t(e),i.constant=e.constant,i},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,o,a){var s,l,c,u,f,p=this;if(i=i||d,!a&&g(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,o,!0));else switch(e.type){case di.Program:r(e.body,function(t,n){p.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?p.current().body.push(l,";"):p.return_(l)});break;case di.Literal:u=this.escape(e.value),this.assign(t,u),i(t||u);break;case di.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),u=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,u),i(u);break;case di.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),u="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,u),i(u);break;case di.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),i(t);break;case di.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),i(t);break;case di.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.isNull(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),i(t);break;case di.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,s,void 0,function(){p.if_(p.notNull(s),function(){e.computed?(l=p.nextId(),p.recurse(e.property,l),p.getStringValue(l),o&&1!==o&&p.if_(p.not(p.computedMember(s,l)),p.lazyAssign(p.computedMember(s,l),"{}")),u=p.computedMember(s,l),p.assign(t,u),n&&(n.computed=!0,n.name=l)):(o&&1!==o&&p.if_(p.isNull(p.nonComputedMember(s,e.property.name)),p.lazyAssign(p.nonComputedMember(s,e.property.name),"{}")),u=p.nonComputedMember(s,e.property.name),p.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){p.assign(t,"undefined")}),i(t)},!!o);break;case di.CallExpression:t=t||this.nextId(),e.filter?(l=p.filter(e.callee.name),c=[],r(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),c.push(t)}),u=l+"("+c.join(",")+")",p.assign(t,u),i(t)):(l=p.nextId(),s={},c=[],p.recurse(e.callee,l,s,function(){p.if_(p.notNull(l),function(){r(e.arguments,function(t){p.recurse(t,e.constant?void 0:p.nextId(),void 0,function(e){c.push(e)})}),u=s.name?p.member(s.context,s.name,s.computed)+"("+c.join(",")+")":l+"("+c.join(",")+")",p.assign(t,u)},function(){p.assign(t,"undefined")}),i(t)}));break;case di.AssignmentExpression:l=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(e.right,l),u=p.member(s.context,s.name,s.computed)+e.operator+l,p.assign(t,u),i(t||u)})},1);break;case di.ArrayExpression:c=[],r(e.elements,function(t){p.recurse(t,e.constant?void 0:p.nextId(),void 0,function(e){c.push(e)})}),u="["+c.join(",")+"]",this.assign(t,u),i(t||u);break;case di.ObjectExpression:c=[],f=!1,r(e.properties,function(e){e.computed&&(f=!0)}),f?(t=t||this.nextId(),this.assign(t,"{}"),r(e.properties,function(e){e.computed?(s=p.nextId(),p.recurse(e.key,s)):s=e.key.type===di.Identifier?e.key.name:""+e.key.value,l=p.nextId(),p.recurse(e.value,l),p.assign(p.member(t,s,e.computed),l)})):(r(e.properties,function(t){p.recurse(t.value,e.constant?void 0:p.nextId(),void 0,function(e){c.push(p.escape(t.key.type===di.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+c.join(",")+"}",this.assign(t,u)),i(t||u);break;case di.ThisExpression:this.assign(t,"s"),i(t||"s");break;case di.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case di.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(y(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw ai("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Dt.prototype={compile:function(e){var t,n,i,o=this;$t(e=this.astBuilder.ast(e),o.$filter),(t=Tt(e))&&(n=this.recurse(t)),(t=St(e.body))&&(i=[],r(t,function(e,t){var n=o.recurse(e);e.input=n,i.push(n),e.watchId=t}));var a=[];return r(e.body,function(e){a.push(o.recurse(e.expression))}),t=0===e.body.length?d:1===e.body.length?a[0]:function(e,t){var n;return r(a,function(r){n=r(e,t)}),n},n&&(t.assign=function(e,t,r){return n(e,r,t)}),i&&(t.inputs=i),t.literal=_t(e),t.constant=e.constant,t},recurse:function(e,t,n){var i,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case di.Literal:return this.value(e.value,t);case di.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case di.BinaryExpression:case di.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case di.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case di.Identifier:return s.identifier(e.name,t,n);case di.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,n):this.nonComputedMember(i,o,t,n);case di.CallExpression:return a=[],r(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,r,i){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,r,i));return e=o.apply(void 0,s,i),t?{context:void 0,name:void 0,value:e}:e}:function(e,n,r,i){var s,l=o(e,n,r,i);if(null!=l.value){s=[];for(var c=0;c<a.length;++c)s.push(a[c](e,n,r,i));s=l.value.apply(l.context,s)}return t?{value:s}:s};case di.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,r,a){var s=i(e,n,r,a);return e=o(e,n,r,a),s.context[s.name]=e,t?{value:e}:e};case di.ArrayExpression:return a=[],r(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case di.ObjectExpression:return a=[],r(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===di.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,r,i)]=a[s].value(e,n,r,i):o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case di.ThisExpression:return function(e){return t?{value:e}:e};case di.LocalsExpression:return function(e,n){return t?{value:n}:n};case di.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){return n=g(n=e(n,r,i,o))?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,r,i,o){return n=g(n=e(n,r,i,o))?-n:-0,t?{value:n}:n}},"unary!":function(e,t){return function(n,r,i,o){return n=!e(n,r,i,o),t?{value:n}:n}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a);return s=Ct(s,r=t(r,i,o,a)),n?{value:s}:s}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a);return r=t(r,i,o,a),s=(g(s)?s:0)-(g(r)?r:0),n?{value:s}:s}},"binary*":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)*t(r,i,o,a),n?{value:r}:r}},"binary/":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)/t(r,i,o,a),n?{value:r}:r}},"binary%":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)%t(r,i,o,a),n?{value:r}:r}},"binary===":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)===t(r,i,o,a),n?{value:r}:r}},"binary!==":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)!==t(r,i,o,a),n?{value:r}:r}},"binary==":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)==t(r,i,o,a),n?{value:r}:r}},"binary!=":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)!=t(r,i,o,a),n?{value:r}:r}},"binary<":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)<t(r,i,o,a),n?{value:r}:r}},"binary>":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)>t(r,i,o,a),n?{value:r}:r}},"binary<=":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)<=t(r,i,o,a),n?{value:r}:r}},"binary>=":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)>=t(r,i,o,a),n?{value:r}:r}},"binary&&":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)&&t(r,i,o,a),n?{value:r}:r}},"binary||":function(e,t,n){return function(r,i,o,a){return r=e(r,i,o,a)||t(r,i,o,a),n?{value:r}:r}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){return i=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s),r?{value:i}:i}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(r,i,o,a){return r=i&&e in i?i:r,n&&1!==n&&r&&null==r[e]&&(r[e]={}),i=r?r[e]:void 0,t?{context:r,name:e,value:i}:i}},computedMember:function(e,t,n,r){return function(i,o,a,s){var l,c,u=e(i,o,a,s);return null!=u&&(l=t(i,o,a,s),l+="",r&&1!==r&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,n,r){return function(i,o,a,s){return i=e(i,o,a,s),r&&1!==r&&i&&null==i[t]&&(i[t]={}),o=null!=i?i[t]:void 0,n?{context:i,name:t,value:o}:o}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var fi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new di(e,n),this.astCompiler=n.csp?new Dt(this.ast,t):new Et(this.ast,t)};fi.prototype={constructor:fi,parse:function(e){return this.astCompiler.compile(e)}};var pi=t("$sce"),hi={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},mi=/_([a-z])/g,gi=t("$compile"),vi=e.document.createElement("a"),bi=Vt(e.location.href);Gt.$inject=["$document"],Kt.$inject=["$provide"];var yi=22,wi=".",xi="0";en.$inject=["$locale"],tn.$inject=["$locale"];var Ci={yyyy:on("FullYear",4,0,!1,!0),yy:on("FullYear",2,0,!0,!0),y:on("FullYear",1,0,!1,!0),MMMM:an("Month"),MMM:an("Month",!0),MM:on("Month",2,1),M:on("Month",1,1),LLLL:an("Month",!1,!0),dd:on("Date",2),d:on("Date",1),HH:on("Hours",2),H:on("Hours",1),hh:on("Hours",2,-12),h:on("Hours",1,-12),mm:on("Minutes",2),m:on("Minutes",1),ss:on("Seconds",2),s:on("Seconds",1),sss:on("Milliseconds",3),EEEE:an("Day"),EEE:an("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return(0<=(e=-1*n)?"+":"")+(rn(Math[0<e?"floor":"ceil"](e/60),2)+rn(Math.abs(e%60),2))},ww:ln(2),w:ln(1),G:cn,GG:cn,GGG:cn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},$i=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Si=/^-?\d+$/;un.$inject=["$locale"];var ki=p(jn),Ti=p(zn);hn.$inject=["$parse"];var _i=p({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Vn.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Ei={};r($r,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!==e){var r=ze("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,0,i)}),Ei[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(kr,function(e,t){Ei[t]=function(){return{priority:100,link:function(e,n,r){"ngPattern"===t&&"/"===r.ngPattern.charAt(0)&&(n=r.ngPattern.match(Bn))?r.$set("ngPattern",new RegExp(n[1],n[2])):e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=ze("ng-"+e);Ei[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Vn.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){t?(i.$set(a,t),Pn&&o&&r.prop(o,i[a])):"href"===e&&i.$set(a,null)})}}}});var Di={$addControl:d,$$renameControl:function(e,t){e.$name=t},$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d,$setSubmitted:d};gn.$inject=["$element","$attrs","$scope","$animate","$interpolate"],gn.prototype={$rollbackViewValue:function(){r(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){r(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){J(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],r(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),r(this.$error,function(t,n){this.$setValidity(n,null,e)},this),r(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),D(this.$$controls,e),e.$$parentForm=Di},$setDirty:function(){this.$$animate.removeClass(this.$$element,fo),this.$$animate.addClass(this.$$element,po),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,fo,po+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,r(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){r(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},bn({clazz:gn,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(D(r,n),0===r.length&&delete e[t])}});var Ai=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||d}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:gn,compile:function(n,i){n.addClass(fo).addClass(co);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,a){var l=a[0];if(!("action"in i)){var c=function(t){e.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",c),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",c)},0,!1)})}(a[1]||l.$$parentForm).$addControl(l);var u=o?r(l.$name):d;o&&(u(e,l),i.$observe(o,function(t){l.$name!==t&&(u(e,void 0),l.$$parentForm.$$renameControl(l,t),(u=r(l.$name))(e,l))})),n.on("$destroy",function(){l.$$parentForm.$removeControl(l),u(e,void 0),s(l,Di)})}}}}}]},Ni=Ai(),Ri=Ai(!0),Oi=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Pi=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ii=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Mi=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Li=/^(\d{4,})-(\d{2})-(\d{2})$/,Bi=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Fi=/^(\d{4,})-W(\d\d)$/,ji=/^(\d{4,})-(\d\d)$/,zi=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ui=te();r(["date","datetime-local","month","time","week"],function(e){Ui[e]=!0});var Hi={text:function(e,t,n,r,i,o){xn(0,t,n,r,i,o),wn(r)},date:$n("date",Li,Cn(Li,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":$n("datetimelocal",Bi,Cn(Bi,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:$n("time",zi,Cn(zi,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:$n("week",Fi,function(e,t){if(x(e))return e;if(y(e)){Fi.lastIndex=0;var n=Fi.exec(e);if(n){var r=+n[1],i=+n[2],o=n=0,a=0,s=0,l=sn(r);i=7*(i-1);return t&&(n=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),s=t.getMilliseconds()),new Date(r,0,l.getDate()+i,n,o,a,s)}}return NaN},"yyyy-Www"),month:$n("month",ji,Cn(ji,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o){var a,s,l;(Sn(0,t,0,r),kn(r),xn(0,t,n,r,i,o),(g(n.min)||n.ngMin)&&(r.$validators.min=function(e){return r.$isEmpty(e)||m(a)||e>=a},n.$observe("min",function(e){a=Tn(e),r.$validate()})),(g(n.max)||n.ngMax)&&(r.$validators.max=function(e){return r.$isEmpty(e)||m(s)||e<=s},n.$observe("max",function(e){s=Tn(e),r.$validate()})),g(n.step)||n.ngStep)&&(r.$validators.step=function(e,t){return r.$isEmpty(t)||m(l)||En(t,a||0,l)},n.$observe("step",function(e){l=Tn(e),r.$validate()}))},url:function(e,t,n,r,i,o){xn(0,t,n,r,i,o),wn(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Pi.test(n)}},email:function(e,t,n,r,i,o){xn(0,t,n,r,i,o),wn(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Ii.test(n)}},radio:function(e,t,n,r){var i=!n.ngTrim||"false"!==Qn(n.ngTrim);m(n.name)&&t.attr("name",++Xn),t.on("click",function(e){var o;t[0].checked&&(o=n.value,i&&(o=Qn(o)),r.$setViewValue(o,e&&e.type))}),r.$render=function(){var e=n.value;i&&(e=Qn(e)),t[0].checked=e===r.$viewValue},n.$observe("value",r.$render)},range:function(e,t,n,r,i,o){function a(e,r){t.attr(e,n[e]),n.$observe(e,r)}Sn(0,t,0,r),kn(r),xn(0,t,n,r,i,o);var s=r.$$hasNativeValidators&&"range"===t[0].type,l=s?0:void 0,c=s?100:void 0,u=s?1:void 0,d=t[0].validity;e=g(n.min),i=g(n.max),o=g(n.step);var f=r.$render;r.$render=s&&g(d.rangeUnderflow)&&g(d.rangeOverflow)?function(){f(),r.$setViewValue(t.val())}:f,e&&(r.$validators.min=s?function(){return!0}:function(e,t){return r.$isEmpty(t)||m(l)||t>=l},a("min",function(e){l=Tn(e),Kn(r.$modelValue)||(s?(e=t.val(),l>e&&(e=l,t.val(e)),r.$setViewValue(e)):r.$validate())})),i&&(r.$validators.max=s?function(){return!0}:function(e,t){return r.$isEmpty(t)||m(c)||t<=c},a("max",function(e){c=Tn(e),Kn(r.$modelValue)||(s?(e=t.val(),c<e&&(t.val(c),e=c<l?l:c),r.$setViewValue(e)):r.$validate())})),o&&(r.$validators.step=s?function(){return!d.stepMismatch}:function(e,t){return r.$isEmpty(t)||m(u)||En(t,l||0,u)},a("step",function(e){u=Tn(e),Kn(r.$modelValue)||(s&&r.$viewValue!==t.val()?r.$setViewValue(t.val()):r.$validate())}))},checkbox:function(e,t,n,r,i,o,a,s){var l=Dn(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Dn(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return N(e,l)}),r.$parsers.push(function(e){return e?l:c})},hidden:d,button:d,submit:d,reset:d,file:d},qi=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Hi[jn(a.type)]||Hi.text)(i,o,a,s[0],t,e,n,r)}}}}],Vi=/^(true|false|\d+)$/,Wi=function(){return{restrict:"A",priority:100,compile:function(e,t){return Vi.test(t.ngValue)?function(e,t,n){e=e.$eval(n.ngValue),t.prop("value",e),n.$set("value",e)}:function(e,t,n){e.$watch(n.ngValue,function(e){t.prop("value",e),n.$set("value",e)})}}}},Yi=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=ne(e)})}}}}],Gi=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){n=e(r.attr(i.$attr.ngBindTemplate)),t.$$addBindingInfo(r,n.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=m(e)?"":e})}}}}],Xi=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],Ki=p({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Zi=An("",!0),Ji=An("Odd",0),Qi=An("Even",1),eo=mn({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),to=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],no={},ro={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=ze("ng-"+e);no[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};ro[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var io=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,c;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=ee(s.clone),e.leave(c).done(function(e){!1!==e&&(c=null)}),s=null))})}}}],oo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Gn.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,c,u){var d,f,p,h=0,m=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).done(function(e){!1!==e&&(f=null)}),f=p,p=null)};r.$watch(o,function(o){var l=function(e){!1===e||!g(s)||s&&!r.$eval(s)||t()},f=++h;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&f===h){var t=r.$new();c.template=e,e=u(t,function(e){m(),n.enter(e,null,i).done(l)}),p=e,(d=t).$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||f!==h||(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),c.template=null)})}}}}],ao=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){Vn.call(r[0]).match(/SVG/)?(r.empty(),t(le(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),t(r.contents())(n))}}}],so=mn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),lo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var o=n.ngList||", ",a="false"!==n.ngTrim,s=a?Qn(o):o;i.$parsers.push(function(e){if(!m(e)){var t=[];return e&&r(e.split(s),function(e){e&&t.push(a?Qn(e):e)}),t}}),i.$formatters.push(function(e){if(Zn(e))return e.join(o)}),i.$isEmpty=function(e){return!e||!e.length}}}},co="ng-valid",uo="ng-invalid",fo="ng-pristine",po="ng-dirty",ho=t("ngModel");Nn.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Nn.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return C(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){C(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw ho("nonassign",this.$$attr.ngModel,F(this.$$element))},$render:d,$isEmpty:function(e){return m(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,po),this.$$animate.addClass(this.$$element,fo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,fo),this.$$animate.addClass(this.$$element,po),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!Kn(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function i(e,t){u===f.$$currentValidationRunId&&f.$setValidity(e,t)}function o(e){u===f.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var a,s,l,c,u=this.$$currentValidationRunId,f=this;c=f.$$parserName||"parse",(m(f.$$parserValid)?(i(c,null),1):(f.$$parserValid||(r(f.$validators,function(e,t){i(t,null)}),r(f.$asyncValidators,function(e,t){i(t,null)})),i(c,f.$$parserValid),f.$$parserValid))?(l=!0,r(f.$validators,function(n,r){var o=Boolean(n(e,t));l=l&&o,i(r,o)}),l||(r(f.$asyncValidators,function(e,t){i(t,null)}),0)?(a=[],s=!0,r(f.$asyncValidators,function(n,r){var o=n(e,t);if(!o||!C(o.then))throw ho("nopromise",o);i(r,void 0),a.push(o.then(function(){i(r,!0)},function(){s=!1,i(r,!1)}))}),a.length?f.$$q.all(a).then(function(){o(s)},d):o(!0)):o(!1)):o(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!m(e)||void 0)for(var n=0;n<this.$parsers.length;n++)if(m(e=this.$parsers[n](e))){this.$$parserValid=!1;break}Kn(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");this.$$rawModelValue=e,i&&(this.$modelValue=e,t.$modelValue!==r&&t.$$writeModelToScope()),this.$$runValidators(e,this.$$lastCommittedViewValue,function(n){i||(t.$modelValue=n?e:void 0,t.$modelValue!==r&&t.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),r(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");w(t[e])?t=t[e]:w(t.default)&&(t=t.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;0<t?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})}},bn({clazz:Nn,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var mo,go=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Nn,priority:1,compile:function(t){return t.addClass(fo).addClass("ng-untouched").addClass(co),{pre:function(e,t,n,r){var i=r[0];t=r[1]||i.$$parentForm,(r=r[2])&&(i.$options=r.$options),i.$$initGetterSetters(),t.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(o):t.$apply(o))})}}}}}],vo=/(\s+|^)default(\s+|$)/;Rn.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return r(e=s({},e),function(n,r){"$inherit"===n?"*"===r?t=!0:(e[r]=this.$$options[r],"updateOn"===r&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(e.updateOnDefault=!1,e[r]=Qn(n.replace(vo,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],On(e,this.$$options)),On(e,mo.$$options),new Rn(e)}},mo=new Rn({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var bo=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:mo,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},yo=mn({terminal:!0,priority:1e3}),wo=t("ngOptions"),xo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Co=["$compile","$document","$parse",function(t,i,o){var a=e.document.createElement("option"),s=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=d},post:function(e,l,c,u){function d(e){var t=(e=w.getOptionFromViewValue(e))&&e.element;return t&&!t.selected&&(t.selected=!0),e}function f(){var e=w&&p.readValue();if(w)for(var t=w.items.length-1;0<=t;t--){var n=w.items[t];g(n.group)?$e(n.element.parentNode):$e(n.element)}w=x.getOptions();var r={};y&&l.prepend(p.emptyOption),w.items.forEach(function(e){var t,n,i;if(g(e.group)){(t=r[e.group])||(t=s.cloneNode(!1),C.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t);var o=a.cloneNode(!1)}else t=C,o=a.cloneNode(!1);t.appendChild(o),i=o,(n=e).element=i,i.disabled=n.disabled,n.label!==i.label&&(i.label=n.label,i.textContent=n.label),i.value=n.selectValue}),l[0].appendChild(C),h.$render(),h.$isEmpty(e)||(t=p.readValue(),(x.trackBy||m?N(e,t):e===t)||(h.$setViewValue(t),h.$render()))}var p=u[0],h=u[1],m=c.multiple;u=0;for(var v=l.children(),b=v.length;u<b;u++)if(""===v[u].value){p.hasEmptyOption=!0,p.emptyOption=v.eq(u);break}var y=!!p.emptyOption;In(a.cloneNode(!1)).val("?");var w,x=function(e,t,r){function i(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!c&&n(e))t=e;else for(var r in t=[],e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r);return t}var s=e.match(xo);if(!s)throw wo("iexp",e,F(t));var l=s[5]||s[7],c=s[6];e=/ as /.test(s[0])&&s[1];var u=s[9];t=o(s[2]?s[1]:l);var d=e&&o(e)||t,f=u&&o(u),p=u?function(e,t){return f(r,t)}:function(e){return De(e)},h=function(e,t){return p(e,w(e,t))},m=o(s[2]||s[1]),g=o(s[3]||""),v=o(s[4]||""),b=o(s[8]),y={},w=c?function(e,t){return y[c]=t,y[l]=e,y}:function(e){return y[l]=e,y};return{trackBy:u,getTrackByValue:h,getWatchables:o(b,function(e){for(var t=[],n=a(e=e||[]),i=n.length,o=0;o<i;o++){var l=e[c=e===n?o:n[o]],c=w(l,c);l=p(l,c),t.push(l),(s[2]||s[1])&&(l=m(r,c),t.push(l)),s[4]&&(c=v(r,c),t.push(c))}return t}),getOptions:function(){for(var e=[],t={},n=b(r)||[],o=a(n),s=o.length,l=0;l<s;l++){var c=n===o?l:o[l],f=w(n[c],c),y=d(r,f);y=new i(c=p(y,f),y,m(r,f),g(r,f),f=v(r,f)),e.push(y),t[c]=y}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[h(e)]},getViewValueFromOption:function(e){return u?A(e.viewValue):e.viewValue}}}}}(c.ngOptions,l,e),C=i[0].createDocumentFragment();p.generateUnknownOptionValue=function(e){return"?"},m?(p.writeValue=function(e){var t=e&&e.map(d)||[];w.items.forEach(function(e){e.element.selected&&-1===Array.prototype.indexOf.call(t,e)&&(e.element.selected=!1)})},p.readValue=function(){var e=[];return r(l.val()||[],function(t){(t=w.selectValueMap[t])&&!t.disabled&&e.push(w.getViewValueFromOption(t))}),e},x.trackBy&&e.$watchCollection(function(){if(Zn(h.$viewValue))return h.$viewValue.map(function(e){return x.getTrackByValue(e)})},function(){h.$render()})):(p.writeValue=function(e){var t=w.selectValueMap[l.val()],n=w.getOptionFromViewValue(e);t&&t.element.removeAttribute("selected"),n?(l[0].value!==n.selectValue&&(p.removeUnknownOption(),p.unselectEmptyOption(),l[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):y?p.selectEmptyOption():p.unknownOption.parent().length?p.updateUnknownOption(e):p.renderUnknownOption(e)},p.readValue=function(){var e=w.selectValueMap[l.val()];return e&&!e.disabled?(p.unselectEmptyOption(),p.removeUnknownOption(),w.getViewValueFromOption(e)):null},x.trackBy&&e.$watch(function(){return x.getTrackByValue(h.$viewValue)},function(){h.$render()})),y&&(p.emptyOption.remove(),t(p.emptyOption)(e),8===p.emptyOption[0].nodeType?(p.hasEmptyOption=!1,p.registerOption=function(e,t){""===t.val()&&(p.hasEmptyOption=!0,p.emptyOption=t,p.emptyOption.removeClass("ng-scope"),h.$render(),t.on("$destroy",function(){p.hasEmptyOption=!1,p.emptyOption=void 0}))}):p.emptyOption.removeClass("ng-scope")),l.empty(),f(),e.$watchCollection(x.getWatchables,f)}}}}],$o=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function c(e){s.text(e||"")}var u,f=l.count,p=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,g=a.$eval(p)||{},v={},b=t.startSymbol(),y=t.endSymbol(),w=b+f+"-"+h+y,x=Gn.noop;r(l,function(e,t){var n=o.exec(t);n&&(n=(n[1]?"-":"")+jn(n[2]),g[n]=s.attr(l.$attr[t]))}),r(g,function(e,n){v[n]=t(e.replace(i,w))}),a.$watch(f,function(t){var r=parseFloat(t),i=Kn(r);i||r in g||(r=e.pluralCat(r-h)),r===u||i&&Kn(u)||(x(),m(i=v[r])?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),x=d,c()):x=a.$watch(i,c),u=r)})}}}],So=["$parse","$animate","$compile",function(e,i,o){var a=t("ngRepeat"),s=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,l){var c=l.ngRepeat,u=o.$$createComment("end ngRepeat",c);if(!(d=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw a("iexp",c);var d,f=d[1],p=d[2],h=d[3],m=d[4];if(!(d=f.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp",f);var g=d[3]||d[1],v=d[2];if(h&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(h)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(h)))throw a("badident",h);var b,y,w,x,C={$id:De};return m?b=e(m):(w=function(e,t){return De(t)},x=function(e){return e}),function(e,t,o,l,d){b&&(y=function(t,n,r){return v&&(C[v]=t),C[g]=n,C.$index=r,b(e,C)});var f=te();e.$watchCollection(p,function(o){var l,p,m,b,C,$,S,k,T,_,E=t[0],D=te();if(h&&(e[h]=o),n(o))k=o,p=y||w;else for(_ in p=y||x,k=[],o)Fn.call(o,_)&&"$"!==_.charAt(0)&&k.push(_);for(b=k.length,_=Array(b),l=0;l<b;l++)if(C=o===k?l:k[l],$=o[C],S=p(C,$,l),f[S])T=f[S],delete f[S],D[S]=T,_[l]=T;else{if(D[S])throw r(_,function(e){e&&e.scope&&(f[e.id]=e)}),a("dupes",c,S,$);_[l]={id:S,scope:void 0,clone:void 0},D[S]=!0}for(m in f){if(S=ee((T=f[m]).clone),i.leave(S),S[0].parentNode)for(l=0,p=S.length;l<p;l++)S[l].$$NG_REMOVED=!0;T.scope.$destroy()}for(l=0;l<b;l++)if(C=o===k?l:k[l],$=o[C],(T=_[l]).scope){m=E;do{m=m.nextSibling}while(m&&m.$$NG_REMOVED);T.clone[0]!==m&&i.move(ee(T.clone),null,E),E=T.clone[T.clone.length-1],s(T.scope,l,g,$,v,C,b)}else d(function(e,t){T.scope=t;var n=u.cloneNode(!1);e[e.length++]=n,i.enter(e,null,E),E=n,T.clone=e,D[T.id]=T,s(T.scope,l,g,$,v,C,b)});f=D})}}}}],ko=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],To=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],_o=mn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Eo=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,a){var s=[],l=[],c=[],u=[],d=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(o.ngSwitch||o.on,function(n){for(var i,o;c.length;)e.cancel(c.pop());for(i=0,o=u.length;i<o;++i){var f=ee(l[i].clone);u[i].$destroy(),(c[i]=e.leave(f)).done(d(c,i))}l.length=0,u.length=0,(s=a.cases["!"+n]||a.cases["?"])&&r(s,function(n){n.transclude(function(r,i){u.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen"),l.push({clone:r}),e.enter(r,o.parent(),o)})})})}}}],Do=mn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,o){r(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:o,element:t})})}}),Ao=mn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),No=t("ngTransclude"),Ro=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function a(){n(e,function(e){t.append(e)})}if(!o)throw No("orphan",F(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude=""),o(function(e,n){var r;if(r=e.length)e:{r=0;for(var i=e.length;r<i;r++){var o=e[r];if(o.nodeType!==lr||o.nodeValue.trim()){r=!0;break e}}r=void 0}r?t.append(e):(a(),n.$destroy())},null,r=r.ngTransclude||r.ngTranscludeSlot),r&&!o.isSlotFilled(r)&&a()}}}}],Oo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"===n.type&&e.put(n.id,t[0].text)}}}],Po={$setViewValue:d,$render:d},Io=["$element","$scope",function(t,n){function r(e){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,o.ngModelCtrl.$setViewValue(o.readValue()),e&&o.ngModelCtrl.$render())}))}function i(e){e.prop("selected",!0),e.attr("selected",!0)}var o=this,a=new Ae;o.selectValueMap={},o.ngModelCtrl=Po,o.multiple=!1,o.unknownOption=In(e.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(e){e=o.generateUnknownOptionValue(e),o.unknownOption.val(e),t.prepend(o.unknownOption),i(o.unknownOption),t.val(e)},o.updateUnknownOption=function(e){e=o.generateUnknownOptionValue(e),o.unknownOption.val(e),i(o.unknownOption),t.val(e)},o.generateUnknownOptionValue=function(e){return"? "+De(e)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(t.val(""),i(o.emptyOption))},o.unselectEmptyOption=function(){o.hasEmptyOption&&o.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){o.renderUnknownOption=d}),o.readValue=function(){var e=(e=t.val())in o.selectValueMap?o.selectValueMap[e]:e;return o.hasOption(e)?e:null},o.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];n&&n.removeAttribute("selected"),o.hasOption(e)?(o.removeUnknownOption(),n=De(e),t.val(n in o.selectValueMap?n:e),i(In(t[0].options[t[0].selectedIndex]))):null==e&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(e):o.renderUnknownOption(e)},o.addOption=function(e,t){if(8!==t[0].nodeType){J(e,'"option value"'),""===e&&(o.hasEmptyOption=!0,o.emptyOption=t);var r=a.get(e)||0;a.put(e,r+1),s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.put(e,t-1))},o.hasOption=function(e){return!!a.get(e)};var s=!1,l=!1;o.registerOption=function(e,t,n,i,a){if(n.$attr.ngValue){var s,l=NaN;n.$observe("value",function(e){var n,i=t.prop("selected");g(l)&&(o.removeOption(s),delete o.selectValueMap[l],n=!0),l=De(e),s=e,o.selectValueMap[l]=e,o.addOption(e,t),t.attr("value",l),n&&i&&r()})}else i?n.$observe("value",function(e){o.readValue();var n,i=t.prop("selected");g(s)&&(o.removeOption(s),n=!0),s=e,o.addOption(e,t),n&&i&&r()}):a?e.$watch(a,function(e,i){n.$set("value",e);var a=t.prop("selected");i!==e&&o.removeOption(i),o.addOption(e,t),i&&a&&r()}):o.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(o.multiple?r(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=o.readValue(),t=n.value;o.removeOption(t),o.ngModelCtrl.$render(),(o.multiple&&e&&-1!==e.indexOf(t)||e===t)&&r(!0)})}}],Mo=function(){return{restrict:"E",require:["select","?ngModel"],controller:Io,priority:1,link:{pre:function(e,t,n,i){var o=i[0],a=i[1];if(a){if(o.ngModelCtrl=a,t.on("change",function(){o.removeUnknownOption(),e.$apply(function(){a.$setViewValue(o.readValue())})}),n.multiple){o.multiple=!0,o.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&!t.disabled&&(t=t.value,e.push(t in o.selectValueMap?o.selectValueMap[t]:t))}),e},o.writeValue=function(e){var n=new Ae(e);r(t.find("option"),function(e){e.selected=g(n.get(e.value))||g(n.get(o.selectValueMap[e.value]))})};var s,l=NaN;e.$watch(function(){l!==a.$viewValue||N(s,a.$viewValue)||(s=re(a.$viewValue),a.$render()),l=a.$viewValue}),a.$isEmpty=function(e){return!e||0===e.length}}}else o.registerOption=d},post:function(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}}},Lo=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;return g(n.ngValue)||(g(n.value)?r=e(n.value,!0):(i=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o=t.parent();(o=o.data("$selectController")||o.parent().data("$selectController"))&&o.registerOption(e,t,n,r,i)}}}}],Bo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Fo=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(y(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp",a,e,F(n));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||m(o)||o.test(t)}}}}},jo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){e=c(e),i=Kn(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},zo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=c(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(function(){var t;if(!sr){var n=nr();(Mn=m(n)?e.jQuery:n?e[n]:void 0)&&Mn.fn.on?(In=Mn,s(Mn.fn,{scope:Cr.scope,isolateScope:Cr.isolateScope,controller:Cr.controller,injector:Cr.injector,inheritedData:Cr.inheritedData}),t=Mn.cleanData,Mn.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)(n=Mn._data(r,"events"))&&n.$destroy&&Mn(r).triggerHandler("$destroy");t(e)}):In=ce,Gn.element=In,sr=!0}}(),s(Gn,{bootstrap:W,copy:A,extend:s,merge:l,equals:N,element:In,forEach:r,injector:Re,noop:d,bind:O,toJson:I,fromJson:M,identity:f,isUndefined:m,isDefined:g,isString:y,isFunction:C,isObject:v,isNumber:w,isElement:_,isArray:Zn,version:cr,isDate:x,lowercase:jn,uppercase:zn,callbacks:{$$counter:0},getTestability:G,reloadWithDebugInfo:Y,$$minErr:t,$$csp:tr,$$encodeUriSegment:H,$$encodeUriQuery:q,$$stringify:ne}),(Ln=function(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng");return(e=n(e,"angular",Object)).$$minErr=e.$$minErr||t,n(e,"module",function(){var e={};return function(t,o,a){if("hasOwnProperty"===t)throw i("badname","module");return o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),u}}function n(e,n,r){return r||(r=i),function(i,o){return o&&C(o)&&(o.$$moduleName=t),r.push([e,n,arguments]),u}}if(!o)throw r("nomod",t);var i=[],s=[],l=[],c=e("$injector","invoke","push",s),u={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator",s),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return a&&c(a),u})}})}(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Lt}),e.provider("$compile",Fe).directive({a:_i,input:qi,textarea:qi,form:Ni,script:Oo,select:Mo,option:Lo,ngBind:Yi,ngBindHtml:Xi,ngBindTemplate:Gi,ngClass:Zi,ngClassEven:Qi,ngClassOdd:Ji,ngCloak:eo,ngController:to,ngForm:Ri,ngHide:To,ngIf:io,ngInclude:oo,ngInit:so,ngNonBindable:yo,ngPluralize:$o,ngRepeat:So,ngShow:ko,ngStyle:_o,ngSwitch:Eo,ngSwitchWhen:Do,ngSwitchDefault:Ao,ngOptions:Co,ngTransclude:Ro,ngModel:go,ngList:lo,ngChange:Ki,pattern:Fo,ngPattern:Fo,required:Bo,ngRequired:Bo,minlength:zo,ngMinlength:zo,maxlength:jo,ngMaxlength:jo,ngValue:Wi,ngModelOptions:bo}).directive({ngInclude:ao}).directive(Ei).directive(no),e.provider({$anchorScroll:Oe,$animate:Mr,$animateCss:Fr,$$animateJs:Pr,$$animateQueue:Ir,$$AnimateRunner:Br,$$animateAsyncRun:Lr,$browser:Me,$cacheFactory:Le,$controller:qe,$document:Ve,$$isDocumentHidden:We,$exceptionHandler:Ye,$filter:Kt,$$forceReflow:Wr,$interpolate:it,$interval:ot,$http:tt,$httpParamSerializer:Xe,$httpParamSerializerJQLike:Ke,$httpBackend:rt,$xhrFactory:nt,$jsonpCallbacks:ei,$location:bt,$log:yt,$parse:Nt,$rootScope:Mt,$q:Rt,$$q:Ot,$sce:jt,$sceDelegate:Ft,$sniffer:zt,$templateCache:Be,$templateRequest:Ut,$$testability:Ht,$timeout:qt,$window:Yt,$$rAF:It,$$jqLite:Ee,$$HashMap:Tr,$$cookieReader:Xt})}]),Gn.module("ngLocale",[],["$provide",function(e){e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n,r,i=0|e,o=t;return void 0===o&&(o=Math.min((n=e,-1==(r=(n+="").indexOf("."))?0:n.length-r-1),3)),Math.pow(10,o),1==i&&0==o?"one":"other"}})}]),In(function(){V(e.document,W)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.datepicker","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.modal","ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position","ui.bootstrap.datepickerPopup"]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,r,i,o,a,s,l,c,u,d){var f=this,p={$setViewValue:angular.noop},h={},m=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":f[t]=angular.isDefined(e.datepickerOptions[t])?i(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":f[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?f.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?f.startingDay=l.startingDay:f.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?f[t]=d.fromTimezone(new Date(e),h.getOption("timezone")):(c&&a.warn("Literal date support has been deprecated, please switch to date object usage"),f[t]=new Date(s(e,"medium"))):f[t]=l[t]?d.fromTimezone(new Date(l[t]),h.getOption("timezone")):null,f.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){f[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)<f.modes.indexOf(f[t])||"maxMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)>f.modes.indexOf(f[t]))&&(e.datepickerMode=f[t],e.datepickerOptions.datepickerMode=f[t])}):f[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&m.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,f.refreshView()})),e.isActive=function(t){return 0===f.compare(t.date,f.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){h=function(t){var n;if(angular.version.minor<6)(n=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions||{}).getOption=function(e){return n[e]};else{var r=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=t.$options.createChild(l.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:r})}return n}(p=t),e.datepickerOptions.initDate?(f.activeDate=d.fromTimezone(e.datepickerOptions.initDate,h.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(f.activeDate=d.fromTimezone(e,h.getOption("timezone")),f.refreshView())})):f.activeDate=new Date;var n=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,h.getOption("timezone")):d.fromTimezone(n,h.getOption("timezone")),p.$render=function(){f.render()}},this.render=function(){if(p.$viewValue){var e=new Date(p.$viewValue);!isNaN(e)?this.activeDate=d.fromTimezone(e,h.getOption("timezone")):u||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=p.$viewValue?new Date(p.$viewValue):null;t=d.fromTimezone(t,h.getOption("timezone")),p.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var r=p.$viewValue?new Date(p.$viewValue):null;r=d.fromTimezone(r,h.getOption("timezone"));var i=new Date;i=d.fromTimezone(i,h.getOption("timezone"));var o=this.compare(t,i),a={date:t,label:d.filter(t,n),selected:r&&0===this.compare(t,r),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return r&&0===this.compare(t,r)&&(e.selectedDt=a),f.activeDate&&0===this.compare(a.date,f.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===f.minMode){var n=p.$viewValue?d.fromTimezone(new Date(p.$viewValue),h.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=d.toTimezone(n,h.getOption("timezone")),p.$setViewValue(n),p.$render()}else f.activeDate=t,g(f.modes[f.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=f.activeDate.getFullYear()+e*(f.step.years||0),n=f.activeDate.getMonth()+e*(f.step.months||0);f.activeDate.setFullYear(t,n,1),f.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===f.maxMode&&1===t||e.datepickerMode===f.minMode&&-1===t||(g(f.modes[f.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function g(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}e.$on("uib:datepicker.focus",function(){f.element[0].focus()}),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),f.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(f.isDisabled(f.activeDate))return;e.select(f.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(f.handleKeyDown(n,t),f.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;m.length;)m.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){var r=[31,28,31,30,31,30,31,31,30,31,30,31];function i(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?r[t]:29}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),i=new Date(e),o=0;o<t;)n=new Date(i),r[o++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){var t=this.activeDate.getFullYear(),r=this.activeDate.getMonth(),i=new Date(this.activeDate);i.setFullYear(t,r,1);var a=this.startingDay-i.getDay(),s=a>0?7-a:-a,l=new Date(i);s>0&&l.setDate(1-s);for(var c=this.getDates(l,42),u=0;u<42;u++)c[u]=angular.extend(this.createDateObject(c[u],this.formatDay),{secondary:c[u].getMonth()!==r,uid:e.uniqueId+"-"+u});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:n(c[d].date,this.formatDayHeader),full:n(c[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var f=(11-this.startingDay)%7,p=e.rows.length,h=0;h<p;h++)e.weekNumbers.push(o(e.rows[h][f].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,r=new Array(12),i=this.activeDate.getFullYear(),o=0;o<12;o++)(t=new Date(this.activeDate)).setFullYear(i,o,1),r[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(r,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),r=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){var r,i;function o(e){return parseInt((e-1)/i,10)*i+1}this.element=t,this.yearpickerInit=function(){r=this.yearColumns,i=this.yearRows*r,this.step={years:i}},this._refreshView=function(){for(var t,n=new Array(i),a=0,s=o(this.activeDate.getFullYear());a<i;a++)(t=new Date(this.activeDate)).setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[i-1].label].join(" - "),e.rows=this.split(n,r),e.columns=r},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=r:"right"===e?n+=1:"down"===e?n+=r:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*i:"home"===e?n=o(this.activeDate.getFullYear()):"end"===e&&(n=o(this.activeDate.getFullYear())+i-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,r){var i=r[0];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,r,i){var o,a,s=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function l(e){return i(a,{key:e},!0)[0]}function c(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function u(e,t){for(var n=e.substr(t),r=0;r<a.length;r++)if(new RegExp("^"+a[r].key).test(n)){var i=a[r];return{endIdx:t+i.key.length,parser:i.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function d(e){return parseInt(e,10)}function f(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function p(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function h(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return p(e,n*(f(t,r)-r))}this.init=function(){o=t.id,this.parsers={},this.formatters={},a=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],r=t[2],i=t[3];this.hours+=d(n+r),this.minutes+=d(n+i)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&a.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=l(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=l(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){return angular.isDate(e)&&!isNaN(e)&&n?(n=t.DATETIME_FORMATS[n]||n,t.id!==o&&this.init(),this.formatters[n]||(this.formatters[n]=function(e){for(var t,n,r=[],i=0;i<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(i))(i+1>=e.length||"'"!==e.charAt(i+1))&&(r.push(c(e,n,i)),n=null);else if(i===e.length)for(;n<e.length;)t=u(e,n),r.push(t),n=t.endIdx;i++}else"'"!==e.charAt(i)?(t=u(e,i),r.push(t.parser),i=t.endIdx):(n=i,i++);return r}(n)),this.formatters[n].reduce(function(t,n){return t+n(e)},"")):""},this.parse=function(n,i,l){if(!angular.isString(n)||!i)return n;i=(i=t.DATETIME_FORMATS[i]||i).replace(s,"\\$&"),t.id!==o&&this.init(),this.parsers[i]||(this.parsers[i]=function(e){var t=[],n=e.split(""),i=e.indexOf("'");if(i>-1){var o=!1;e=e.split("");for(var s=i;s<e.length;s++)o?("'"===e[s]&&(s+1<e.length&&"'"===e[s+1]?(e[s+1]="$",n[s+1]=""):(n[s]="",o=!1)),e[s]="$"):"'"===e[s]&&(e[s]="$",n[s]="",o=!0);e=e.join("")}return angular.forEach(a,function(r){var i=e.indexOf(r.key);if(i>-1){e=e.split(""),n[i]="("+r.regex+")",e[i]="$";for(var o=i+1,a=i+r.key.length;o<a;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:i,key:r.key,apply:r.apply,matcher:r.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:r(t,"index")}}(i));var c=this.parsers[i],u=c.regex,d=c.map,f=n.match(u),p=!1;if(f&&f.length){var h,m;angular.isDate(l)&&!isNaN(l.getTime())?h={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var g=1,v=f.length;g<v;g++){var b=d[g-1];"Z"===b.matcher&&(p=!0),b.apply&&b.apply.call(h,f[g])}var y=p?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=p?Date.prototype.setUTCHours:Date.prototype.setHours;return function(e,t,n){if(n<1)return!1;if(1===t&&n>28)return 29===n&&(e%4==0&&e%100!=0||e%400==0);if(3===t||5===t||8===t||10===t)return n<31;return!0}(h.year,h.month,h.date)&&(!angular.isDate(l)||isNaN(l.getTime())||p?(m=new Date(0),y.call(m,h.year,h.month,h.date),w.call(m,h.hours||0,h.minutes||0,h.seconds||0,h.milliseconds||0)):(m=new Date(l),y.call(m,h.year,h.month,h.date),w.call(m,h.hours,h.minutes,h.seconds,h.milliseconds))),m}},this.toTimezone=function(e,t){return e&&t?h(e,t):e},this.fromTimezone=function(e,t){return e&&t?h(e,t,!0):e},this.timezoneToOffset=f,this.addDateMinutes=p,this.convertTimezoneToLocal=h}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(r,i){var o=[],a=[],s={},l=i.uibIsClass.match(t),c=l[2],u=l[1].split(",");return function(t,r,i){o.push(t),a.push({scope:t,element:r}),u.forEach(function(r,i){!function(t,r){var i=t.match(n),o=r.$eval(i[1]),l=i[2],u=s[t];if(!u){var d=function(t){var n=null;a.some(function(e){var r=e.scope.$eval(c);if(r===t)return n=e,!0}),u.lastActivated!==n&&(u.lastActivated&&e.removeClass(u.lastActivated.element,o),n&&e.addClass(n.element,o),u.lastActivated=n)};s[t]=u={lastActivated:null,scope:r,watchFn:d,compareWithExp:l,watcher:r.$watch(l,d)}}u.watchFn(r.$eval(l))}(r,t)}),t.$on("$destroy",d)};function d(e){var t=e.targetScope,n=o.indexOf(t);if(o.splice(n,1),a.splice(n,1),o.length){var r=o[0];angular.forEach(s,function(e){e.scope===t&&(e.watcher=r.$watch(e.compareWithExp,e.watchFn),e.scope=r)})}else s={}}}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var r=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,o,a){if(r)return r.resolve(e,i,o,a);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},r=0;return angular.forEach(e,function(e,i){n[i]=t[r++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),r}};function r(t,r,i){i.modalInClass&&(e.addClass(r,i.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();t.modalOptions.animation?e.removeClass(r,i.modalInClass).then(a):a()}))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,r){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,o,a){o.addClass(a.windowTopClass||""),i.size=a.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var s=t.defer();i.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();n(o,{removeClass:a.modalInClass}).start().then(r)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!r[0].activeElement||!o[0].contains(r[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,r,i,o){o(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,r,i,o,a,s,l){var c,u,d,f="modal-open",p=s.createNew(),h=a.createNew(),m={NOW_CLOSING_EVENT:"modal.stack.now-closing"},g=0,v=null,b="data-bootstrap-modal-aria-hidden-count",y=/[A-Z]/g;function w(){for(var e=-1,t=p.keys(),n=0;n<t.length;n++)p.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<g&&(e=g),e}function x(e,t){var n=p.get(e).value,r=n.appendTo;p.remove(e),(v=p.top())&&(g=parseInt(v.value.modalDomEl.attr("index"),10)),$(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||f;h.remove(t,e);var i=h.hasKey(t);r.toggleClass(t,i),!i&&d&&d.heightOverflow&&d.scrollbarWidth&&(d.originalRight?r.css({paddingRight:d.originalRight+"px"}):r.css({paddingRight:""}),d=null),C(!0)},n.closedDeferred),function(){if(c&&-1===w()){$(c,u,function(){null}),c=void 0,u=void 0}}(),t&&t.focus?t.focus():r.focus&&r.focus()}function C(e){var t;p.length()>0&&(t=p.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function $(t,n,r,i){var a,s=null;return n.$broadcast(m.NOW_CLOSING_EVENT,function(){return a||(a=o.defer(),s=a.promise),function(){a.resolve()}}),o.when(s).then(function o(){if(o.done)return;o.done=!0;e.leave(t).then(function(){r&&r(),t.remove(),i&&i.resolve()});n.$destroy()})}function S(e){if(e.isDefaultPrevented())return e;var t=p.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){m.dismiss(t.key,"escape key press")}));break;case 9:var n=m.loadFocusElementList(t),r=!1;e.shiftKey?(m.isFocusInFirstItem(e,n)||m.isModalFocused(e,t))&&(r=m.focusLastFocusableElement(n)):m.isFocusInLastItem(e,n)&&(r=m.focusFirstFocusableElement(n)),r&&(e.preventDefault(),e.stopPropagation())}}function k(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function T(){Array.prototype.forEach.call(document.querySelectorAll("["+b+"]"),function(e){var t=parseInt(e.getAttribute(b),10)-1;e.setAttribute(b,t),t||(e.removeAttribute(b),e.removeAttribute("aria-hidden"))})}return i.$watch(w,function(e){u&&(u.index=e)}),n.on("keydown",S),i.$on("$destroy",function(){n.off("keydown",S)}),m.open=function(t,o){var a=n[0].activeElement,s=o.openedClass||f;C(!1),v=p.top(),p.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),h.put(s,t);var m,x=o.appendTo,$=w();$>=0&&!c&&((u=i.$new(!0)).modalOptions=o,u.index=$,(c=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&c.addClass(o.backdropClass),o.animation&&c.attr("modal-animation","true"),r(c)(u),e.enter(c,x),l.isScrollable(x)&&(d=l.scrollbarPadding(x)).heightOverflow&&d.scrollbarWidth&&x.css({paddingRight:d.right+"px"})),o.component?(m=document.createElement(o.component.name.replace(y,function(e,t){return(t?"-":"")+e.toLowerCase()})),(m=angular.element(m)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):m=o.content,g=v?parseInt(v.value.modalDomEl.attr("index"),10)+1:0;var S=angular.element('<div uib-modal-window="modal-window"></div>');S.attr({class:"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:g,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(m),o.windowClass&&S.addClass(o.windowClass),o.animation&&S.attr("modal-animation","true"),x.addClass(s),o.scope&&(o.scope.$$topModalIndex=g),e.enter(r(S)(o.scope),x),p.top().value.modalDomEl=S,p.top().value.modalOpener=a,function e(t){if(!t||"BODY"===t[0].tagName)return;(n=t,r=n.parent()?n.parent().children():[],Array.prototype.filter.call(r,function(e){return e!==n[0]})).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(b),10);n||(n=t?1:0),e.setAttribute(b,n+1),e.setAttribute("aria-hidden","true")});var n,r;return e(t.parent())}(S)},m.close=function(e,t){var n=p.get(e);return T(),n&&k(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),x(e,n.value.modalOpener),!0):!n},m.dismiss=function(e,t){var n=p.get(e);return T(),n&&k(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),x(e,n.value.modalOpener),!0):!n},m.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},m.getTop=function(){return p.top()},m.modalRendered=function(e){var t=p.get(e);t&&t.value.renderDeferred.resolve()},m.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},m.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},m.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},m.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},m.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},m.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(e){return!!((t=e).offsetWidth||t.offsetHeight||t.getClientRects().length);var t}):n}}},m}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,r,i,o,a,s){var l={};var c=null;return l.getPromiseChain=function(){return c},l.open=function(l){var u,d,f,p=n.defer(),h=n.defer(),m=n.defer(),g=n.defer(),v={result:p.promise,opened:h.promise,closed:m.promise,rendered:g.promise,close:function(e){return s.close(v,e)},dismiss:function(e){return s.dismiss(v,e)}};if((l=angular.extend({},e.options,l)).resolve=l.resolve||{},l.appendTo=l.appendTo||r.find("body").eq(0),!l.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!l.component&&!l.template&&!l.templateUrl)throw new Error("One of component or template or templateUrl options is required.");function b(){return u}return u=l.component?n.when(a.resolve(l.resolve,{},null,null)):n.all([(d=l,d.template?n.when(d.template):i(angular.isFunction(d.templateUrl)?d.templateUrl():d.templateUrl)),a.resolve(l.resolve,{},null,null)]),f=c=n.all([c]).then(b,b).then(function(e){var n=l.scope||t,r=n.$new();r.$close=v.close,r.$dismiss=v.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});var i,a,c={scope:r,deferred:p,renderDeferred:g,closedDeferred:m,animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowTopClass:l.windowTopClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,ariaLabelledBy:l.ariaLabelledBy,ariaDescribedBy:l.ariaDescribedBy,size:l.size,openedClass:l.openedClass,appendTo:l.appendTo},u={},d={};function f(t,n,i,o){t.$scope=r,t.$scope.$resolve={},i?t.$scope.$uibModalInstance=v:t.$uibModalInstance=v;var a=n?e[1]:e;angular.forEach(a,function(e,n){o&&(t[n]=e),t.$scope.$resolve[n]=e})}l.component?(f(u,!1,!0,!1),u.name=l.component,c.component=u):l.controller&&(f(d,!0,!1,!0),a=o(l.controller,d,!0,l.controllerAs),l.controllerAs&&l.bindToController&&((i=a.instance).$close=r.$close,i.$dismiss=r.$dismiss,angular.extend(i,{$resolve:d.$scope.$resolve},n)),i=a(),angular.isFunction(i.$onInit)&&i.$onInit()),l.component||(c.content=e[0]),s.open(v,c),h.resolve(!0)},function(e){h.reject(e),p.reject(e)}).finally(function(){c===f&&(c=null)}),v},l}]};return e}),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t===e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,r,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){var r,i=(n=this.getRawNode(n)).offsetParent||e[0].documentElement;for(;i&&i!==e[0].documentElement&&(r=i,"static"===(t.getComputedStyle(r).position||"static"));)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(r)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),r=t.innerWidth-o[0].clientWidth,r=isFinite(r)?r:0,o.removeClass("uib-position-body-scrollbar-measure")}return r}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),r=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:r+s,originalRight:r,heightOverflow:o.scrollHeight>o.clientHeight,bottom:i+s,originalBottom:i}},isScrollable:function(e,n){e=this.getRawNode(e);var r=n?i.hidden:i.normal,o=t.getComputedStyle(e);return r.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,r,o){n=this.getRawNode(n);var a=r?i.hidden:i.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var c="absolute"===l.position,u=n.parentElement||s;if(u===s||"fixed"===l.position)return s;for(;u.parentElement&&u!==s;){var d=t.getComputedStyle(u);if(c&&"static"!==d.position&&(c=!1),!c&&a.test(d.overflow+d.overflowY+d.overflowX))break;u=u.parentElement}return u},position:function(n,r){n=this.getRawNode(n);var i=this.offset(n);if(r){var o=t.getComputedStyle(n);i.top-=this.parseStyle(o.marginTop),i.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&((s=this.offset(a)).top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-s.top),left:Math.round(i.left-s.left)}},offset:function(n){var r=(n=this.getRawNode(n)).getBoundingClientRect();return{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(r.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,r,i){i=!1!==i;var o=(n=this.getRawNode(n)).getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=r?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,i){var c=t.getComputedStyle(s);a.top+=this.parseStyle(c.paddingTop),a.bottom-=this.parseStyle(c.paddingBottom),a.left+=this.parseStyle(c.paddingLeft),a.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),(e=e.split("-"))[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,r,i){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");r=this.parsePlacement(r);var l=i?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(r[2]){var u=this.viewportOffset(e,i),d=t.getComputedStyle(n),f=a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),p=s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)));if(r[0]="top"===r[0]&&p>u.top&&p<=u.bottom?"bottom":"bottom"===r[0]&&p>u.bottom&&p<=u.top?"top":"left"===r[0]&&f>u.left&&f<=u.right?"right":"right"===r[0]&&f>u.right&&f<=u.left?"left":r[0],r[1]="top"===r[1]&&p-l.height>u.bottom&&p-l.height<=u.top?"bottom":"bottom"===r[1]&&p-l.height>u.top&&p-l.height<=u.bottom?"top":"left"===r[1]&&f-l.width>u.right&&f-l.width<=u.left?"right":"right"===r[1]&&f-l.width>u.left&&f-l.width<=u.right?"left":r[1],"center"===r[1])if(o.vertical.test(r[0])){var h=l.width/2-a/2;u.left+h<0&&f-l.width<=u.right?r[1]="left":u.right+h<0&&f-l.width<=u.left&&(r[1]="right")}else{var m=l.height/2-p/2;u.top+m<0&&p-l.height<=u.bottom?r[1]="top":u.bottom+m<0&&p-l.height<=u.top&&(r[1]="bottom")}}switch(r[0]){case"top":c.top=l.top-s;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-a;break;case"right":c.left=l.left+l.width}switch(r[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-s;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-a;break;case"center":o.vertical.test(r[0])?c.left=l.left+l.width/2-a/2:c.top=l.top+l.height/2-s/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===r[1]?r[0]:r[0]+"-"+r[1],c},adjustTop:function(e,t,n,r){if(-1!==e.indexOf("top")&&n!==r)return{top:t.top-r+"px"}},positionArrow:function(e,n){var r=(e=this.getRawNode(e)).querySelector(".tooltip-inner, .popover-inner");if(r){var i=angular.element(r).hasClass("tooltip-inner"),a=i?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if("center"!==(n=this.parsePlacement(n))[1]){var l="border-"+n[0]+"-width",c=t.getComputedStyle(a)[l],u="border-";o.vertical.test(n[0])?u+=n[0]+"-"+n[1]:u+=n[1]+"-"+n[0],u+="-radius";var d=t.getComputedStyle(i?r:e)[u];switch(n[0]){case"top":s.bottom=i?"0":"-"+c;break;case"bottom":s.top=i?"0":"-"+c;break;case"left":s.right=i?"0":"-"+c;break;case"right":s.left=i?"0":"-"+c}s[n[1]]=d,angular.element(a).css(s)}else angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m){var g,v,b,y,w,x,C,$,S,k,T,_,E,D=!1,A=[];function N(t){var n=d.parse(t,g,e.date);if(isNaN(n))for(var r=0;r<E.length;r++)if(n=d.parse(t,E[r],e.date),!isNaN(n))return n;return n}function R(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=N(e);if(!isNaN(t))return d.toTimezone(t,T.getOption("timezone"))}return T.getOption("allowInvalid")?e:void 0}function O(e,t){var r=e||t;return!n.ngRequired&&!r||(angular.isNumber(r)&&(r=new Date(r)),!r||(!(!angular.isDate(r)||isNaN(r))||!!angular.isString(r)&&!isNaN(N(r))))}function P(n){if(e.isOpen||!e.disabled){var r=_[0],i=t[0].contains(n.target),o=void 0!==r.contains&&r.contains(n.target);!e.isOpen||i||o||e.$apply(function(){e.isOpen=!1})}}function I(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function M(){if(e.isOpen){var r=angular.element(_[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:f.placement,o=c.positionElements(t,r,i,b);r.css({top:o.top+"px",left:o.left+"px"}),r.hasClass("uib-position-measure")&&r.removeClass("uib-position-measure")}}this.init=function(i){if(T=function(e){var t;angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null}).getOption=function(e){return t[e]}:t=e.$options;return t}(k=i),v=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):f.closeOnDateSelection,b=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):f.appendToBody,y=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):f.onOpenFocus,w=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:f.datepickerPopupTemplateUrl,x=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:f.datepickerTemplateUrl,E=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):f.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):f.showButtonBar,f.html5Types[n.type]?(g=f.html5Types[n.type],D=!0):(g=n.uibDatepickerPopup||f.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||f.datepickerPopup;if(n!==g&&(g=n,k.$modelValue=null,!g))throw new Error("uibDatepickerPopup must have a date format specified.")})),!g)throw new Error("uibDatepickerPopup must have a date format specified.");if(D&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(C=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":w}),($=angular.element(C.children()[0])).attr("template-url",x),e.datepickerOptions||(e.datepickerOptions={}),D&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),$.attr("datepicker-options","datepickerOptions"),D?k.$formatters.push(function(t){return e.date=d.fromTimezone(t,T.getOption("timezone")),t}):(k.$$parserName="date",k.$validators.date=O,k.$parsers.unshift(R),k.$formatters.push(function(t){return k.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,T.getOption("timezone")),d.filter(e.date,g))})),k.$viewChangeListeners.push(function(){e.date=N(k.$viewValue)}),t.on("keydown",I),_=r(C)(e),C.remove(),b?s.find("body").append(_):t.after(_),e.$on("$destroy",function(){for(!0===e.isOpen&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),_.remove(),t.off("keydown",I),s.off("click",P),S&&S.off("scroll",M),angular.element(a).off("resize",M);A.length;)A.shift()()})},e.getText=function(t){return e[t+"Text"]||f[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,T.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(m&&i.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(u(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var r=e.date?d.filter(e.date,g):null;t.val(r),k.$setViewValue(r),v&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var r=new Date;angular.isDate(e.date)?(t=new Date(e.date)).setFullYear(r.getFullYear(),r.getMonth(),r.getDate()):(t=d.fromTimezone(r,T.getOption("timezone"))).setHours(0,0,0,0)}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&A.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(r){r?e.disabled?e.isOpen=!1:p(function(){M(),y&&e.$broadcast("uib:datepicker.focus"),s.on("click",P);var r=n.popupPlacement?n.popupPlacement:f.placement;b||c.parsePlacement(r)[2]?(S=S||angular.element(c.scrollParent(t)))&&S.on("scroll",M):S=null,angular.element(a).on("resize",M)},0,!1):(s.off("click",P),S&&S.off("scroll",M),angular.element(a).off("resize",M))}),e.$on("uib:datepicker.mode",function(){p(M,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.datepicker","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.modal","ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position","ui.bootstrap.datepickerPopup"]),angular.module("ui.bootstrap.tpls",["uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/modal/window.html","uib/template/datepickerPopup/popup.html"]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,r,i,o,a,s,l,c,u,d){var f=this,p={$setViewValue:angular.noop},h={},m=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":f[t]=angular.isDefined(e.datepickerOptions[t])?i(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":f[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?f.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?f.startingDay=l.startingDay:f.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?f[t]=d.fromTimezone(new Date(e),h.getOption("timezone")):(c&&a.warn("Literal date support has been deprecated, please switch to date object usage"),f[t]=new Date(s(e,"medium"))):f[t]=l[t]?d.fromTimezone(new Date(l[t]),h.getOption("timezone")):null,f.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){f[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)<f.modes.indexOf(f[t])||"maxMode"===t&&f.modes.indexOf(e.datepickerOptions.datepickerMode)>f.modes.indexOf(f[t]))&&(e.datepickerMode=f[t],e.datepickerOptions.datepickerMode=f[t])}):f[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&m.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,f.refreshView()})),e.isActive=function(t){return 0===f.compare(t.date,f.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){h=function(t){var n;if(angular.version.minor<6)(n=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions||{}).getOption=function(e){return n[e]};else{var r=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=t.$options.createChild(l.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:r})}return n}(p=t),e.datepickerOptions.initDate?(f.activeDate=d.fromTimezone(e.datepickerOptions.initDate,h.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(f.activeDate=d.fromTimezone(e,h.getOption("timezone")),f.refreshView())})):f.activeDate=new Date;var n=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,h.getOption("timezone")):d.fromTimezone(n,h.getOption("timezone")),p.$render=function(){f.render()}},this.render=function(){if(p.$viewValue){var e=new Date(p.$viewValue);!isNaN(e)?this.activeDate=d.fromTimezone(e,h.getOption("timezone")):u||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=p.$viewValue?new Date(p.$viewValue):null;t=d.fromTimezone(t,h.getOption("timezone")),p.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var r=p.$viewValue?new Date(p.$viewValue):null;r=d.fromTimezone(r,h.getOption("timezone"));var i=new Date;i=d.fromTimezone(i,h.getOption("timezone"));var o=this.compare(t,i),a={date:t,label:d.filter(t,n),selected:r&&0===this.compare(t,r),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return r&&0===this.compare(t,r)&&(e.selectedDt=a),f.activeDate&&0===this.compare(a.date,f.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===f.minMode){var n=p.$viewValue?d.fromTimezone(new Date(p.$viewValue),h.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=d.toTimezone(n,h.getOption("timezone")),p.$setViewValue(n),p.$render()}else f.activeDate=t,g(f.modes[f.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=f.activeDate.getFullYear()+e*(f.step.years||0),n=f.activeDate.getMonth()+e*(f.step.months||0);f.activeDate.setFullYear(t,n,1),f.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===f.maxMode&&1===t||e.datepickerMode===f.minMode&&-1===t||(g(f.modes[f.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function g(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}e.$on("uib:datepicker.focus",function(){f.element[0].focus()}),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),f.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(f.isDisabled(f.activeDate))return;e.select(f.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(f.handleKeyDown(n,t),f.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;m.length;)m.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){var r=[31,28,31,30,31,30,31,31,30,31,30,31];function i(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?r[t]:29}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),i=new Date(e),o=0;o<t;)n=new Date(i),r[o++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){var t=this.activeDate.getFullYear(),r=this.activeDate.getMonth(),i=new Date(this.activeDate);i.setFullYear(t,r,1);var a=this.startingDay-i.getDay(),s=a>0?7-a:-a,l=new Date(i);s>0&&l.setDate(1-s);for(var c=this.getDates(l,42),u=0;u<42;u++)c[u]=angular.extend(this.createDateObject(c[u],this.formatDay),{secondary:c[u].getMonth()!==r,uid:e.uniqueId+"-"+u});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:n(c[d].date,this.formatDayHeader),full:n(c[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var f=(11-this.startingDay)%7,p=e.rows.length,h=0;h<p;h++)e.weekNumbers.push(o(e.rows[h][f].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,r=new Array(12),i=this.activeDate.getFullYear(),o=0;o<12;o++)(t=new Date(this.activeDate)).setFullYear(i,o,1),r[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(r,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),r=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){var r,i;function o(e){return parseInt((e-1)/i,10)*i+1}this.element=t,this.yearpickerInit=function(){r=this.yearColumns,i=this.yearRows*r,this.step={years:i}},this._refreshView=function(){for(var t,n=new Array(i),a=0,s=o(this.activeDate.getFullYear());a<i;a++)(t=new Date(this.activeDate)).setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[i-1].label].join(" - "),e.rows=this.split(n,r),e.columns=r},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=r:"right"===e?n+=1:"down"===e?n+=r:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*i:"home"===e?n=o(this.activeDate.getFullYear()):"end"===e&&(n=o(this.activeDate.getFullYear())+i-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,r){var i=r[0];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,r,i){var o,a,s=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function l(e){return i(a,{key:e},!0)[0]}function c(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function u(e,t){for(var n=e.substr(t),r=0;r<a.length;r++)if(new RegExp("^"+a[r].key).test(n)){var i=a[r];return{endIdx:t+i.key.length,parser:i.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function d(e){return parseInt(e,10)}function f(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function p(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function h(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return p(e,n*(f(t,r)-r))}this.init=function(){o=t.id,this.parsers={},this.formatters={},a=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],r=t[2],i=t[3];this.hours+=d(n+r),this.minutes+=d(n+i)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&a.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=l(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=l(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){return angular.isDate(e)&&!isNaN(e)&&n?(n=t.DATETIME_FORMATS[n]||n,t.id!==o&&this.init(),this.formatters[n]||(this.formatters[n]=function(e){for(var t,n,r=[],i=0;i<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(i))(i+1>=e.length||"'"!==e.charAt(i+1))&&(r.push(c(e,n,i)),n=null);else if(i===e.length)for(;n<e.length;)t=u(e,n),r.push(t),n=t.endIdx;i++}else"'"!==e.charAt(i)?(t=u(e,i),r.push(t.parser),i=t.endIdx):(n=i,i++);return r}(n)),this.formatters[n].reduce(function(t,n){return t+n(e)},"")):""},this.parse=function(n,i,l){if(!angular.isString(n)||!i)return n;i=(i=t.DATETIME_FORMATS[i]||i).replace(s,"\\$&"),t.id!==o&&this.init(),this.parsers[i]||(this.parsers[i]=function(e){var t=[],n=e.split(""),i=e.indexOf("'");if(i>-1){var o=!1;e=e.split("");for(var s=i;s<e.length;s++)o?("'"===e[s]&&(s+1<e.length&&"'"===e[s+1]?(e[s+1]="$",n[s+1]=""):(n[s]="",o=!1)),e[s]="$"):"'"===e[s]&&(e[s]="$",n[s]="",o=!0);e=e.join("")}return angular.forEach(a,function(r){var i=e.indexOf(r.key);if(i>-1){e=e.split(""),n[i]="("+r.regex+")",e[i]="$";for(var o=i+1,a=i+r.key.length;o<a;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:i,key:r.key,apply:r.apply,matcher:r.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:r(t,"index")}}(i));var c=this.parsers[i],u=c.regex,d=c.map,f=n.match(u),p=!1;if(f&&f.length){var h,m;angular.isDate(l)&&!isNaN(l.getTime())?h={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var g=1,v=f.length;g<v;g++){var b=d[g-1];"Z"===b.matcher&&(p=!0),b.apply&&b.apply.call(h,f[g])}var y=p?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=p?Date.prototype.setUTCHours:Date.prototype.setHours;return function(e,t,n){if(n<1)return!1;if(1===t&&n>28)return 29===n&&(e%4==0&&e%100!=0||e%400==0);if(3===t||5===t||8===t||10===t)return n<31;return!0}(h.year,h.month,h.date)&&(!angular.isDate(l)||isNaN(l.getTime())||p?(m=new Date(0),y.call(m,h.year,h.month,h.date),w.call(m,h.hours||0,h.minutes||0,h.seconds||0,h.milliseconds||0)):(m=new Date(l),y.call(m,h.year,h.month,h.date),w.call(m,h.hours,h.minutes,h.seconds,h.milliseconds))),m}},this.toTimezone=function(e,t){return e&&t?h(e,t):e},this.fromTimezone=function(e,t){return e&&t?h(e,t,!0):e},this.timezoneToOffset=f,this.addDateMinutes=p,this.convertTimezoneToLocal=h}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(r,i){var o=[],a=[],s={},l=i.uibIsClass.match(t),c=l[2],u=l[1].split(",");return function(t,r,i){o.push(t),a.push({scope:t,element:r}),u.forEach(function(r,i){!function(t,r){var i=t.match(n),o=r.$eval(i[1]),l=i[2],u=s[t];if(!u){var d=function(t){var n=null;a.some(function(e){var r=e.scope.$eval(c);if(r===t)return n=e,!0}),u.lastActivated!==n&&(u.lastActivated&&e.removeClass(u.lastActivated.element,o),n&&e.addClass(n.element,o),u.lastActivated=n)};s[t]=u={lastActivated:null,scope:r,watchFn:d,compareWithExp:l,watcher:r.$watch(l,d)}}u.watchFn(r.$eval(l))}(r,t)}),t.$on("$destroy",d)};function d(e){var t=e.targetScope,n=o.indexOf(t);if(o.splice(n,1),a.splice(n,1),o.length){var r=o[0];angular.forEach(s,function(e){e.scope===t&&(e.watcher=r.$watch(e.compareWithExp,e.watchFn),e.scope=r)})}else s={}}}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var r=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,o,a){if(r)return r.resolve(e,i,o,a);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},r=0;return angular.forEach(e,function(e,i){n[i]=t[r++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),r}};function r(t,r,i){i.modalInClass&&(e.addClass(r,i.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();t.modalOptions.animation?e.removeClass(r,i.modalInClass).then(a):a()}))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,r){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,o,a){o.addClass(a.windowTopClass||""),i.size=a.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var s=t.defer();i.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();n(o,{removeClass:a.modalInClass}).start().then(r)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!r[0].activeElement||!o[0].contains(r[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,r,i,o){o(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,r,i,o,a,s,l){var c,u,d,f="modal-open",p=s.createNew(),h=a.createNew(),m={NOW_CLOSING_EVENT:"modal.stack.now-closing"},g=0,v=null,b="data-bootstrap-modal-aria-hidden-count",y=/[A-Z]/g;function w(){for(var e=-1,t=p.keys(),n=0;n<t.length;n++)p.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<g&&(e=g),e}function x(e,t){var n=p.get(e).value,r=n.appendTo;p.remove(e),(v=p.top())&&(g=parseInt(v.value.modalDomEl.attr("index"),10)),$(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||f;h.remove(t,e);var i=h.hasKey(t);r.toggleClass(t,i),!i&&d&&d.heightOverflow&&d.scrollbarWidth&&(d.originalRight?r.css({paddingRight:d.originalRight+"px"}):r.css({paddingRight:""}),d=null),C(!0)},n.closedDeferred),function(){if(c&&-1===w()){$(c,u,function(){null}),c=void 0,u=void 0}}(),t&&t.focus?t.focus():r.focus&&r.focus()}function C(e){var t;p.length()>0&&(t=p.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function $(t,n,r,i){var a,s=null;return n.$broadcast(m.NOW_CLOSING_EVENT,function(){return a||(a=o.defer(),s=a.promise),function(){a.resolve()}}),o.when(s).then(function o(){if(o.done)return;o.done=!0;e.leave(t).then(function(){r&&r(),t.remove(),i&&i.resolve()});n.$destroy()})}function S(e){if(e.isDefaultPrevented())return e;var t=p.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){m.dismiss(t.key,"escape key press")}));break;case 9:var n=m.loadFocusElementList(t),r=!1;e.shiftKey?(m.isFocusInFirstItem(e,n)||m.isModalFocused(e,t))&&(r=m.focusLastFocusableElement(n)):m.isFocusInLastItem(e,n)&&(r=m.focusFirstFocusableElement(n)),r&&(e.preventDefault(),e.stopPropagation())}}function k(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function T(){Array.prototype.forEach.call(document.querySelectorAll("["+b+"]"),function(e){var t=parseInt(e.getAttribute(b),10)-1;e.setAttribute(b,t),t||(e.removeAttribute(b),e.removeAttribute("aria-hidden"))})}return i.$watch(w,function(e){u&&(u.index=e)}),n.on("keydown",S),i.$on("$destroy",function(){n.off("keydown",S)}),m.open=function(t,o){var a=n[0].activeElement,s=o.openedClass||f;C(!1),v=p.top(),p.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),h.put(s,t);var m,x=o.appendTo,$=w();$>=0&&!c&&((u=i.$new(!0)).modalOptions=o,u.index=$,(c=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&c.addClass(o.backdropClass),o.animation&&c.attr("modal-animation","true"),r(c)(u),e.enter(c,x),l.isScrollable(x)&&(d=l.scrollbarPadding(x)).heightOverflow&&d.scrollbarWidth&&x.css({paddingRight:d.right+"px"})),o.component?(m=document.createElement(o.component.name.replace(y,function(e,t){return(t?"-":"")+e.toLowerCase()})),(m=angular.element(m)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):m=o.content,g=v?parseInt(v.value.modalDomEl.attr("index"),10)+1:0;var S=angular.element('<div uib-modal-window="modal-window"></div>');S.attr({class:"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:g,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(m),o.windowClass&&S.addClass(o.windowClass),o.animation&&S.attr("modal-animation","true"),x.addClass(s),o.scope&&(o.scope.$$topModalIndex=g),e.enter(r(S)(o.scope),x),p.top().value.modalDomEl=S,p.top().value.modalOpener=a,function e(t){if(!t||"BODY"===t[0].tagName)return;(n=t,r=n.parent()?n.parent().children():[],Array.prototype.filter.call(r,function(e){return e!==n[0]})).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(b),10);n||(n=t?1:0),e.setAttribute(b,n+1),e.setAttribute("aria-hidden","true")});var n,r;return e(t.parent())}(S)},m.close=function(e,t){var n=p.get(e);return T(),n&&k(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),x(e,n.value.modalOpener),!0):!n},m.dismiss=function(e,t){var n=p.get(e);return T(),n&&k(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),x(e,n.value.modalOpener),!0):!n},m.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},m.getTop=function(){return p.top()},m.modalRendered=function(e){var t=p.get(e);t&&t.value.renderDeferred.resolve()},m.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},m.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},m.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},m.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},m.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},m.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(e){return!!((t=e).offsetWidth||t.offsetHeight||t.getClientRects().length);var t}):n}}},m}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,r,i,o,a,s){var l={};var c=null;return l.getPromiseChain=function(){return c},l.open=function(l){var u,d,f,p=n.defer(),h=n.defer(),m=n.defer(),g=n.defer(),v={result:p.promise,opened:h.promise,closed:m.promise,rendered:g.promise,close:function(e){return s.close(v,e)},dismiss:function(e){return s.dismiss(v,e)}};if((l=angular.extend({},e.options,l)).resolve=l.resolve||{},l.appendTo=l.appendTo||r.find("body").eq(0),!l.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!l.component&&!l.template&&!l.templateUrl)throw new Error("One of component or template or templateUrl options is required.");function b(){return u}return u=l.component?n.when(a.resolve(l.resolve,{},null,null)):n.all([(d=l,d.template?n.when(d.template):i(angular.isFunction(d.templateUrl)?d.templateUrl():d.templateUrl)),a.resolve(l.resolve,{},null,null)]),f=c=n.all([c]).then(b,b).then(function(e){var n=l.scope||t,r=n.$new();r.$close=v.close,r.$dismiss=v.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});var i,a,c={scope:r,deferred:p,renderDeferred:g,closedDeferred:m,animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowTopClass:l.windowTopClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,ariaLabelledBy:l.ariaLabelledBy,ariaDescribedBy:l.ariaDescribedBy,size:l.size,openedClass:l.openedClass,appendTo:l.appendTo},u={},d={};function f(t,n,i,o){t.$scope=r,t.$scope.$resolve={},i?t.$scope.$uibModalInstance=v:t.$uibModalInstance=v;var a=n?e[1]:e;angular.forEach(a,function(e,n){o&&(t[n]=e),t.$scope.$resolve[n]=e})}l.component?(f(u,!1,!0,!1),u.name=l.component,c.component=u):l.controller&&(f(d,!0,!1,!0),a=o(l.controller,d,!0,l.controllerAs),l.controllerAs&&l.bindToController&&((i=a.instance).$close=r.$close,i.$dismiss=r.$dismiss,angular.extend(i,{$resolve:d.$scope.$resolve},n)),i=a(),angular.isFunction(i.$onInit)&&i.$onInit()),l.component||(c.content=e[0]),s.open(v,c),h.resolve(!0)},function(e){h.reject(e),p.reject(e)}).finally(function(){c===f&&(c=null)}),v},l}]};return e}),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t===e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,r,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){var r,i=(n=this.getRawNode(n)).offsetParent||e[0].documentElement;for(;i&&i!==e[0].documentElement&&(r=i,"static"===(t.getComputedStyle(r).position||"static"));)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(r)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),r=t.innerWidth-o[0].clientWidth,r=isFinite(r)?r:0,o.removeClass("uib-position-body-scrollbar-measure")}return r}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),r=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:r+s,originalRight:r,heightOverflow:o.scrollHeight>o.clientHeight,bottom:i+s,originalBottom:i}},isScrollable:function(e,n){e=this.getRawNode(e);var r=n?i.hidden:i.normal,o=t.getComputedStyle(e);return r.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,r,o){n=this.getRawNode(n);var a=r?i.hidden:i.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var c="absolute"===l.position,u=n.parentElement||s;if(u===s||"fixed"===l.position)return s;for(;u.parentElement&&u!==s;){var d=t.getComputedStyle(u);if(c&&"static"!==d.position&&(c=!1),!c&&a.test(d.overflow+d.overflowY+d.overflowX))break;u=u.parentElement}return u},position:function(n,r){n=this.getRawNode(n);var i=this.offset(n);if(r){var o=t.getComputedStyle(n);i.top-=this.parseStyle(o.marginTop),i.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&((s=this.offset(a)).top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-s.top),left:Math.round(i.left-s.left)}},offset:function(n){var r=(n=this.getRawNode(n)).getBoundingClientRect();return{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(r.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,r,i){i=!1!==i;var o=(n=this.getRawNode(n)).getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=r?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,i){var c=t.getComputedStyle(s);a.top+=this.parseStyle(c.paddingTop),a.bottom-=this.parseStyle(c.paddingBottom),a.left+=this.parseStyle(c.paddingLeft),a.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),(e=e.split("-"))[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,r,i){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");r=this.parsePlacement(r);var l=i?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(r[2]){var u=this.viewportOffset(e,i),d=t.getComputedStyle(n),f=a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),p=s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)));if(r[0]="top"===r[0]&&p>u.top&&p<=u.bottom?"bottom":"bottom"===r[0]&&p>u.bottom&&p<=u.top?"top":"left"===r[0]&&f>u.left&&f<=u.right?"right":"right"===r[0]&&f>u.right&&f<=u.left?"left":r[0],r[1]="top"===r[1]&&p-l.height>u.bottom&&p-l.height<=u.top?"bottom":"bottom"===r[1]&&p-l.height>u.top&&p-l.height<=u.bottom?"top":"left"===r[1]&&f-l.width>u.right&&f-l.width<=u.left?"right":"right"===r[1]&&f-l.width>u.left&&f-l.width<=u.right?"left":r[1],"center"===r[1])if(o.vertical.test(r[0])){var h=l.width/2-a/2;u.left+h<0&&f-l.width<=u.right?r[1]="left":u.right+h<0&&f-l.width<=u.left&&(r[1]="right")}else{var m=l.height/2-p/2;u.top+m<0&&p-l.height<=u.bottom?r[1]="top":u.bottom+m<0&&p-l.height<=u.top&&(r[1]="bottom")}}switch(r[0]){case"top":c.top=l.top-s;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-a;break;case"right":c.left=l.left+l.width}switch(r[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-s;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-a;break;case"center":o.vertical.test(r[0])?c.left=l.left+l.width/2-a/2:c.top=l.top+l.height/2-s/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===r[1]?r[0]:r[0]+"-"+r[1],c},adjustTop:function(e,t,n,r){if(-1!==e.indexOf("top")&&n!==r)return{top:t.top-r+"px"}},positionArrow:function(e,n){var r=(e=this.getRawNode(e)).querySelector(".tooltip-inner, .popover-inner");if(r){var i=angular.element(r).hasClass("tooltip-inner"),a=i?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if("center"!==(n=this.parsePlacement(n))[1]){var l="border-"+n[0]+"-width",c=t.getComputedStyle(a)[l],u="border-";o.vertical.test(n[0])?u+=n[0]+"-"+n[1]:u+=n[1]+"-"+n[0],u+="-radius";var d=t.getComputedStyle(i?r:e)[u];switch(n[0]){case"top":s.bottom=i?"0":"-"+c;break;case"bottom":s.top=i?"0":"-"+c;break;case"left":s.right=i?"0":"-"+c;break;case"right":s.left=i?"0":"-"+c}s[n[1]]=d,angular.element(a).css(s)}else angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,r,i,o,a,s,l,c,u,d,f,p,h,m){var g,v,b,y,w,x,C,$,S,k,T,_,E,D=!1,A=[];function N(t){var n=d.parse(t,g,e.date);if(isNaN(n))for(var r=0;r<E.length;r++)if(n=d.parse(t,E[r],e.date),!isNaN(n))return n;return n}function R(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=N(e);if(!isNaN(t))return d.toTimezone(t,T.getOption("timezone"))}return T.getOption("allowInvalid")?e:void 0}function O(e,t){var r=e||t;return!n.ngRequired&&!r||(angular.isNumber(r)&&(r=new Date(r)),!r||(!(!angular.isDate(r)||isNaN(r))||!!angular.isString(r)&&!isNaN(N(r))))}function P(n){if(e.isOpen||!e.disabled){var r=_[0],i=t[0].contains(n.target),o=void 0!==r.contains&&r.contains(n.target);!e.isOpen||i||o||e.$apply(function(){e.isOpen=!1})}}function I(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function M(){if(e.isOpen){var r=angular.element(_[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:f.placement,o=c.positionElements(t,r,i,b);r.css({top:o.top+"px",left:o.left+"px"}),r.hasClass("uib-position-measure")&&r.removeClass("uib-position-measure")}}this.init=function(i){if(T=function(e){var t;angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null}).getOption=function(e){return t[e]}:t=e.$options;return t}(k=i),v=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):f.closeOnDateSelection,b=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):f.appendToBody,y=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):f.onOpenFocus,w=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:f.datepickerPopupTemplateUrl,x=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:f.datepickerTemplateUrl,E=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):f.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):f.showButtonBar,f.html5Types[n.type]?(g=f.html5Types[n.type],D=!0):(g=n.uibDatepickerPopup||f.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||f.datepickerPopup;if(n!==g&&(g=n,k.$modelValue=null,!g))throw new Error("uibDatepickerPopup must have a date format specified.")})),!g)throw new Error("uibDatepickerPopup must have a date format specified.");if(D&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(C=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":w}),($=angular.element(C.children()[0])).attr("template-url",x),e.datepickerOptions||(e.datepickerOptions={}),D&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),$.attr("datepicker-options","datepickerOptions"),D?k.$formatters.push(function(t){return e.date=d.fromTimezone(t,T.getOption("timezone")),t}):(k.$$parserName="date",k.$validators.date=O,k.$parsers.unshift(R),k.$formatters.push(function(t){return k.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,T.getOption("timezone")),d.filter(e.date,g))})),k.$viewChangeListeners.push(function(){e.date=N(k.$viewValue)}),t.on("keydown",I),_=r(C)(e),C.remove(),b?s.find("body").append(_):t.after(_),e.$on("$destroy",function(){for(!0===e.isOpen&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),_.remove(),t.off("keydown",I),s.off("click",P),S&&S.off("scroll",M),angular.element(a).off("resize",M);A.length;)A.shift()()})},e.getText=function(t){return e[t+"Text"]||f[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,T.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(m&&i.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(u(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var r=e.date?d.filter(e.date,g):null;t.val(r),k.$setViewValue(r),v&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var r=new Date;angular.isDate(e.date)?(t=new Date(e.date)).setFullYear(r.getFullYear(),r.getMonth(),r.getDate()):(t=d.fromTimezone(r,T.getOption("timezone"))).setHours(0,0,0,0)}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&A.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(r){r?e.disabled?e.isOpen=!1:p(function(){M(),y&&e.$broadcast("uib:datepicker.focus"),s.on("click",P);var r=n.popupPlacement?n.popupPlacement:f.placement;b||c.parsePlacement(r)[2]?(S=S||angular.element(c.scrollParent(t)))&&S.on("scroll",M):S=null,angular.element(a).on("resize",M)},0,!1):(s.off("click",P),S&&S.off("scroll",M),angular.element(a).off("resize",M))}),e.$on("uib:datepicker.mode",function(){p(M,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),function(e,t){"use strict";function n(e,t,n){if(!e)throw U("areq",t||"?",n||"required");return e}function r(e,t){return e||t?e?t?(D(e)&&(e=e.join(" ")),D(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function i(e,t,n){var r="";return e=D(e)?e:e&&P(e)&&e.length?e.split(/\s+/):[],E(e,function(e,i){e&&0<e.length&&(r+=0<i?" ":"",r+=n?t+e:e+t)}),r}function o(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}function a(e){return function(t,n){var r,i,o,a,s,l;n.addClass&&(r=e,i=t,o=n.addClass,E(i,function(e){r.addClass(e,o)}),n.addClass=null),n.removeClass&&(a=e,s=t,l=n.removeClass,E(s,function(e){a.removeClass(e,l)}),n.removeClass=null)}}function s(e){if(!(e=e||{}).$$prepared){var t=e.domOperation||L;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=L},e.$$prepared=!0}return e}function l(e,t){c(e,t),u(e,t)}function c(e,t){t.from&&(e.css(t.from),t.from=null)}function u(e,t){t.to&&(e.css(t.to),t.to=null)}function d(e,t,n){var r=t.options||{};n=n.options||{};var i=(r.addClass||"")+" "+(n.addClass||""),o=(r.removeClass||"")+" "+(n.removeClass||"");return e=function(e,t,n){function r(e){P(e)&&(e=e.split(" "));var t={};return E(e,function(e){e.length&&(t[e]=!0)}),t}var i={};e=r(e),t=r(t),E(t,function(e,t){i[t]=1}),n=r(n),E(n,function(e,t){i[t]=1===i[t]?null:-1});var o={addClass:"",removeClass:""};return E(i,function(t,n){var r,i;1===t?(r="addClass",i=!e[n]||e[n+"-remove"]):-1===t&&(r="removeClass",i=e[n]||e[n+"-add"]),i&&(o[r].length&&(o[r]+=" "),o[r]+=n)}),o}(e.attr("class"),i,o),n.preparationClasses&&(r.preparationClasses=g(n.preparationClasses,r.preparationClasses),delete n.preparationClasses),i=r.domOperation!==L?r.domOperation:null,_(r,n),i&&(r.domOperation=i),r.addClass=e.addClass?e.addClass:null,r.removeClass=e.removeClass?e.removeClass:null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function f(e){return e instanceof M?e[0]:e}function p(e,t){var n=t?"-"+t+"s":"";return m(e,[j,n]),[j,n]}function h(e,t){var n=t?"paused":"",r=S+"PlayState";return m(e,[r,n]),[r,n]}function m(e,t){e.style[t[0]]=t[1]}function g(e,t){return e?t?e+" "+t:e:t}function v(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return E(n,function(e,t){var n,o,a=i[e];if(a){var s=a.charAt(0);("-"===s||"+"===s||0<=s)&&(o=0,n=(n=a).split(/\s*,\s*/),E(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,o=o?Math.max(e,o):e}),a=o),0===a&&(a=null),r[t]=a}}),r}function b(e){return 0===e||null!=e}function y(e,t){var n=C,r=e+"s";return t?n+="Duration":r+=" linear all",[n,r]}function w(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){return(t=e[t])?t.total:0},get:function(t){return(t=e[t])&&t.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function x(e,t,n){E(n,function(n){e[n]=A(e[n])?e[n]:t.style.getPropertyValue(n)})}var C,$,S,k;void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(C="WebkitTransition",$="webkitTransitionEnd transitionend"):(C="transition",$="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(S="WebkitAnimation",k="webkitAnimationEnd animationend"):(S="animation",k="animationend");var T,_,E,D,A,N,R,O,P,I,M,L,B=S+"Delay",F=S+"Duration",j=C+"Delay",z=C+"Duration",U=t.$$minErr("ng"),H={transitionDuration:z,transitionDelay:j,transitionProperty:C+"Property",animationDuration:F,animationDelay:B,animationIterationCount:S+"IterationCount"},q={transitionDuration:z,transitionDelay:j,animationDuration:F,animationDelay:B};t.module("ngAnimate",[],function(){L=t.noop,T=t.copy,_=t.extend,M=t.element,E=t.forEach,D=t.isArray,P=t.isString,O=t.isObject,I=t.isUndefined,A=t.isDefined,R=t.isFunction,N=t.isElement}).directive("ngAnimateSwap",["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,r,i,o){var a,s;t.$watchCollection(r.ngAnimateSwap||r.for,function(r){a&&e.leave(a),s&&(s.$destroy(),s=null),(r||0===r)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(e){return{link:function(t,n,r){function i(e){n.data("$$ngAnimateChildren","on"===e||"true"===e)}var o=r.ngAnimateChildren;P(o)&&0===o.length?n.data("$$ngAnimateChildren",!0):(i(e(o)(t)),r.$observe("ngAnimateChildren",i))}}}]).factory("$$rAFScheduler",["$$rAF",function(e){function t(e){r=r.concat(e),n()}function n(){if(r.length){for(var t=r.shift(),o=0;o<t.length;o++)t[o]();i||e(function(){i||n()})}}var r,i;return r=t.queue=[],t.waitUntilQuiet=function(t){i&&i(),i=e(function(){i=null,t(),n()})},t}]).provider("$$animateQueue",["$animateProvider",function(t){function r(e,t){if(e&&t){var n=function(e){if(!e)return null;e=e.split(" ");var t=Object.create(null);return E(e,function(e){t[e]=!0}),t}(t);return e.split(" ").some(function(e){return n[e]})}}function c(e,t,n,r){return p[e].some(function(e){return e(t,n,r)})}function u(e,t){var n=0<(e.addClass||"").length,r=0<(e.removeClass||"").length;return t?n&&r:n||r}var p=this.rules={skip:[],cancel:[],join:[]};p.join.push(function(e,t,n){return!t.structural&&u(t)}),p.skip.push(function(e,t,n){return!t.structural&&!u(t)}),p.skip.push(function(e,t,n){return"leave"===n.event&&t.structural}),p.skip.push(function(e,t,n){return n.structural&&2===n.state&&!t.structural}),p.cancel.push(function(e,t,n){return n.structural&&t.structural}),p.cancel.push(function(e,t,n){return 2===n.state&&t.structural}),p.cancel.push(function(e,t,n){if(n.structural)return!1;e=t.addClass,t=t.removeClass;var i=n.addClass;return n=n.removeClass,!(I(e)&&I(t)||I(i)&&I(n))&&(r(e,n)||r(t,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(r,p,h,m,v,b,y,w,x,C,$){function S(e,t,n){var r=o(t);return e.filter(function(e){return!(e.node===r&&(!n||e.callback===n))})}function k(e,t,n){function a(t,n,i,o){_(function(){var t,a,s,l,c,u=(t=x,a=n,s=f(e),l=f(t),c=[],(t=H[a])&&E(t,function(e){Y.call(e.node,s)?c.push(e.callback):"leave"===a&&Y.call(e.node,l)&&c.push(e.callback)}),c);u.length?r(function(){E(u,function(t){t(e,i,o)}),"close"!==i||e[0].parentNode||G.off(e)}):"close"!==i||e[0].parentNode||G.off(e)}),t.progress(n,i,o)}function v(t){var n=e,r=C;r.preparationClasses&&(n.removeClass(r.preparationClasses),r.preparationClasses=null),r.activeClasses&&(n.removeClass(r.activeClasses),r.activeClasses=null),W(e,C),l(e,C),C.domOperation(),k.complete(!t)}var w,x,C=T(n);(e=function(e){if(e instanceof M)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return M(o(e))}if(1===e.nodeType)return M(e)}(e))&&(w=f(e),x=e.parent());C=s(C);var S,k=new y,_=(S=!1,function(e){S?e():p.$$postDigest(function(){S=!0,e()})});if(D(C.addClass)&&(C.addClass=C.addClass.join(" ")),C.addClass&&!P(C.addClass)&&(C.addClass=null),D(C.removeClass)&&(C.removeClass=C.removeClass.join(" ")),C.removeClass&&!P(C.removeClass)&&(C.removeClass=null),C.from&&!O(C.from)&&(C.from=null),C.to&&!O(C.to)&&(C.to=null),!w)return v(),k;if(n=[w.getAttribute("class"),C.addClass,C.removeClass].join(" "),!V(n))return v(),k;var N,U,q,X,K,Z=0<=["enter","move","leave"].indexOf(t),J=$(),Q=!z||J||j.get(w),ee=!!(n=!Q&&F.get(w)||{}).state;if(Q||ee&&1===n.state||(Q=!function(e,t,n){n=M(m[0].body);var r,i=L(e,n)||"HTML"===e[0].nodeName,o=L(e,h),a=!1,s=j.get(f(e));for((e=M.data(e[0],"$ngAnimatePin"))&&(t=e),t=f(t);t&&(o||(o=L(t,h)),1===t.nodeType);){if(e=F.get(t)||{},!a){var l=j.get(t);if(!0===l&&!1!==s){s=!0;break}!1===l&&(s=!1),a=e.structural}if((I(r)||!0===r)&&(e=M.data(t,"$$ngAnimateChildren"),A(e)&&(r=e)),a&&!1===r)break;if(i||(i=L(t,n)),i&&o)break;t=o||!(e=M.data(t,"$ngAnimatePin"))?t.parentNode:f(e)}return(!a||r)&&!0!==s&&o&&i}(e,x,t)),Q)return J&&a(k,t,"start"),v(),J&&a(k,t,"close"),k;if(Z&&(N=f(N=e).querySelectorAll("[data-ng-animate]"),E(N,function(e){var t=parseInt(e.getAttribute("data-ng-animate"),10),n=F.get(e);if(n)switch(t){case 2:n.runner.end();case 1:F.remove(e)}})),J={structural:Z,element:e,event:t,addClass:C.addClass,removeClass:C.removeClass,close:v,options:C,runner:k},ee){if(c("skip",e,J,n))return 2===n.state?(v(),k):(d(e,n,J),n.runner);if(c("cancel",e,J,n))if(2===n.state)n.runner.end();else{if(!n.structural)return d(e,n,J),n.runner;n.close()}else if(c("join",e,J,n)){if(2!==n.state)return U=e,X=C,K="",(q=Z?t:null)&&(K=i(q,"ng-",!0)),X.addClass&&(K=g(K,i(X.addClass,"-add"))),X.removeClass&&(K=g(K,i(X.removeClass,"-remove"))),K.length&&(X.preparationClasses=K,U.addClass(K)),t=J.event=n.event,C=d(e,n,J),n.runner;d(e,J,{})}}else d(e,J,{});if((ee=J.structural)||(ee="animate"===J.event&&0<Object.keys(J.options.to||{}).length||u(J)),!ee)return v(),R(e),k;var te=(n.counter||0)+1;return J.counter=te,B(e,1,J),p.$$postDigest(function(){var n=!(r=F.get(w)),r=r||{},i=0<(e.parent()||[]).length&&("animate"===r.event||r.structural||u(r));n||r.counter!==te||!i?(n&&(W(e,C),l(e,C)),(n||Z&&r.event!==t)&&(C.domOperation(),k.end()),i||R(e)):(t=!r.structural&&u(r,!0)?"setClass":r.event,B(e,2),r=b(e,t,r.options),k.setHost(r),a(k,t,"start",{}),r.done(function(n){v(!n),(n=F.get(w))&&n.counter===te&&R(f(e)),a(k,t,"close",{})}))}),k}function R(e){(e=f(e)).removeAttribute("data-ng-animate"),F.remove(e)}function L(e,t){return f(e)===f(t)}function B(e,t,n){(n=n||{}).state=t,(e=f(e)).setAttribute("data-ng-animate",t),n=(t=F.get(e))?_(t,n):n,F.put(e,n)}var F=new v,j=new v,z=null,U=p.$watch(function(){return 0===w.totalPendingRequests},function(e){e&&(U(),p.$$postDigest(function(){p.$$postDigest(function(){null===z&&(z=!0)})}))}),H=Object.create(null),q=t.classNameFilter(),V=q?function(e){return q.test(e)}:function(){return!0},W=a(x),Y=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},G={on:function(e,t,n){var r=o(t);H[e]=H[e]||[],H[e].push({node:r,callback:n}),M(t).on("$destroy",function(){F.get(r)||G.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||P(arguments[0])){var r=H[e];r&&(H[e]=1===arguments.length?null:S(r,t,n))}else for(r in t=arguments[0],H)H[r]=S(H[r],t)},pin:function(e,t){n(N(e),"element","not an element"),n(N(t),"parentElement","not an element"),e.data("$ngAnimatePin",t)},push:function(e,t,n,r){return(n=n||{}).domOperation=r,k(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!z;else if(N(e)){var r=f(e);1===n?t=!j.get(r):j.put(r,!t)}else t=z=!!e;return t}};return G}]}]).provider("$$animation",["$animateProvider",function(e){var t=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,n,i,o,c,u){var d=[],p=a(e);return function(a,h,m){function g(e){var t=[],n={};E(e,function(e,r){var i=f(e.element),o=0<=["enter","move"].indexOf(e.event);if((i=e.structural?function(e){e=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]");var t=[];return E(e,function(e){var n=e.getAttribute("ng-animate-ref");n&&n.length&&t.push(e)}),t}(i):[]).length){var a=o?"to":"from";E(i,function(e){var t=e.getAttribute("ng-animate-ref");n[t]=n[t]||{},n[t][a]={animationID:r,element:M(e)}})}else t.push(e)});var r={},i={};return E(n,function(n,o){var a=n.from,s=n.to;if(a&&s){var l=e[a.animationID],c=e[s.animationID],u=a.animationID.toString();if(!i[u]){var d=i[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:function(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}(l.classes,c.classes),from:l,to:c,anchors:[]};d.classes.length?t.push(d):(t.push(l),t.push(c))}i[u].anchors.push({out:a.element,in:s.element})}else s=(a=a?a.animationID:s.animationID).toString(),r[s]||(r[s]=!0,t.push(e[a]))}),t}function v(){var e=a.data("$$animationRunner");!e||"leave"===h&&m.$$domOperationFired||e.end()}function b(t){a.off("$destroy",v),a.removeData("$$animationRunner"),p(a,m),l(a,m),m.domOperation(),$&&e.removeClass(a,$),a.removeClass("ng-animate"),w.complete(!t)}m=s(m);var y=0<=["enter","move","leave"].indexOf(h),w=new o({end:function(){b()},cancel:function(){b(!0)}});if(!t.length)return b(),w;a.data("$$animationRunner",w);var x,C=r(a.attr("class"),r(m.addClass,m.removeClass)),$=m.tempClasses;return $&&(C+=" "+$,m.tempClasses=null),y&&(x="ng-"+h+"-prepare",e.addClass(a,x)),d.push({element:a,classes:C,event:h,structural:y,options:m,beforeStart:function(){a.addClass("ng-animate"),$&&e.addClass(a,$),x&&(e.removeClass(a,x),x=null)},close:b}),a.on("$destroy",v),1<d.length?w:(n.$$postDigest(function(){var e=[];E(d,function(t){t.element.data("$$animationRunner")?e.push(t):t.close()}),d.length=0;var n=g(e),r=[];E(n,function(e){r.push({domNode:f(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var n,r=e.close;if((e.anchors?e.from.element||e.to.element:e.element).data("$$animationRunner")){var o=function(e){for(var n=t.length-1;0<=n;n--){var r=i.get(t[n])(e);if(r)return r}}(e);o&&(n=o.start)}n?((n=n()).done(function(e){r(!e)}),function(e,t){function n(e){(e=e.data("$$animationRunner"))&&e.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}(e,n)):r()}})}),u(function(e){function t(e){if(e.processed)return e;e.processed=!0;var n,o=e.domNode,a=o.parentNode;for(i.put(o,e);a;){if(n=i.get(a)){n.processed||(n=t(n));break}a=a.parentNode}return(n||r).children.push(e),e}var n,r={children:[]},i=new c;for(n=0;n<e.length;n++){var o=e[n];i.put(o.domNode,e[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);e=r.length;var i=0,o=[];for(t=0;t<r.length;t++){var a=r[t];0>=e&&(e=i,i=0,n.push(o),o=[]),o.push(a.fn),a.children.forEach(function(e){i++,r.push(e)}),e--}return o.length&&n.push(o),n}(r)}(r))}),w)}}]}]).provider("$animateCss",["$animateProvider",function(e){var t=w(),n=w();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,r,o,d,g,w,_,A){function N(e,t){var n=e.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++I))+"-"+e.getAttribute("class")+"-"+t}function R(e){M.push(e),_.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=g(),r=0;r<M.length;r++)M[r](e);M.length=0})}function O(n,r,i){return(r=t.get(i))||"infinite"===(r=v(e,n,H)).animationIterationCount&&(r.animationIterationCount=1),t.put(i,r),i=(n=r).animationDelay,r=n.transitionDelay,n.maxDelay=i&&r?Math.max(i,r):i||r,n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration),n}var P=a(r),I=0,M=[];return function(a,g){function _(){M()}function I(){M(!0)}function M(e){if(!(X||Z&&K)){X=!0,K=!1,W.$$skipPreparationClasses||r.removeClass(a,xe),r.removeClass(a,$e),h(G,!1),p(G,!1),E(se,function(e){G.style[e[0]]=""}),P(a,W),l(a,W),Object.keys(Y).length&&E(Y,function(e,t){e?G.style.setProperty(t,e):G.style.removeProperty(t)}),W.onDone&&W.onDone(),ue&&ue.length&&a.off(ue.join(" "),H);var t=a.data("$$animateCss");t&&(d.cancel(t[0].timer),a.removeData("$$animateCss")),J&&J.complete(!e)}}function z(e){Ee.blockTransition&&p(G,e),Ee.blockKeyframeAnimation&&h(G,!!e)}function U(){return J=new o({end:_,cancel:I}),R(L),M(),{$$willAnimate:!1,start:function(){return J},end:_}}function H(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-ie,0)>=te&&t>=ne&&(Z=!0,M())}function V(){function e(){if(!X){if(z(!1),E(se,function(e){G.style[e[0]]=e[1]}),P(a,W),r.addClass(a,$e),Ee.recalculateTimingStyles){if(Ce=G.getAttribute("class")+" "+xe,he=N(G,Ce),ke=O(G,Ce,he),Te=ke.maxDelay,ee=Math.max(Te,0),0===(ne=ke.maxDuration))return void M();Ee.hasTransitions=0<ke.transitionDuration,Ee.hasAnimations=0<ke.animationDuration}if(Ee.applyAnimationDelay&&(Te="boolean"!=typeof W.delay&&b(W.delay)?parseFloat(W.delay):Te,ee=Math.max(Te,0),ke.animationDelay=Te,_e=[B,Te+"s"],se.push(_e),G.style[_e[0]]=_e[1]),te=1e3*ee,re=1e3*ne,W.easing){var e,n=W.easing;Ee.hasTransitions&&(e=C+"TimingFunction",se.push([e,n]),G.style[e]=n),Ee.hasAnimations&&(e=S+"TimingFunction",se.push([e,n]),G.style[e]=n)}ke.transitionDuration&&ue.push($),ke.animationDuration&&ue.push(k),ie=Date.now();var i=te+1.5*re;e=ie+i;var o=!0;if((n=a.data("$$animateCss")||[]).length){var s=n[0];(o=e>s.expectedEndTime)?d.cancel(s.timer):n.push(M)}o&&(i=d(t,i,!1),n[0]={timer:i,expectedEndTime:e},n.push(M),a.data("$$animateCss",n)),ue.length&&a.on(ue.join(" "),H),W.to&&(W.cleanupStyles&&x(Y,G,Object.keys(W.to)),u(a,W))}}function t(){var e=a.data("$$animateCss");if(e){for(var t=1;t<e.length;t++)e[t]();a.removeData("$$animateCss")}}if(!X)if(G.parentNode){var n=function(e){if(Z)K&&e&&(K=!1,M());else if(K=!e,ke.animationDuration)if(e=h(G,K),K)se.push(e);else{var t=se,n=t.indexOf(e);0<=e&&t.splice(n,1)}},i=0<Se&&(ke.transitionDuration&&0===me.transitionDuration||ke.animationDuration&&0===me.animationDuration)&&Math.max(me.animationDelay,me.transitionDelay);i?d(e,Math.floor(i*Se*1e3),!1):e(),Q.resume=function(){n(!0)},Q.pause=function(){n(!1)}}else M()}var W=g||{};W.$$prepared||(W=s(T(W)));var Y={},G=f(a);if(!G||!G.parentNode||!A.enabled())return U();var X,K,Z,J,Q,ee,te,ne,re,ie,oe,ae,se=[],le=a.attr("class"),ce=(ae={},(oe=W)&&(oe.to||oe.from)&&(ae.to=oe.to,ae.from=oe.from),ae),ue=[];if(0===W.duration||!w.animations&&!w.transitions)return U();var de=W.event&&D(W.event)?W.event.join(" "):W.event,fe="",pe="";de&&W.structural?fe=i(de,"ng-",!0):de&&(fe=de),W.addClass&&(pe+=i(W.addClass,"-add")),W.removeClass&&(pe.length&&(pe+=" "),pe+=i(W.removeClass,"-remove")),W.applyClassesEarly&&pe.length&&P(a,W);var he,me,ge,ve,be,ye,we,xe=[fe,pe].join(" ").trim(),Ce=le+" "+xe,$e=i(xe,"-active");le=ce.to&&0<Object.keys(ce.to).length;if(!(0<(W.keyframeStyle||"").length||le||xe))return U();0<W.stagger?(ce=parseFloat(W.stagger),me={transitionDelay:ce,animationDelay:ce,transitionDuration:0,animationDuration:0}):(he=N(G,Ce),ge=G,ve=xe,be=he,ye=q,0<t.count(be)&&((we=n.get(be))||(ve=i(ve,"-stagger"),r.addClass(ge,ve),(we=v(e,ge,ye)).animationDuration=Math.max(we.animationDuration,0),we.transitionDuration=Math.max(we.transitionDuration,0),r.removeClass(ge,ve),n.put(be,we))),me=we||{}),W.$$skipPreparationClasses||r.addClass(a,xe),W.transitionStyle&&(ce=[C,W.transitionStyle],m(G,ce),se.push(ce)),0<=W.duration&&(ce=0<G.style[C].length,ce=y(W.duration,ce),m(G,ce),se.push(ce)),W.keyframeStyle&&(ce=[S,W.keyframeStyle],m(G,ce),se.push(ce));var Se=me?0<=W.staggerIndex?W.staggerIndex:t.count(he):0;(de=0===Se)&&!W.skipBlocking&&p(G,9999);var ke=O(G,Ce,he),Te=ke.maxDelay;ee=Math.max(Te,0),ne=ke.maxDuration;var _e,Ee={};if(Ee.hasTransitions=0<ke.transitionDuration,Ee.hasAnimations=0<ke.animationDuration,Ee.hasTransitionAll=Ee.hasTransitions&&"all"===ke.transitionProperty,Ee.applyTransitionDuration=le&&(Ee.hasTransitions&&!Ee.hasTransitionAll||Ee.hasAnimations&&!Ee.hasTransitions),Ee.applyAnimationDuration=W.duration&&Ee.hasAnimations,Ee.applyTransitionDelay=b(W.delay)&&(Ee.applyTransitionDuration||Ee.hasTransitions),Ee.applyAnimationDelay=b(W.delay)&&Ee.hasAnimations,Ee.recalculateTimingStyles=0<pe.length,(Ee.applyTransitionDuration||Ee.applyAnimationDuration)&&(ne=W.duration?parseFloat(W.duration):ne,Ee.applyTransitionDuration&&(Ee.hasTransitions=!0,ke.transitionDuration=ne,ce=0<G.style[C+"Property"].length,se.push(y(ne,ce))),Ee.applyAnimationDuration&&(Ee.hasAnimations=!0,ke.animationDuration=ne,se.push([F,ne+"s"]))),0===ne&&!Ee.recalculateTimingStyles)return U();null!=W.delay&&("boolean"!=typeof W.delay&&(_e=parseFloat(W.delay),ee=Math.max(_e,0)),Ee.applyTransitionDelay&&se.push([j,_e+"s"]),Ee.applyAnimationDelay&&se.push([B,_e+"s"]));return null==W.duration&&0<ke.transitionDuration&&(Ee.recalculateTimingStyles=Ee.recalculateTimingStyles||de),te=1e3*ee,re=1e3*ne,W.skipBlocking||(Ee.blockTransition=0<ke.transitionDuration,Ee.blockKeyframeAnimation=0<ke.animationDuration&&0<me.animationDelay&&0===me.animationDuration),W.from&&(W.cleanupStyles&&x(Y,G,Object.keys(W.from)),c(a,W)),Ee.blockTransition||Ee.blockKeyframeAnimation?z(ne):W.skipBlocking||p(G,!1),{$$willAnimate:!0,end:_,start:function(){if(!X)return J=new o(Q={end:_,cancel:I,resume:null,pause:null}),R(V),J}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,t,n,r,i,o,a){function s(e){return e.replace(/\bng-\S+\b/g,"")}function l(e,t){return P(e)&&(e=e.split(" ")),P(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function c(t,r,i,o){var a=u(t),c=u(r),h=[];if(E(o,function(t){(t=function(t,r,i){function o(e){var t={},n=f(e).getBoundingClientRect();return E(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=d.scrollTop;break;case"left":r+=d.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function a(){var t=l(n=s(i.attr("class")||""),g),n=l(g,n);return(t=e(m,{to:o(i),addClass:"ng-anchor-in "+t,removeClass:"ng-anchor-out "+n,delay:!0})).$$willAnimate?t:null}function c(){m.remove(),r.removeClass("ng-animate-shim"),i.removeClass("ng-animate-shim")}var u,h,m=M(f(r).cloneNode(!0)),g=s(m.attr("class")||"");if(r.addClass("ng-animate-shim"),i.addClass("ng-animate-shim"),m.addClass("ng-anchor"),p.append(m),!(t=(h=e(m,{addClass:"ng-anchor-out",delay:!0,from:o(r)})).$$willAnimate?h:null)&&!(u=a()))return c();var v=t||u;return{start:function(){function e(){r&&r.end()}var t,r=v.start();return r.done(function(){if(r=null,!u&&(u=a()))return(r=u.start()).done(function(){r=null,c(),t.complete()}),r;c(),t.complete()}),t=new n({end:e,cancel:e})}}}(i,t.out,t.in))&&h.push(t)}),a||c||0!==h.length)return{start:function(){function e(){E(t,function(e){e.end()})}var t=[];a&&t.push(a.start()),c&&t.push(c.start()),E(h,function(e){t.push(e.start())});var r=new n({end:e,cancel:e});return n.all(t,function(e){r.complete(e)}),r}}}function u(t){var n=t.element,r=t.options||{};return t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=g(r.event,r.preparationClasses)),(t=e(n,r)).$$willAnimate?t:null}if(!i.animations&&!i.transitions)return L;var d=a[0].body;t=f(r);var p=M(t.parentNode&&11===t.parentNode.nodeType||d.contains(t)?t:d);return function(e){return e.from&&e.to?c(e.from,e.to,e.classes,e.anchors):u(e)}}]}]).provider("$$animateJs",["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){var i=a(r);return function(r,o,a,c){function u(){c.domOperation(),i(r,c)}function d(e,t,r,i,o){var a=[];return E(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,l=function(e){a||(a=!0,(o||L)(e),i.complete(!e))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),o=function(e,t,r,i,o){switch(r){case"animate":t=[t,i.from,i.to,o];break;case"setClass":t=[t,y,w,o];break;case"addClass":t=[t,y,o];break;case"removeClass":t=[t,w,o];break;default:t=[t,o]}if(t.push(i),e=e.apply(e,t))if(R(e.start)&&(e=e.start()),e instanceof n)e.done(o);else if(R(e))return e;return L}(s,e,t,r,function(e){l(!1===e)}),i})}),a}function f(e,t,r,i,o){var a,s,l=d(e,t,r,i,o);0===l.length&&("beforeSetClass"===o?(a=d(e,"removeClass",r,i,"beforeRemoveClass"),s=d(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(a=d(e,"removeClass",r,i,"removeClass"),s=d(e,"addClass",r,i,"addClass")),a&&(l=l.concat(a)),s&&(l=l.concat(s)));if(0!==l.length)return function(e){var t=[];return l.length&&E(l,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){E(t,function(t){e?t.cancel():t.end()})}}}var p=!1;3===arguments.length&&O(a)&&(c=a,a=null),c=s(c),a||(a=r.attr("class")||"",c.addClass&&(a+=" "+c.addClass),c.removeClass&&(a+=" "+c.removeClass));var h,m,g,v,b,y=c.addClass,w=c.removeClass,x=function(n){n=D(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!i[a]&&(r.push(t.get(s)),i[a]=!0)}return r}(a);x.length&&("leave"===o?(v="leave",g="afterLeave"):(v="before"+o.charAt(0).toUpperCase()+o.substr(1),g=o),"enter"!==o&&"move"!==o&&(h=f(r,o,c,x,v)),m=f(r,o,c,x,g));if(h||m)return{$$willAnimate:!0,end:function(){return b?b.end():(p=!0,u(),l(r,c),(b=new n).complete(!0)),b},start:function(){function e(e){p=!0,u(),l(r,c),b.complete(e)}if(b)return b;b=new n;var t,i=[];return h&&i.push(function(e){t=h(e)}),i.length?i.push(function(e){u(),e(!0)}):u(),m&&i.push(function(e){t=m(e)}),b.setHost({end:function(){p||((t||L)(void 0),e(void 0))},cancel:function(){p||((t||L)(!0),e(!0))}}),n.chain(i,e),b}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){return e(t.element,t.event,t.classes,t.options)}return function(e){if(!e.from||!e.to)return n(e);var r=n(e.from),i=n(e.to);return r||i?{start:function(){function e(){return function(){E(n,function(e){e.end()})}}var n=[];r&&n.push(r.start()),i&&n.push(i.start()),t.all(n,function(e){o.complete(e)});var o=new t({end:e(),cancel:e()});return o}}:void 0}}]}])}(window,window.angular),function(e,t){"use strict";function n(e){l&&e.get("$route")}function r(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,a,s,l){function c(){p&&(r.cancel(p),p=null),d&&(d.$destroy(),d=null),f&&((p=r.leave(f)).done(function(e){!1!==e&&(p=null)}),f=null)}function u(){var a=e.current&&e.current.locals;if(t.isDefined(a&&a.$template)){a=i.$new();var s=e.current;f=l(a,function(e){r.enter(e,null,f||o).done(function(e){!1===e||!t.isDefined(h)||h&&!i.$eval(h)||n()}),c()}),(d=s.scope=a).$emit("$viewContentLoaded"),d.$eval(m)}else c()}var d,f,p,h=a.autoscroll,m=a.onload||"";i.$on("$routeChangeSuccess",u),u()}}}function i(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,a=o.locals;i.html(a.$template);var s=e(i.contents());if(o.controller){a.$scope=r;var l=t(o.controller,a);o.controllerAs&&(r[o.controllerAs]=l),i.data("$ngControllerController",l),i.children().data("$ngControllerController",l)}r[o.resolveAs||"$resolve"]=a,s(r)}}}var o,a,s,l,c=t.module("ngRoute",[]).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,t,n,r){return e="?"===r||"*?"===r?"?":null,r="*"===r||"*?"===r?"*":null,i.push({name:n,optional:!!e}),t=t||"",(e?"":t)+"(?:"+(e?t:"")+(r?"(.+?)":"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([/$*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}o=t.isArray,a=t.isObject,s=t.isDefined;var r={};this.when=function(e,i){var s;if(s=void 0,o(i)){s=s||[];for(var l=0,c=i.length;l<c;l++)s[l]=i[l]}else if(a(i))for(l in s=s||{},i)"$"===l.charAt(0)&&"$"===l.charAt(1)||(s[l]=i[l]);return s=s||i,t.isUndefined(s.reloadOnSearch)&&(s.reloadOnSearch=!0),t.isUndefined(s.caseInsensitiveMatch)&&(s.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(s,e&&n(e,s)),e&&(l="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/",r[l]=t.extend({redirectTo:e},n(l,s))),this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},l=!0,this.eagerInstantiationEnabled=function(e){return s(e)?(l=e,this):l},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,a,s,l,c){function d(o){var a,s,l=w.current;t.forEach(r,function(n,r){var o;if(o=!s){var l=i.path();o=n.keys;var c={};if(n.regexp)if(l=n.regexp.exec(l)){for(var u=1,d=l.length;u<d;++u){var f=o[u-1],p=l[u];f&&p&&(c[f.name]=p)}o=c}else o=null;else o=null;o=a=o}o&&((s=e(n,{params:t.extend({},i.search(),a),pathParams:a})).$$route=n)}),(b=(v=s||r.null&&e(r.null,{params:{},pathParams:{}}))&&l&&v.$$route===l.$$route&&t.equals(v.pathParams,l.pathParams)&&!v.reloadOnSearch&&!y)||!l&&!v||n.$broadcast("$routeChangeStart",v,l).defaultPrevented&&o&&o.preventDefault()}function f(){var e=w.current,r=v;if(b)e.params=r.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e);else if(r||e){y=!1,w.current=r;var i=a.resolve(r);i.then(p).then(h).then(function(a){return a&&i.then(m).then(function(i){r===w.current&&(r&&(r.locals=i,t.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,e))})}).catch(function(t){r===w.current&&n.$broadcast("$routeChangeError",r,e,t)})}}function p(e){var n={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(t.isString(e.redirectTo))n.path=g(e.redirectTo,e.params),n.search=e.params,n.hasRedirection=!0;else{var r=i.path(),o=i.search();e=e.redirectTo(e.pathParams,r,o),t.isDefined(e)&&(n.url=e,n.hasRedirection=!0)}else if(e.resolveRedirectTo)return a.resolve(s.invoke(e.resolveRedirectTo)).then(function(e){return t.isDefined(e)&&(n.url=e,n.hasRedirection=!0),n});return n}function h(e){var t=!0;if(e.route!==w.current)t=!1;else if(e.hasRedirection){var n=i.url(),r=e.url;r?i.url(r).replace():r=i.path(e.path).search(e.search).replace().url(),r!==n&&(t=!1)}return t}function m(e){if(e){var n=t.extend({},e.resolve);return t.forEach(n,function(e,r){n[r]=t.isString(e)?s.get(e):s.invoke(e,null,null,r)}),r=e,t.isDefined(i=r.template)?t.isFunction(i)&&(i=i(r.params)):t.isDefined(o=r.templateUrl)&&(t.isFunction(o)&&(o=o(r.params)),t.isDefined(o)&&(r.loadedTemplateUrl=c.valueOf(o),i=l(o))),e=i,t.isDefined(e)&&(n.$template=e),a.all(n)}var r,i,o}function g(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var v,b,y=!1,w={routes:r,reload:function(){y=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,y=!1}};n.$evalAsync(function(){d(e),e.defaultPrevented||f()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw u("norout");e=t.extend({},this.current.params,e),i.path(g(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",f),w}]}).run(n),u=t.$$minErr("ngRoute");n.$inject=["$injector"],c.provider("$routeParams",function(){this.$get=function(){return{}}}),c.directive("ngView",r),c.directive("ngView",i),r.$inject=["$route","$anchorScroll","$animate"],i.$inject=["$compile","$controller","$route"]}(window,window.angular),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig","uiTinymceService",function(e,t,n,r,i,o,a){return(o=o||{}).baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],priority:599,link:function(s,l,c,u){if(r.tinymce){var d,f,p=u[0],h=u[1]||null,m={debounce:!0},g=function(t){var n=t.getContent({format:m.format}).trim();n=i.trustAsHtml(n),p.$setViewValue(n),e.$$phase||s.$digest()},v=a.getUniqueId();c.$set("id",v),d={},angular.extend(d,s.$eval(c.uiTinymce));var b,y=function(e){n.cancel(b),b=n(function(){var t;(t=e).isDirty()&&(t.save(),g(t))},400)},w={setup:function(t){t.on("init",function(){p.$render(),p.$setPristine(),p.$setUntouched(),h&&h.$setPristine()}),t.on("ExecCommand change NodeChange ObjectResized",function(){if(!m.debounce)return t.save(),void g(t);y(t)}),t.on("blur",function(){l[0].blur(),p.$setTouched(),e.$$phase||s.$digest()}),t.on("remove",function(){l.remove()}),o.setup&&o.setup(t,{updateView:g}),d.setup&&d.setup(t,{updateView:g})},format:d.format||"html",selector:"#"+c.id};angular.extend(m,o,d,w),n(function(){m.baseURL&&(tinymce.baseURL=m.baseURL),m.language="es_MX";var e=tinymce.init(m);e&&"function"==typeof e.then?e.then(function(){C(s.$eval(c.ngDisabled))}):C(s.$eval(c.ngDisabled))}),p.$formatters.unshift(function(e){return e?i.trustAsHtml(e):""}),p.$parsers.unshift(function(e){return e?i.getTrustedHtml(e):""}),p.$render=function(){$();var e=p.$viewValue?i.getTrustedHtml(p.$viewValue):"";f&&f.getDoc()&&(f.setContent(e),f.fire("change"))},c.$observe("disabled",C);var x=s.$on("$tinymce:refresh",function(e,n){var r=c.id;if(angular.isUndefined(n)||n===r){var i=l.parent(),o=l.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,r),i.append(t(o)(s)),x()}});s.$on("$destroy",function(){$(),f&&(f.remove(),f=null)})}function C(e){e?($(),f&&f.getBody().setAttribute("contenteditable",!1)):($(),f&&!f.settings.readonly&&f.getDoc()&&f.getBody().setAttribute("contenteditable",!0))}function $(){f||(f=tinymce.get(c.id))}}}}]).service("uiTinymceService",[function(){return new function(){var e=0;return{getUniqueId:function(){return"ui-tinymce-"+ ++e}}}}]),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n=[],r=n.slice,i=n.concat,o=n.push,a=n.indexOf,s={},l=s.toString,c=s.hasOwnProperty,u={},d=e.document,f=function(e,t){return new f.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,h=/^-ms-/,m=/-([\da-z])/gi,g=function(e,t){return t.toUpperCase()};function v(e){var t="length"in e&&e.length,n=f.type(e);return"function"!==n&&!f.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}f.fn=f.prototype={jquery:"2.1.4",constructor:f,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=f.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return f.each(this,e,t)},map:function(e){return this.pushStack(f.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:o,sort:n.sort,splice:n.splice},f.extend=f.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||f.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(f.isPlainObject(r)||(i=f.isArray(r)))?(i?(i=!1,o=n&&f.isArray(n)?n:[]):o=n&&f.isPlainObject(n)?n:{},a[t]=f.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},f.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===f.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!f.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===f.type(e)&&!e.nodeType&&!f.isWindow(e)&&!(e.constructor&&!c.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?s[l.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=f.trim(e))&&(1===e.indexOf("use strict")?((t=d.createElement("script")).text=e,d.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(h,"ms-").replace(m,g)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=v(e);if(n){if(o)for(;i>r&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;i>r&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(v(Object(e))?f.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;o>i;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,o=0,a=e.length,s=[];if(v(e))for(;a>o;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return i.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(n=e[t],t=e,e=n),f.isFunction(e)?(i=r.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||f.guid++,o):void 0},now:Date.now,support:u}),f.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){s["[object "+t+"]"]=t.toLowerCase()});var b=function(e){var t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b,y,w="sizzle"+1*new Date,x=e.document,C=0,$=0,S=ae(),k=ae(),T=ae(),_=function(e,t){return e===t&&(d=!0),0},E=1<<31,D={}.hasOwnProperty,A=[],N=A.pop,R=A.push,O=A.push,P=A.slice,I=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=B.replace("w","w#"),j="\\["+L+"*("+B+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+L+"*\\]",z=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",U=new RegExp(L+"+","g"),H=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),q=new RegExp("^"+L+"*,"+L+"*"),V=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),W=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),Y=new RegExp(z),G=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),re=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ie=function(){f()};try{O.apply(A=P.call(x.childNodes),x.childNodes),A[x.childNodes.length].nodeType}catch(e){O={apply:A.length?function(e,t){R.apply(e,P.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,i){var o,s,c,u,d,h,v,b,C,$;if((t?t.ownerDocument||t:x)!==p&&f(t),t=t||p,r=r||[],u=t.nodeType,"string"!=typeof e||!e||1!==u&&9!==u&&11!==u)return r;if(!i&&m){if(11!==u&&(o=Q.exec(e)))if(c=o[1]){if(9===u){if(!(s=t.getElementById(c))||!s.parentNode)return r;if(s.id===c)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(c))&&y(t,s)&&s.id===c)return r.push(s),r}else{if(o[2])return O.apply(r,t.getElementsByTagName(e)),r;if((c=o[3])&&n.getElementsByClassName)return O.apply(r,t.getElementsByClassName(c)),r}if(n.qsa&&(!g||!g.test(e))){if(b=v=w,C=t,$=1!==u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(h=a(e),(v=t.getAttribute("id"))?b=v.replace(te,"\\$&"):t.setAttribute("id",b),b="[id='"+b+"'] ",d=h.length;d--;)h[d]=b+ge(h[d]);C=ee.test(e)&&he(t.parentNode)||t,$=h.join(",")}if($)try{return O.apply(r,C.querySelectorAll($)),r}catch(e){}finally{v||t.removeAttribute("id")}}}return l(e.replace(H,"$1"),t,r,i)}function ae(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[w]=!0,e}function le(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=e.length;i--;)r.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||E)-(~e.sourceIndex||E);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return se(function(t){return t=+t,se(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:x;return a!==p&&9===a.nodeType&&a.documentElement?(p=a,h=a.documentElement,(i=a.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",ie,!1):i.attachEvent&&i.attachEvent("onunload",ie)),m=!o(a),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(a.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(a.getElementsByClassName),n.getById=le(function(e){return h.appendChild(e).id=w,!a.getElementsByName||!a.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){return m?t.getElementsByClassName(e):void 0},v=[],g=[],(n.qsa=J.test(a.querySelectorAll))&&(le(function(e){h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")}),le(function(e){var t=a.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=J.test(b=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le(function(e){n.disconnectedMatch=b.call(e,"div"),b.call(e,"[s!='']:x"),v.push("!=",z)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(h.compareDocumentPosition),y=t||J.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},_=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===a||e.ownerDocument===x&&y(x,e)?-1:t===a||t.ownerDocument===x&&y(x,t)?1:u?I(u,e)-I(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!i||!o)return e===a?-1:t===a?1:i?-1:o?1:u?I(u,e)-I(u,t):0;if(i===o)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?ue(s[r],l[r]):s[r]===x?-1:l[r]===x?1:0},a):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),t=t.replace(W,"='$1']"),!(!n.matchesSelector||!m||v&&v.test(t)||g&&g.test(t)))try{var r=b.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),y(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&D.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(_),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return u=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,re),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(U," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&b){for(p=(c=(u=g[w]||(g[w]={}))[e]||[])[0]===C&&c[1],f=c[0]===C&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[C,p,f];break}}else if(b&&(c=(t[w]||(t[w]={}))[e])&&c[0]===C)f=c[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[w]||(d[w]={}))[e]=[C,f]),d!==t)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=I(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(H,"$1"));return r[w]?se(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(ne,re),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return G.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(ne,re).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[0>n?n+t:n]}),even:pe(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function me(){}function ge(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,c=[C,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(l=t[w]||(t[w]={}))[r])&&s[0]===C&&s[1]===o)return c[2]=s[2];if(l[r]=c,c[2]=e(t,n,a))return!0}}}function be(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ye(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),c&&t.push(s));return a}function we(e,t,n,r,i,o){return r&&!r[w]&&(r=we(r)),i&&!i[w]&&(i=we(i,o)),se(function(o,a,s,l){var c,u,d,f=[],p=[],h=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;i>r;r++)oe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:ye(m,f,e,s,l),v=n?i||(o?e:h||r)?[]:a:g;if(n&&n(g,v,s,l),r)for(c=ye(v,p),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(o){if(i||e){if(i){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);i(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=i?I(o,d):f[u])>-1&&(o[c]=!(a[c]=d))}}else v=ye(v===a?v.splice(h,v.length):v),i?i(null,a,v,l):O.apply(a,v)})}function xe(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,u=ve(function(e){return e===t},s,!0),d=ve(function(e){return I(t,e)>-1},s,!0),f=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,i}];o>l;l++)if(n=r.relative[e[l].type])f=[ve(be(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(i=++l;o>i&&!r.relative[e[i].type];i++);return we(l>1&&be(f),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(H,"$1"),n,i>l&&xe(e.slice(l,i)),o>i&&xe(e=e.slice(i)),o>i&&ge(e))}f.push(n)}return be(f)}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,a=oe.tokenize=function(e,t){var n,i,o,a,s,l,c,u=k[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=r.preFilter;s;){for(a in(!n||(i=q.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),n=!1,(i=V.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(H," ")}),s=s.slice(n.length)),r.filter)!(i=X[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,l).slice(0)},s=oe.compile=function(e,t){var n,i,o,s,l,u,d=[],f=[],h=T[e+" "];if(!h){for(t||(t=a(e)),n=t.length;n--;)(h=xe(t[n]))[w]?d.push(h):f.push(h);(h=T(e,(i=f,s=(o=d).length>0,l=i.length>0,u=function(e,t,n,a,u){var d,f,h,m=0,g="0",v=e&&[],b=[],y=c,w=e||l&&r.find.TAG("*",u),x=C+=null==y?1:Math.random()||.1,$=w.length;for(u&&(c=t!==p&&t);g!==$&&null!=(d=w[g]);g++){if(l&&d){for(f=0;h=i[f++];)if(h(d,t,n)){a.push(d);break}u&&(C=x)}s&&((d=!h&&d)&&m--,e&&v.push(d))}if(m+=g,s&&g!==m){for(f=0;h=o[f++];)h(v,b,t,n);if(e){if(m>0)for(;g--;)v[g]||b[g]||(b[g]=N.call(a));b=ye(b)}O.apply(a,b),u&&!e&&b.length>0&&m+o.length>1&&oe.uniqueSort(a)}return u&&(C=x,c=y),v},s?se(u):u))).selector=e}return h},l=oe.select=function(e,t,i,o){var l,c,u,d,f,p="function"==typeof e&&e,h=!o&&a(e=p.selector||e);if(i=i||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===t.nodeType&&m&&r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(ne,re),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=X.needsContext.test(e)?0:c.length;l--&&(u=c[l],!r.relative[d=u.type]);)if((f=r.find[d])&&(o=f(u.matches[0].replace(ne,re),ee.test(c[0].type)&&he(t.parentNode)||t))){if(c.splice(l,1),!(e=o.length&&ge(c)))return O.apply(i,o),i;break}}return(p||s(e,h))(o,t,!m,i,ee.test(e)&&he(t.parentNode)||t),i},n.sortStable=w.split("").sort(_).join("")===w,n.detectDuplicates=!!d,f(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(M,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);f.find=b,f.expr=b.selectors,f.expr[":"]=f.expr.pseudos,f.unique=b.uniqueSort,f.text=b.getText,f.isXMLDoc=b.isXML,f.contains=b.contains;var y=f.expr.match.needsContext,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,x=/^.[^:#\[\.,]*$/;function C(e,t,n){if(f.isFunction(t))return f.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return f.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(x.test(t))return f.filter(t,e,n);t=f.filter(t,e)}return f.grep(e,function(e){return a.call(t,e)>=0!==n})}f.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?f.find.matchesSelector(r,e)?[r]:[]:f.find.matches(e,f.grep(t,function(e){return 1===e.nodeType}))},f.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(f(e).filter(function(){for(t=0;n>t;t++)if(f.contains(i[t],this))return!0}));for(t=0;n>t;t++)f.find(e,i[t],r);return(r=this.pushStack(n>1?f.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&y.test(e)?f(e):e||[],!1).length}});var $,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(f.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:S.exec(e))||!n[1]&&t)return!t||t.jquery?(t||$).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof f?t[0]:t,f.merge(this,f.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:d,!0)),w.test(n[1])&&f.isPlainObject(t))for(n in t)f.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=d.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=d,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):f.isFunction(e)?void 0!==$.ready?$.ready(e):e(f):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),f.makeArray(e,this))}).prototype=f.fn,$=f(d);var k=/^(?:parents|prev(?:Until|All))/,T={children:!0,contents:!0,next:!0,prev:!0};function _(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}f.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&f(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),f.fn.extend({has:function(e){var t=f(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(f.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=y.test(e)||"string"!=typeof e?f(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&f.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?f.unique(o):o)},index:function(e){return e?"string"==typeof e?a.call(f(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(f.unique(f.merge(this.get(),f(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),f.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return f.dir(e,"parentNode")},parentsUntil:function(e,t,n){return f.dir(e,"parentNode",n)},next:function(e){return _(e,"nextSibling")},prev:function(e){return _(e,"previousSibling")},nextAll:function(e){return f.dir(e,"nextSibling")},prevAll:function(e){return f.dir(e,"previousSibling")},nextUntil:function(e,t,n){return f.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return f.dir(e,"previousSibling",n)},siblings:function(e){return f.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return f.sibling(e.firstChild)},contents:function(e){return e.contentDocument||f.merge([],e.childNodes)}},function(e,t){f.fn[e]=function(n,r){var i=f.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=f.filter(r,i)),this.length>1&&(T[e]||f.unique(i),k.test(e)&&i.reverse()),this.pushStack(i)}});var E,D=/\S+/g,A={};function N(){d.removeEventListener("DOMContentLoaded",N,!1),e.removeEventListener("load",N,!1),f.ready()}f.Callbacks=function(e){var t,n,r,i,o,a,s,l,c=[],u=!(e="string"==typeof e?A[e]||(n=A[t=e]={},f.each(t.match(D)||[],function(e,t){n[t]=!0}),n):f.extend({},e)).once&&[],d=function(t){for(r=e.memory&&t,i=!0,l=a||0,a=0,s=c.length,o=!0;c&&s>l;l++)if(!1===c[l].apply(t[0],t[1])&&e.stopOnFalse){r=!1;break}o=!1,c&&(u?u.length&&d(u.shift()):r?c=[]:p.disable())},p={add:function(){if(c){var t=c.length;!function t(n){f.each(n,function(n,r){var i=f.type(r);"function"===i?e.unique&&p.has(r)||c.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),o?s=c.length:r&&(a=t,d(r))}return this},remove:function(){return c&&f.each(arguments,function(e,t){for(var n;(n=f.inArray(t,c,n))>-1;)c.splice(n,1),o&&(s>=n&&s--,l>=n&&l--)}),this},has:function(e){return e?f.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=r=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||i&&!u||(t=[e,(t=t||[]).slice?t.slice():t],o?u.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},f.extend({Deferred:function(e){var t=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return f.Deferred(function(n){f.each(t,function(t,o){var a=f.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&f.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?f.extend(e,r):r}},i={};return r.pipe=r.then,f.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,i,o=0,a=r.call(arguments),s=a.length,l=1!==s||e&&f.isFunction(e.promise)?s:0,c=1===l?e:f.Deferred(),u=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?r.call(arguments):o,i===t?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>o;o++)a[o]&&f.isFunction(a[o].promise)?a[o].promise().done(u(o,i,a)).fail(c.reject).progress(u(o,n,t)):--l;return l||c.resolveWith(i,a),c.promise()}}),f.fn.ready=function(e){return f.ready.promise().done(e),this},f.extend({isReady:!1,readyWait:1,holdReady:function(e){e?f.readyWait++:f.ready(!0)},ready:function(e){(!0===e?--f.readyWait:f.isReady)||(f.isReady=!0,!0!==e&&--f.readyWait>0||(E.resolveWith(d,[f]),f.fn.triggerHandler&&(f(d).triggerHandler("ready"),f(d).off("ready"))))}}),f.ready.promise=function(t){return E||(E=f.Deferred(),"complete"===d.readyState?setTimeout(f.ready):(d.addEventListener("DOMContentLoaded",N,!1),e.addEventListener("load",N,!1))),E.promise(t)},f.ready.promise();var R=f.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,c=null==n;if("object"===f.type(n))for(s in i=!0,n)f.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,f.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(f(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):o};function O(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=f.expando+O.uid++}f.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},O.uid=1,O.accepts=f.acceptData,O.prototype={key:function(e){if(!O.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=O.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,f.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(f.isEmptyObject(o))f.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,f.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{f.isArray(t)?r=t.concat(t.map(f.camelCase)):(i=f.camelCase(t),t in a?r=[t,i]:r=(r=i)in a?[r]:r.match(D)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!f.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var P=new O,I=new O,M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/([A-Z])/g;function B(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(L,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:M.test(n)?f.parseJSON(n):n)}catch(e){}I.set(e,t,n)}else n=void 0;return n}f.extend({hasData:function(e){return I.hasData(e)||P.hasData(e)},data:function(e,t,n){return I.access(e,t,n)},removeData:function(e,t){I.remove(e,t)},_data:function(e,t,n){return P.access(e,t,n)},_removeData:function(e,t){P.remove(e,t)}}),f.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=I.get(o),1===o.nodeType&&!P.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(0===(r=a[n].name).indexOf("data-")&&(r=f.camelCase(r.slice(5)),B(o,r,i[r])));P.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){I.set(this,e)}):R(this,function(t){var n,r=f.camelCase(e);if(o&&void 0===t){if(void 0!==(n=I.get(o,e)))return n;if(void 0!==(n=I.get(o,r)))return n;if(void 0!==(n=B(o,r,void 0)))return n}else this.each(function(){var n=I.get(this,r);I.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&I.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){I.remove(this,e)})}}),f.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=P.get(e,t),n&&(!r||f.isArray(n)?r=P.access(e,t,f.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=f.queue(e,t),r=n.length,i=n.shift(),o=f._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){f.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return P.get(e,n)||P.access(e,n,{empty:f.Callbacks("once memory").add(function(){P.remove(e,[t+"queue",n])})})}}),f.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?f.queue(this[0],e):void 0===t?this:this.each(function(){var n=f.queue(this,e,t);f._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&f.dequeue(this,e)})},dequeue:function(e){return this.each(function(){f.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=f.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=P.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var F,j,z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],H=function(e,t){return e=t||e,"none"===f.css(e,"display")||!f.contains(e.ownerDocument,e)},q=/^(?:checkbox|radio)$/i;F=d.createDocumentFragment().appendChild(d.createElement("div")),(j=d.createElement("input")).setAttribute("type","radio"),j.setAttribute("checked","checked"),j.setAttribute("name","t"),F.appendChild(j),u.checkClone=F.cloneNode(!0).cloneNode(!0).lastChild.checked,F.innerHTML="<textarea>x</textarea>",u.noCloneChecked=!!F.cloneNode(!0).lastChild.defaultValue;var V="undefined";u.focusinBubbles="onfocusin"in e;var W=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,G=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function Z(){return!1}function J(){try{return d.activeElement}catch(e){}}f.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,c,u,d,p,h,m,g,v=P.get(e);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=f.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return typeof f!==V&&f.event.triggered!==t.type?f.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(D)||[""]).length;c--;)h=g=(s=X.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),h&&(d=f.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=f.event.special[h]||{},u=f.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&f.expr.match.needsContext.test(i),namespace:m.join(".")},o),(p=l[h])||((p=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,m,a)||e.addEventListener&&e.addEventListener(h,a,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),f.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,c,u,d,p,h,m,g,v=P.hasData(e)&&P.get(e);if(v&&(l=v.events)){for(c=(t=(t||"").match(D)||[""]).length;c--;)if(h=g=(s=X.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),h){for(d=f.event.special[h]||{},p=l[h=(r?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)u=p[o],!i&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,m,v.handle)||f.removeEvent(e,h,v.handle),delete l[h])}else for(h in l)f.event.remove(e,h+t[c],n,r,!0);f.isEmptyObject(l)&&(delete v.handle,P.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,p,h,m=[r||d],g=c.call(t,"type")?t.type:t,v=c.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||d,3!==r.nodeType&&8!==r.nodeType&&!G.test(g+f.event.triggered)&&(g.indexOf(".")>=0&&(g=(v=g.split(".")).shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[f.expando]?t:new f.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=v.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:f.makeArray(n,[t]),h=f.event.special[g]||{},i||!h.trigger||!1!==h.trigger.apply(r,n))){if(!i&&!h.noBubble&&!f.isWindow(r)){for(l=h.delegateType||g,G.test(l+g)||(a=a.parentNode);a;a=a.parentNode)m.push(a),s=a;s===(r.ownerDocument||d)&&m.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=m[o++])&&!t.isPropagationStopped();)t.type=o>1?l:h.bindType||g,(p=(P.get(a,"events")||{})[t.type]&&P.get(a,"handle"))&&p.apply(a,n),(p=u&&a[u])&&p.apply&&f.acceptData(a)&&(t.result=p.apply(a,n),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),n)||!f.acceptData(r)||u&&f.isFunction(r[g])&&!f.isWindow(r)&&((s=r[u])&&(r[u]=null),f.event.triggered=g,r[g](),f.event.triggered=void 0,s&&(r[u]=s)),t.result}},dispatch:function(e){e=f.event.fix(e);var t,n,i,o,a,s=[],l=r.call(arguments),c=(P.get(this,"events")||{})[e.type]||[],u=f.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=f.event.handlers.call(this,e,c),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,void 0!==(i=((f.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(r=[],n=0;s>n;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?f(i,this).index(l)>=0:f.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||d).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[f.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Y.test(i)?this.mouseHooks:W.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new f.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=d),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==J()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===J()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&f.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return f.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=f.extend(new f.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?f.event.trigger(i,null,t):f.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},f.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},f.Event=function(e,t){return this instanceof f.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?K:Z):this.type=e,t&&f.extend(this,t),this.timeStamp=e&&e.timeStamp||f.now(),void(this[f.expando]=!0)):new f.Event(e,t)},f.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=K,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=K,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=K,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){f.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return(!r||r!==this&&!f.contains(this,r))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),u.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){f.event.simulate(t,e.target,f.event.fix(e),!0)};f.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=P.access(r,t);i||r.addEventListener(e,n,!0),P.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=P.access(r,t)-1;i?P.access(r,t,i):(r.removeEventListener(e,n,!0),P.remove(r,t))}}}),f.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=Z;else if(!r)return this;return 1===i&&(o=r,(r=function(e){return f().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=f.guid++)),this.each(function(){f.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,f(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=Z),this.each(function(){f.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){f.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?f.event.trigger(e,t,n,!0):void 0}});var Q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ee=/<([\w:]+)/,te=/<|&#?\w+;/,ne=/<(?:script|style|link)/i,re=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^$|\/(?:java|ecma)script/i,oe=/^true\/(.*)/,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function le(e,t){return f.nodeName(e,"table")&&f.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ce(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ue(e){var t=oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function de(e,t){for(var n=0,r=e.length;r>n;n++)P.set(e[n],"globalEval",!t||P.get(t[n],"globalEval"))}function fe(e,t){var n,r,i,o,a,s,l,c;if(1===t.nodeType){if(P.hasData(e)&&(o=P.access(e),a=P.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;r>n;n++)f.event.add(t,i,c[i][n]);I.hasData(e)&&(s=I.access(e),l=f.extend({},s),I.set(t,l))}}function pe(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&f.nodeName(e,t)?f.merge([e],n):n}se.optgroup=se.option,se.tbody=se.tfoot=se.colgroup=se.caption=se.thead,se.th=se.td,f.extend({clone:function(e,t,n){var r,i,o,a,s,l,c,d=e.cloneNode(!0),p=f.contains(e.ownerDocument,e);if(!(u.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||f.isXMLDoc(e)))for(a=pe(d),r=0,i=(o=pe(e)).length;i>r;r++)s=o[r],l=a[r],void 0,"input"===(c=l.nodeName.toLowerCase())&&q.test(s.type)?l.checked=s.checked:("input"===c||"textarea"===c)&&(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||pe(e),a=a||pe(d),r=0,i=o.length;i>r;r++)fe(o[r],a[r]);else fe(e,d);return(a=pe(d,"script")).length>0&&de(a,!p&&pe(e,"script")),d},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,c,u=t.createDocumentFragment(),d=[],p=0,h=e.length;h>p;p++)if((i=e[p])||0===i)if("object"===f.type(i))f.merge(d,i.nodeType?[i]:i);else if(te.test(i)){for(o=o||u.appendChild(t.createElement("div")),a=(ee.exec(i)||["",""])[1].toLowerCase(),s=se[a]||se._default,o.innerHTML=s[1]+i.replace(Q,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;f.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(t.createTextNode(i));for(u.textContent="",p=0;i=d[p++];)if((!r||-1===f.inArray(i,r))&&(l=f.contains(i.ownerDocument,i),o=pe(u.appendChild(i),"script"),l&&de(o),n))for(c=0;i=o[c++];)ie.test(i.type||"")&&n.push(i);return u},cleanData:function(e){for(var t,n,r,i,o=f.event.special,a=0;void 0!==(n=e[a]);a++){if(f.acceptData(n)&&((i=n[P.expando])&&(t=P.cache[i]))){if(t.events)for(r in t.events)o[r]?f.event.remove(n,r):f.removeEvent(n,r,t.handle);P.cache[i]&&delete P.cache[i]}delete I.cache[n[I.expando]]}}}),f.fn.extend({text:function(e){return R(this,function(e){return void 0===e?f.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||le(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?f.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||f.cleanData(pe(n)),n.parentNode&&(t&&f.contains(n.ownerDocument,n)&&de(pe(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(f.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return f.clone(this,e,t)})},html:function(e){return R(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ne.test(e)&&!se[(ee.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Q,"<$1></$2>");try{for(;r>n;n++)1===(t=this[n]||{}).nodeType&&(f.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,f.cleanData(pe(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,o,a,s,l,c=0,d=this.length,p=this,h=d-1,m=e[0],g=f.isFunction(m);if(g||d>1&&"string"==typeof m&&!u.checkClone&&re.test(m))return this.each(function(n){var r=p.eq(n);g&&(e[0]=m.call(this,n,r.html())),r.domManip(e,t)});if(d&&(r=(n=f.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(a=(o=f.map(pe(n,"script"),ce)).length;d>c;c++)s=n,c!==h&&(s=f.clone(s,!0,!0),a&&f.merge(o,pe(s,"script"))),t.call(this[c],s,c);if(a)for(l=o[o.length-1].ownerDocument,f.map(o,ue),c=0;a>c;c++)s=o[c],ie.test(s.type||"")&&!P.access(s,"globalEval")&&f.contains(l,s)&&(s.src?f._evalUrl&&f._evalUrl(s.src):f.globalEval(s.textContent.replace(ae,"")))}return this}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){f.fn[e]=function(e){for(var n,r=[],i=f(e),a=i.length-1,s=0;a>=s;s++)n=s===a?this:this.clone(!0),f(i[s])[t](n),o.apply(r,n.get());return this.pushStack(r)}});var he,me={};function ge(t,n){var r,i=f(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:f.css(i[0],"display");return i.detach(),o}function ve(e){var t=d,n=me[e];return n||("none"!==(n=ge(e,t))&&n||((t=(he=(he||f("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ge(e,t),he.detach()),me[e]=n),n}var be=/^margin/,ye=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),we=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};function xe(e,t,n){var r,i,o,a,s=e.style;return(n=n||we(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||f.contains(e.ownerDocument,e)||(a=f.style(e,t)),ye.test(a)&&be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ce(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){var t,n,r=d.documentElement,i=d.createElement("div"),o=d.createElement("div");if(o.style){function a(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(i);var a=e.getComputedStyle(o,null);t="1%"!==a.top,n="4px"===a.width,r.removeChild(i)}o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",u.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),e.getComputedStyle&&f.extend(u,{pixelPosition:function(){return a(),t},boxSizingReliable:function(){return null==n&&a(),n},reliableMarginRight:function(){var t,n=o.appendChild(d.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(i),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(i),o.removeChild(n),t}})}}(),f.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var $e=/^(none|table(?!-c[ea]).+)/,Se=new RegExp("^("+z+")(.*)$","i"),ke=new RegExp("^([+-])=("+z+")","i"),Te={position:"absolute",visibility:"hidden",display:"block"},_e={letterSpacing:"0",fontWeight:"400"},Ee=["Webkit","O","Moz","ms"];function De(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ee.length;i--;)if((t=Ee[i]+n)in e)return t;return r}function Ae(e,t,n){var r=Se.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ne(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=f.css(e,n+U[o],!0,i)),r?("content"===n&&(a-=f.css(e,"padding"+U[o],!0,i)),"margin"!==n&&(a-=f.css(e,"border"+U[o]+"Width",!0,i))):(a+=f.css(e,"padding"+U[o],!0,i),"padding"!==n&&(a+=f.css(e,"border"+U[o]+"Width",!0,i)));return a}function Re(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=we(e),a="border-box"===f.css(e,"boxSizing",!1,o);if(0>=i||null==i){if((0>(i=xe(e,t,o))||null==i)&&(i=e.style[t]),ye.test(i))return i;r=a&&(u.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Ne(e,t,n||(a?"border":"content"),r,o)+"px"}function Oe(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)(r=e[a]).style&&(o[a]=P.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&H(r)&&(o[a]=P.access(r,"olddisplay",ve(r.nodeName)))):(i=H(r),"none"===n&&i||P.set(r,"olddisplay",i?n:f.css(r,"display"))));for(a=0;s>a;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function Pe(e,t,n,r,i){return new Pe.prototype.init(e,t,n,r,i)}f.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=xe(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=f.camelCase(t),l=e.style;return t=f.cssProps[s]||(f.cssProps[s]=De(l,s)),a=f.cssHooks[t]||f.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:("string"===(o=typeof n)&&(i=ke.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(f.css(e,t)),o="number"),void(null!=n&&n==n&&("number"!==o||f.cssNumber[s]||(n+="px"),u.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=f.camelCase(t);return t=f.cssProps[s]||(f.cssProps[s]=De(e.style,s)),(a=f.cssHooks[t]||f.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=xe(e,t,r)),"normal"===i&&t in _e&&(i=_e[t]),""===n||n?(o=parseFloat(i),!0===n||f.isNumeric(o)?o||0:i):i}}),f.each(["height","width"],function(e,t){f.cssHooks[t]={get:function(e,n,r){return n?$e.test(f.css(e,"display"))&&0===e.offsetWidth?f.swap(e,Te,function(){return Re(e,t,r)}):Re(e,t,r):void 0},set:function(e,n,r){var i=r&&we(e);return Ae(0,n,r?Ne(e,t,r,"border-box"===f.css(e,"boxSizing",!1,i),i):0)}}}),f.cssHooks.marginRight=Ce(u.reliableMarginRight,function(e,t){return t?f.swap(e,{display:"inline-block"},xe,[e,"marginRight"]):void 0}),f.each({margin:"",padding:"",border:"Width"},function(e,t){f.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+U[r]+t]=o[r]||o[r-2]||o[0];return i}},be.test(e)||(f.cssHooks[e+t].set=Ae)}),f.fn.extend({css:function(e,t){return R(this,function(e,t,n){var r,i,o={},a=0;if(f.isArray(t)){for(r=we(e),i=t.length;i>a;a++)o[t[a]]=f.css(e,t[a],!1,r);return o}return void 0!==n?f.style(e,t,n):f.css(e,t)},e,t,arguments.length>1)},show:function(){return Oe(this,!0)},hide:function(){return Oe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){H(this)?f(this).show():f(this).hide()})}}),f.Tween=Pe,Pe.prototype={constructor:Pe,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(f.cssNumber[n]?"":"px")},cur:function(){var e=Pe.propHooks[this.prop];return e&&e.get?e.get(this):Pe.propHooks._default.get(this)},run:function(e){var t,n=Pe.propHooks[this.prop];return this.options.duration?this.pos=t=f.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Pe.propHooks._default.set(this),this}},Pe.prototype.init.prototype=Pe.prototype,Pe.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=f.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){f.fx.step[e.prop]?f.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[f.cssProps[e.prop]]||f.cssHooks[e.prop])?f.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Pe.propHooks.scrollTop=Pe.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},f.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},f.fx=Pe.prototype.init,f.fx.step={};var Ie,Me,Le,Be,Fe,je=/^(?:toggle|show|hide)$/,ze=new RegExp("^(?:([+-])=|)("+z+")([a-z%]*)$","i"),Ue=/queueHooks$/,He=[function(e,t,n){var r,i,o,a,s,l,c,u=this,d={},p=e.style,h=e.nodeType&&H(e),m=P.get(e,"fxshow");for(r in n.queue||(null==(s=f._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,f.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=f.css(e,"display"),"inline"===("none"===c?P.get(e,"olddisplay")||ve(e.nodeName):c)&&"none"===f.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),t)if(i=t[r],je.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}d[r]=m&&m[r]||f.style(e,r)}else c=void 0;if(f.isEmptyObject(d))"inline"===("none"===c?ve(e.nodeName):c)&&(p.display=c);else for(r in m?"hidden"in m&&(h=m.hidden):m=P.access(e,"fxshow",{}),o&&(m.hidden=!h),h?f(e).show():u.done(function(){f(e).hide()}),u.done(function(){var t;for(t in P.remove(e,"fxshow"),d)f.style(e,t,d[t])}),d)a=Ye(h?m[r]:0,r,u),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],qe={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=ze.exec(t),o=i&&i[3]||(f.cssNumber[e]?"":"px"),a=(f.cssNumber[e]||"px"!==o&&+r)&&ze.exec(f.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",f.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Ve(){return setTimeout(function(){Ie=void 0}),Ie=f.now()}function We(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)i["margin"+(n=U[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ye(e,t,n){for(var r,i=(qe[t]||[]).concat(qe["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function Ge(e,t,n){var r,i,o=0,a=He.length,s=f.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Ie||Ve(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;a>o;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),1>r&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:f.extend({},t),opts:f.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ie||Ve(),duration:n.duration,tweens:[],createTween:function(t,n){var r=f.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=f.camelCase(n)],o=e[n],f.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=f.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);a>o;o++)if(r=He[o].call(c,e,u,c.opts))return r;return f.map(u,Ye,c),f.isFunction(c.opts.start)&&c.opts.start.call(e,c),f.fx.timer(f.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}f.Animation=f.extend(Ge,{tweener:function(e,t){f.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],qe[n]=qe[n]||[],qe[n].unshift(t)},prefilter:function(e,t){t?He.unshift(e):He.push(e)}}),f.speed=function(e,t,n){var r=e&&"object"==typeof e?f.extend({},e):{complete:n||!n&&t||f.isFunction(e)&&e,duration:e,easing:n&&t||t&&!f.isFunction(t)&&t};return r.duration=f.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in f.fx.speeds?f.fx.speeds[r.duration]:f.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){f.isFunction(r.old)&&r.old.call(this),r.queue&&f.dequeue(this,r.queue)},r},f.fn.extend({fadeTo:function(e,t,n,r){return this.filter(H).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=f.isEmptyObject(e),o=f.speed(t,n,r),a=function(){var t=Ge(this,f.extend({},e),o);(i||P.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=f.timers,a=P.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Ue.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&f.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=P.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=f.timers,a=r?r.length:0;for(n.finish=!0,f.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),f.each(["toggle","show","hide"],function(e,t){var n=f.fn[t];f.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(We(t,!0),e,r,i)}}),f.each({slideDown:We("show"),slideUp:We("hide"),slideToggle:We("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){f.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),f.timers=[],f.fx.tick=function(){var e,t=0,n=f.timers;for(Ie=f.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||f.fx.stop(),Ie=void 0},f.fx.timer=function(e){f.timers.push(e),e()?f.fx.start():f.timers.pop()},f.fx.interval=13,f.fx.start=function(){Me||(Me=setInterval(f.fx.tick,f.fx.interval))},f.fx.stop=function(){clearInterval(Me),Me=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(e,t){return e=f.fx&&f.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},Le=d.createElement("input"),Be=d.createElement("select"),Fe=Be.appendChild(d.createElement("option")),Le.type="checkbox",u.checkOn=""!==Le.value,u.optSelected=Fe.selected,Be.disabled=!0,u.optDisabled=!Fe.disabled,(Le=d.createElement("input")).value="t",Le.type="radio",u.radioValue="t"===Le.value;var Xe,Ke=f.expr.attrHandle;f.fn.extend({attr:function(e,t){return R(this,f.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){f.removeAttr(this,e)})}}),f.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===V?f.prop(e,t,n):(1===o&&f.isXMLDoc(e)||(t=t.toLowerCase(),r=f.attrHooks[t]||(f.expr.match.bool.test(t)?Xe:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=f.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void f.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(D);if(o&&1===e.nodeType)for(;n=o[i++];)r=f.propFix[n]||n,f.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!u.radioValue&&"radio"===t&&f.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Xe={set:function(e,t,n){return!1===t?f.removeAttr(e,n):e.setAttribute(n,n),n}},f.each(f.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ke[t]||f.find.attr;Ke[t]=function(e,t,r){var i,o;return r||(o=Ke[t],Ke[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ke[t]=o),i}});var Ze=/^(?:input|select|textarea|button)$/i;f.fn.extend({prop:function(e,t){return R(this,f.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[f.propFix[e]||e]})}}),f.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!f.isXMLDoc(e))&&(t=f.propFix[t]||t,i=f.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ze.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),u.optSelected||(f.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});var Je=/[\t\r\n\f]/g;f.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,l=0,c=this.length;if(f.isFunction(e))return this.each(function(t){f(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(D)||[];c>l;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Je," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=f.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(f.isFunction(e))return this.each(function(t){f(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(D)||[];c>l;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Je," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?f.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(f.isFunction(e)?function(n){f(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=f(this),o=e.match(D)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===V||"boolean"===n)&&(this.className&&P.set(this,"__className__",this.className),this.className=this.className||!1===e?"":P.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Je," ").indexOf(t)>=0)return!0;return!1}});var Qe=/\r/g;f.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=f.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,f(this).val()):e)?i="":"number"==typeof i?i+="":f.isArray(i)&&(i=f.map(i,function(e){return null==e?"":e+""})),(t=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=f.valHooks[i.type]||f.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Qe,""):null==n?"":n:void 0}}),f.extend({valHooks:{option:{get:function(e){var t=f.find.attr(e,"value");return null!=t?t:f.trim(f.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(!(!(n=r[l]).selected&&l!==i||(u.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&f.nodeName(n.parentNode,"optgroup"))){if(t=f(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=f.makeArray(t),a=i.length;a--;)((r=i[a]).selected=f.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(e,t){return f.isArray(t)?e.checked=f.inArray(f(e).val(),t)>=0:void 0}},u.checkOn||(f.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){f.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),f.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var et=f.now(),tt=/\?/;f.parseJSON=function(e){return JSON.parse(e+"")},f.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&f.error("Invalid XML: "+e),t};var nt=/#.*$/,rt=/([?&])_=[^&]*/,it=/^(.*?):[ \t]*([^\r\n]*)$/gm,ot=/^(?:GET|HEAD)$/,at=/^\/\//,st=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lt={},ct={},ut="*/".concat("*"),dt=e.location.href,ft=st.exec(dt.toLowerCase())||[];function pt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(D)||[];if(f.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ht(e,t,n,r){var i={},o=e===ct;function a(s){var l;return i[s]=!0,f.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}return a(t.dataTypes[0])||!i["*"]&&a("*")}function mt(e,t){var n,r,i=f.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&f.extend(!0,e,r),e}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ft[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?mt(mt(e,f.ajaxSettings),t):mt(f.ajaxSettings,e)},ajaxPrefilter:pt(lt),ajaxTransport:pt(ct),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,o,a,s,l,c,u=f.ajaxSetup({},t),d=u.context||u,p=u.context&&(d.nodeType||d.jquery)?f(d):f.event,h=f.Deferred(),m=f.Callbacks("once memory"),g=u.statusCode||{},v={},b={},y=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!o)for(o={};t=it.exec(i);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return n&&n.abort(t),C(0,t),this}};if(h.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,u.url=((e||u.url||dt)+"").replace(nt,"").replace(at,ft[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=f.trim(u.dataType||"*").toLowerCase().match(D)||[""],null==u.crossDomain&&(s=st.exec(u.url.toLowerCase()),u.crossDomain=!(!s||s[1]===ft[1]&&s[2]===ft[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(ft[3]||("http:"===ft[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=f.param(u.data,u.traditional)),ht(lt,u,t,x),2===y)return x;for(c in(l=f.event&&u.global)&&0==f.active++&&f.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!ot.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(tt.test(r)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=rt.test(r)?r.replace(rt,"$1_="+et++):r+(tt.test(r)?"&":"?")+"_="+et++)),u.ifModified&&(f.lastModified[r]&&x.setRequestHeader("If-Modified-Since",f.lastModified[r]),f.etag[r]&&x.setRequestHeader("If-None-Match",f.etag[r])),(u.data&&u.hasContent&&!1!==u.contentType||t.contentType)&&x.setRequestHeader("Content-Type",u.contentType),x.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+ut+"; q=0.01":""):u.accepts["*"]),u.headers)x.setRequestHeader(c,u.headers[c]);if(u.beforeSend&&(!1===u.beforeSend.call(d,x,u)||2===y))return x.abort();for(c in w="abort",{success:1,error:1,complete:1})x[c](u[c]);if(n=ht(ct,u,t,x)){x.readyState=1,l&&p.trigger("ajaxSend",[x,u]),u.async&&u.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},u.timeout));try{y=1,n.send(v,C)}catch(e){if(!(2>y))throw e;C(-1,e)}}else C(-1,"No Transport");function C(e,t,o,s){var c,v,b,w,C,$=t;2!==y&&(y=2,a&&clearTimeout(a),n=void 0,i=s||"",x.readyState=e>0?4:0,c=e>=200&&300>e||304===e,o&&(w=function(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}(u,x,o)),w=function(e,t,n,r){var i,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(u,w,x,c),c?(u.ifModified&&((C=x.getResponseHeader("Last-Modified"))&&(f.lastModified[r]=C),(C=x.getResponseHeader("etag"))&&(f.etag[r]=C)),204===e||"HEAD"===u.type?$="nocontent":304===e?$="notmodified":($=w.state,v=w.data,c=!(b=w.error))):(b=$,(e||!$)&&($="error",0>e&&(e=0))),x.status=e,x.statusText=(t||$)+"",c?h.resolveWith(d,[v,$,x]):h.rejectWith(d,[x,$,b]),x.statusCode(g),g=void 0,l&&p.trigger(c?"ajaxSuccess":"ajaxError",[x,u,c?v:b]),m.fireWith(d,[x,$]),l&&(p.trigger("ajaxComplete",[x,u]),--f.active||f.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return f.get(e,t,n,"json")},getScript:function(e,t){return f.get(e,void 0,t,"script")}}),f.each(["get","post"],function(e,t){f[t]=function(e,n,r,i){return f.isFunction(n)&&(i=i||r,r=n,n=void 0),f.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),f._evalUrl=function(e){return f.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},f.fn.extend({wrapAll:function(e){var t;return f.isFunction(e)?this.each(function(t){f(this).wrapAll(e.call(this,t))}):(this[0]&&(t=f(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(f.isFunction(e)?function(t){f(this).wrapInner(e.call(this,t))}:function(){var t=f(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=f.isFunction(e);return this.each(function(n){f(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()}}),f.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},f.expr.filters.visible=function(e){return!f.expr.filters.hidden(e)};var gt=/%20/g,vt=/\[\]$/,bt=/\r?\n/g,yt=/^(?:submit|button|image|reset|file)$/i,wt=/^(?:input|select|textarea|keygen)/i;function xt(e,t,n,r){var i;if(f.isArray(t))f.each(t,function(t,i){n||vt.test(e)?r(e,i):xt(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==f.type(t))r(e,t);else for(i in t)xt(e+"["+i+"]",t[i],n,r)}f.param=function(e,t){var n,r=[],i=function(e,t){t=f.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=f.ajaxSettings&&f.ajaxSettings.traditional),f.isArray(e)||e.jquery&&!f.isPlainObject(e))f.each(e,function(){i(this.name,this.value)});else for(n in e)xt(n,e[n],t,i);return r.join("&").replace(gt,"+")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=f.prop(this,"elements");return e?f.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!f(this).is(":disabled")&&wt.test(this.nodeName)&&!yt.test(e)&&(this.checked||!q.test(e))}).map(function(e,t){var n=f(this).val();return null==n?null:f.isArray(n)?f.map(n,function(e){return{name:t.name,value:e.replace(bt,"\r\n")}}):{name:t.name,value:n.replace(bt,"\r\n")}}).get()}}),f.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Ct=0,$t={},St={0:200,1223:204},kt=f.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in $t)$t[e]()}),u.cors=!!kt&&"withCredentials"in kt,u.ajax=kt=!!kt,f.ajaxTransport(function(e){var t;return u.cors||kt&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++Ct;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete $t[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(St[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=$t[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return f.globalEval(e),e}}}),f.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),f.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=f("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),d.head.appendChild(t[0])},abort:function(){n&&n()}}});var Tt=[],_t=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Tt.pop()||f.expando+"_"+et++;return this[e]=!0,e}}),f.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(_t.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&_t.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=f.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(_t,"$1"+i):!1!==t.jsonp&&(t.url+=(tt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||f.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Tt.push(i)),a&&f.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),f.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||d;var r=w.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=f.buildFragment([e],t,i),i&&i.length&&f(i).remove(),f.merge([],r.childNodes))};var Et=f.fn.load;f.fn.load=function(e,t,n){if("string"!=typeof e&&Et)return Et.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=f.trim(e.slice(s)),e=e.slice(0,s)),f.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&f.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?f("<div>").append(f.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){f.fn[t]=function(e){return this.on(t,e)}}),f.expr.filters.animated=function(e){return f.grep(f.timers,function(t){return e===t.elem}).length};var Dt=e.document.documentElement;function At(e){return f.isWindow(e)?e:9===e.nodeType&&e.defaultView}f.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,c=f.css(e,"position"),u=f(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=f.css(e,"top"),l=f.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(r=u.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),f.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},f.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){f.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,f.contains(t,r)?(typeof r.getBoundingClientRect!==V&&(i=r.getBoundingClientRect()),n=At(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===f.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),f.nodeName(e[0],"html")||(r=e.offset()),r.top+=f.css(e[0],"borderTopWidth",!0),r.left+=f.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-f.css(n,"marginTop",!0),left:t.left-r.left-f.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Dt;e&&!f.nodeName(e,"html")&&"static"===f.css(e,"position");)e=e.offsetParent;return e||Dt})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;f.fn[t]=function(i){return R(this,function(t,i,o){var a=At(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),f.each(["top","left"],function(e,t){f.cssHooks[t]=Ce(u.pixelPosition,function(e,n){return n?(n=xe(e,t),ye.test(n)?f(e).position()[t]+"px":n):void 0})}),f.each({Height:"height",Width:"width"},function(e,t){f.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){f.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return R(this,function(t,n,r){var i;return f.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?f.css(t,n,a):f.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),f.fn.size=function(){return this.length},f.fn.andSelf=f.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return f});var Nt=e.jQuery,Rt=e.$;return f.noConflict=function(t){return e.$===f&&(e.$=Rt),t&&e.jQuery===f&&(e.jQuery=Nt),f},typeof t===V&&(e.jQuery=e.$=f),f}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});return setTimeout(function(){n||e(r).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function r(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r())};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),"string"==typeof t&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.4",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var r=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var f=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.4",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse")?"toggle":i.data();n.call(o,a)})}(jQuery),function(e){"use strict";function t(t){t&&3===t.which||(e(r).remove(),e(i).each(function(){var r=e(this),i=n(r),o={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}var r=".dropdown-backdrop",i='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.4",o.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),a=o.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},o.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var o=n(r),a=o.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=o.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",i,o.prototype.toggle).on("keydown.bs.dropdown.data-api",i,o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',o.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),function(e){"use strict";var t=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};t.VERSION="3.3.4",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},t.prototype.show=function(){var n=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var u=this.getPosition(),d=o[0].offsetWidth,f=o[0].offsetHeight;if(c){var p=s,h=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(h);s="bottom"==s&&u.bottom+f>m.bottom?"top":"top"==s&&u.top-f<m.top?"bottom":"right"==s&&u.right+d>m.width?"left":"left"==s&&u.left-d<m.left?"right":s,o.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,u,d,f);this.applyPlacement(g,s);var v=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(t.TRANSITION_DURATION):v()}},t.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top=t.top+a,t.left=t.left+s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,c=r[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),f=d?2*u.left-i+l:2*u.top-o+c,p=d?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(f,r[0][p],d)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(n){function r(){"in"!=i.hoverState&&o.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),n&&n()}var i=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(t.TRANSITION_DURATION):r(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var n=(t=t||this.$element)[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:t.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,a,s,o)},t.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+n;c<a.left?i.left=a.left-c:u>a.width&&(i.left=a.left+a.width-u)}return i},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof n&&n;(i||!/destroy|hide/.test(n))&&(i||r.data("bs.tooltip",i=new t(this,o)),"string"==typeof n&&i[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.4",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof n&&n;(i||!/destroy|hide/.test(n))&&(i||r.data("bs.popover",i=new t(this,o)),"string"==typeof n&&i[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.4",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=(r=t.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.4",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(e-r>=i+a)&&"bottom";var s=null==this.affixed,l=s?i:o.top;return null!=n&&n>=i?"top":null!=r&&l+(s?a:t)>=e-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=e(document.body).height();"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),function(e,t,n){!function(e){"use strict";"function"==typeof define&&define.amd?define("datatables",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):jQuery&&!jQuery.fn.dataTable&&e(jQuery)}(function(r){"use strict";var i,o,a,s,l,c={},u=/[\r\n]/g,d=/<.*?>/g,f=/^[\w\+\-]/,p=/[\w\+\-]$/,h=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),m=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,g=function(e){return!e||!0===e||"-"===e},v=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},b=function(e,t){return c[t]||(c[t]=new RegExp(Se(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(c[t],"."):e},y=function(e,t,n){var r="string"==typeof e;return!!g(e)||(t&&r&&(e=b(e,t)),n&&r&&(e=e.replace(m,"")),!isNaN(parseFloat(e))&&isFinite(e))},w=function(e,t,n){return!!g(e)||((g(r=e)||"string"==typeof r)&&!!y(k(e),t,n)||null);var r},x=function(e,t,r){var i=[],o=0,a=e.length;if(r!==n)for(;o<a;o++)e[o]&&e[o][t]&&i.push(e[o][t][r]);else for(;o<a;o++)e[o]&&i.push(e[o][t]);return i},C=function(e,t,r,i){var o=[],a=0,s=t.length;if(i!==n)for(;a<s;a++)e[t[a]][r]&&o.push(e[t[a]][r][i]);else for(;a<s;a++)o.push(e[t[a]][r]);return o},$=function(e,t){var r,i=[];t===n?(t=0,r=e):(r=t,t=e);for(var o=t;o<r;o++)i.push(o);return i},S=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&t.push(e[n]);return t},k=function(e){return e.replace(d,"")},T=function(e){var t,n,r,i=[],o=e.length,a=0;e:for(n=0;n<o;n++){for(t=e[n],r=0;r<a;r++)if(i[r]===t)continue e;i.push(t),a++}return i};function _(e){var t,n,i={};r.each(e,function(r,o){(t=r.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(t[1]+" ")&&(n=r.replace(t[0],t[2].toLowerCase()),i[n]=r,"o"===t[1]&&_(e[r]))}),e._hungarianMap=i}function E(e,t,i){var o;e._hungarianMap||_(e),r.each(t,function(a,s){(o=e._hungarianMap[a])===n||!i&&t[o]!==n||("o"===o.charAt(0)?(t[o]||(t[o]={}),r.extend(!0,t[o],t[a]),E(e[o],t[o],i)):t[o]=t[a])})}function D(e){var t=i.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&ut(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&ut(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var r=e.sDecimal;r&&It(r)}var A=function(e,t,r){e[t]!==n&&(e[r]=e[t])};function N(e){A(e,"ordering","bSort"),A(e,"orderMulti","bSortMulti"),A(e,"orderClasses","bSortClasses"),A(e,"orderCellsTop","bSortCellsTop"),A(e,"order","aaSorting"),A(e,"orderFixed","aaSortingFixed"),A(e,"paging","bPaginate"),A(e,"pagingType","sPaginationType"),A(e,"pageLength","iDisplayLength"),A(e,"searching","bFilter");var t=e.aoSearchCols;if(t)for(var n=0,r=t.length;n<r;n++)t[n]&&E(i.models.oSearch,t[n])}function R(e){A(e,"orderable","bSortable"),A(e,"orderData","aDataSort"),A(e,"orderSequence","asSorting"),A(e,"orderDataType","sortDataType");var t=e.aDataSort;t&&!r.isArray(t)&&(e.aDataSort=[t])}function O(e){var t=e.oBrowser,n=r("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(r("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(r('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),i=n.find(".test");t.bScrollOversize=100===i[0].offsetWidth,t.bScrollbarLeft=1!==Math.round(i.offset().left),n.remove()}function P(e,t,r,i,o,a){var s,l=i,c=!1;for(r!==n&&(s=r,c=!0);l!==o;)e.hasOwnProperty(l)&&(s=c?t(s,e[l],l,e):e[l],c=!0,l+=a);return s}function I(e,n){var o=i.defaults.column,a=e.aoColumns.length,s=r.extend({},i.models.oColumn,o,{nTh:n||t.createElement("th"),sTitle:o.sTitle?o.sTitle:n?n.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[a],mData:o.mData?o.mData:a,idx:a});e.aoColumns.push(s);var l=e.aoPreSearchCols;l[a]=r.extend({},i.models.oSearch,l[a]),M(e,a,r(n).data())}function M(e,t,o){var a=e.aoColumns[t],s=e.oClasses,l=r(a.nTh);if(!a.sWidthOrig){a.sWidthOrig=l.attr("width")||null;var c=(l.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(a.sWidthOrig=c[1])}o!==n&&null!==o&&(R(o),E(i.defaults.column,o),o.mDataProp===n||o.mData||(o.mData=o.mDataProp),o.sType&&(a._sManualType=o.sType),o.className&&!o.sClass&&(o.sClass=o.className),r.extend(a,o),ut(a,o,"sWidth","sWidthOrig"),o.iDataSort!==n&&(a.aDataSort=[o.iDataSort]),ut(a,o,"aDataSort"));var u=a.mData,d=Z(u),f=a.mRender?Z(a.mRender):null,p=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};a._bAttrSrc=r.isPlainObject(u)&&(p(u.sort)||p(u.type)||p(u.filter)),a.fnGetData=function(e,t,r){var i=d(e,t,n,r);return f&&t?f(i,t,e,r):i},a.fnSetData=function(e,t,n){return J(u)(e,t,n)},"number"!=typeof u&&(e._rowReadObject=!0),e.oFeatures.bSort||(a.bSortable=!1,l.addClass(s.sSortableNone));var h=-1!==r.inArray("asc",a.asSorting),m=-1!==r.inArray("desc",a.asSorting);a.bSortable&&(h||m)?h&&!m?(a.sSortingClass=s.sSortableAsc,a.sSortingClassJUI=s.sSortJUIAscAllowed):!h&&m?(a.sSortingClass=s.sSortableDesc,a.sSortingClassJUI=s.sSortJUIDescAllowed):(a.sSortingClass=s.sSortable,a.sSortingClassJUI=s.sSortJUI):(a.sSortingClass=s.sSortableNone,a.sSortingClassJUI="")}function L(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;Ve(e);for(var n=0,r=t.length;n<r;n++)t[n].nTh.style.width=t[n].sWidth}var i=e.oScroll;""===i.sY&&""===i.sX||Ue(e),ht(e,null,"column-sizing",[e])}function B(e,t){var n=z(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function F(e,t){var n=z(e,"bVisible"),i=r.inArray(t,n);return-1!==i?i:null}function j(e){return z(e,"bVisible").length}function z(e,t){var n=[];return r.map(e.aoColumns,function(e,r){e[t]&&n.push(r)}),n}function U(e){var t,r,o,a,s,l,c,u,d,f=e.aoColumns,p=e.aoData,h=i.ext.type.detect;for(t=0,r=f.length;t<r;t++)if(d=[],!(c=f[t]).sType&&c._sManualType)c.sType=c._sManualType;else if(!c.sType){for(o=0,a=h.length;o<a;o++){for(s=0,l=p.length;s<l&&(d[s]===n&&(d[s]=W(e,s,t,"type")),(u=h[o](d[s],e))||o===h.length-1)&&"html"!==u;s++);if(u){c.sType=u;break}}c.sType||(c.sType="string")}}function H(e,t,i,o){var a,s,l,c,u,d,f,p=e.aoColumns;if(t)for(a=t.length-1;a>=0;a--){var h=(f=t[a]).targets!==n?f.targets:f.aTargets;for(r.isArray(h)||(h=[h]),l=0,c=h.length;l<c;l++)if("number"==typeof h[l]&&h[l]>=0){for(;p.length<=h[l];)I(e);o(h[l],f)}else if("number"==typeof h[l]&&h[l]<0)o(p.length+h[l],f);else if("string"==typeof h[l])for(u=0,d=p.length;u<d;u++)("_all"==h[l]||r(p[u].nTh).hasClass(h[l]))&&o(u,f)}if(i)for(a=0,s=i.length;a<s;a++)o(a,i[a])}function q(e,t,n,o){var a=e.aoData.length,s=r.extend(!0,{},i.models.oRow,{src:n?"dom":"data"});s._aData=t,e.aoData.push(s);for(var l=e.aoColumns,c=0,u=l.length;c<u;c++)n&&Y(e,a,c,W(e,a,c)),l[c].sType=null;return e.aiDisplayMaster.push(a),!n&&e.oFeatures.bDeferRender||ie(e,a,n,o),a}function V(e,t){var n;return t instanceof r||(t=r(t)),t.map(function(t,r){return n=re(e,r),q(e,n.data,r,n.cells)})}function W(e,t,r,i){var o=e.iDraw,a=e.aoColumns[r],s=e.aoData[t]._aData,l=a.sDefaultContent,c=a.fnGetData(s,i,{settings:e,row:t,col:r});if(c===n)return e.iDrawError!=o&&null===l&&(ct(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t,4),e.iDrawError=o),l;if(c!==s&&null!==c||null===l){if("function"==typeof c)return c.call(s)}else c=l;return null===c&&"display"==i?"":c}function Y(e,t,n,r){var i=e.aoColumns[n],o=e.aoData[t]._aData;i.fnSetData(o,r,{settings:e,row:t,col:n})}var G=/\[.*?\]$/,X=/\(\)$/;function K(e){return r.map(e.match(/(\\.|[^\.])+/g),function(e){return e.replace(/\\./g,".")})}function Z(e){if(r.isPlainObject(e)){var t={};return r.each(e,function(e,n){n&&(t[e]=Z(n))}),function(e,r,i,o){var a=t[r]||t._;return a!==n?a(e,r,i,o):e}}if(null===e)return function(e){return e};if("function"==typeof e)return function(t,n,r,i){return e(t,n,r,i)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,n){return t[e]};var i=function(e,t,r){var o,a,s,l;if(""!==r)for(var c=K(r),u=0,d=c.length;u<d;u++){if(o=c[u].match(G),a=c[u].match(X),o){c[u]=c[u].replace(G,""),""!==c[u]&&(e=e[c[u]]),s=[],c.splice(0,u+1),l=c.join(".");for(var f=0,p=e.length;f<p;f++)s.push(i(e[f],t,l));var h=o[0].substring(1,o[0].length-1);e=""===h?s:s.join(h);break}if(a)c[u]=c[u].replace(X,""),e=e[c[u]]();else{if(null===e||e[c[u]]===n)return n;e=e[c[u]]}}return e};return function(t,n){return i(t,n,e)}}function J(e){if(r.isPlainObject(e))return J(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,r){e(t,"set",n,r)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,n){t[e]=n};var t=function(e,r,i){for(var o,a,s,l,c,u=K(i),d=u[u.length-1],f=0,p=u.length-1;f<p;f++){if(a=u[f].match(G),s=u[f].match(X),a){u[f]=u[f].replace(G,""),e[u[f]]=[],(o=u.slice()).splice(0,f+1),c=o.join(".");for(var h=0,m=r.length;h<m;h++)t(l={},r[h],c),e[u[f]].push(l);return}s&&(u[f]=u[f].replace(X,""),e=e[u[f]](r)),null!==e[u[f]]&&e[u[f]]!==n||(e[u[f]]={}),e=e[u[f]]}d.match(X)?e=e[d.replace(X,"")](r):e[d.replace(G,"")]=r};return function(n,r){return t(n,r,e)}}function Q(e){return x(e.aoData,"_aData")}function ee(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function te(e,t,r){for(var i=-1,o=0,a=e.length;o<a;o++)e[o]==t?i=o:e[o]>t&&e[o]--;-1!=i&&r===n&&e.splice(i,1)}function ne(e,t,r,i){var o,a,s=e.aoData[t],l=function(n,r){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=W(e,t,r,"display")};if("dom"!==r&&(r&&"auto"!==r||"dom"!==s.src)){var c=s.anCells;if(c)if(i!==n)l(c[i],i);else for(o=0,a=c.length;o<a;o++)l(c[o],o)}else s._aData=re(e,s,i,i===n?n:s._aData).data;s._aSortData=null,s._aFilterData=null;var u=e.aoColumns;if(i!==n)u[i].sType=null;else{for(o=0,a=u.length;o<a;o++)u[o].sType=null;oe(s)}}function re(e,t,i,o){var a,s,l,c=[],u=t.firstChild,d=0,f=e.aoColumns,p=e._rowReadObject;o=o||p?{}:[];var h=function(e,t){if("string"==typeof e){var n=e.indexOf("@");if(-1!==n){var r=e.substring(n+1);J(e)(o,t.getAttribute(r))}}},m=function(e){i!==n&&i!==d||(s=f[d],l=r.trim(e.innerHTML),s&&s._bAttrSrc?(J(s.mData._)(o,l),h(s.mData.sort,e),h(s.mData.type,e),h(s.mData.filter,e)):p?(s._setter||(s._setter=J(s.mData)),s._setter(o,l)):o[d]=l);d++};if(u)for(;u;)"TD"!=(a=u.nodeName.toUpperCase())&&"TH"!=a||(m(u),c.push(u)),u=u.nextSibling;else for(var g=0,v=(c=t.anCells).length;g<v;g++)m(c[g]);return{data:o,cells:c}}function ie(e,n,r,i){var o,a,s,l,c,u=e.aoData[n],d=u._aData,f=[];if(null===u.nTr){for(o=r||t.createElement("tr"),u.nTr=o,u.anCells=f,o._DT_RowIndex=n,oe(u),l=0,c=e.aoColumns.length;l<c;l++)s=e.aoColumns[l],a=r?i[l]:t.createElement(s.sCellType),f.push(a),r&&!s.mRender&&s.mData===l||(a.innerHTML=W(e,n,l,"display")),s.sClass&&(a.className+=" "+s.sClass),s.bVisible&&!r?o.appendChild(a):!s.bVisible&&r&&a.parentNode.removeChild(a),s.fnCreatedCell&&s.fnCreatedCell.call(e.oInstance,a,W(e,n,l),d,n,l);ht(e,"aoRowCreatedCallback",null,[o,d,n])}u.nTr.setAttribute("role","row")}function oe(e){var t=e.nTr,n=e._aData;if(t){if(n.DT_RowId&&(t.id=n.DT_RowId),n.DT_RowClass){var i=n.DT_RowClass.split(" ");e.__rowc=e.__rowc?T(e.__rowc.concat(i)):i,r(t).removeClass(e.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&r(t).attr(n.DT_RowAttr),n.DT_RowData&&r(t).data(n.DT_RowData)}}function ae(e){var t,n,i,o,a,s=e.nTHead,l=e.nTFoot,c=0===r("th, td",s).length,u=e.oClasses,d=e.aoColumns;for(c&&(o=r("<tr/>").appendTo(s)),t=0,n=d.length;t<n;t++)a=d[t],i=r(a.nTh).addClass(a.sClass),c&&i.appendTo(o),e.oFeatures.bSort&&(i.addClass(a.sSortingClass),!1!==a.bSortable&&(i.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),rt(e,a.nTh,t))),a.sTitle!=i.html()&&i.html(a.sTitle),gt(e,"header")(e,i,a,u);if(c&&de(e.aoHeader,s),r(s).find(">tr").attr("role","row"),r(s).find(">tr>th, >tr>td").addClass(u.sHeaderTH),r(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l){var f=e.aoFooter[0];for(t=0,n=f.length;t<n;t++)(a=d[t]).nTf=f[t].cell,a.sClass&&r(a.nTf).addClass(a.sClass)}}function se(e,t,i){var o,a,s,l,c,u,d,f,p,h=[],m=[],g=e.aoColumns.length;if(t){for(i===n&&(i=!1),o=0,a=t.length;o<a;o++){for(h[o]=t[o].slice(),h[o].nTr=t[o].nTr,s=g-1;s>=0;s--)e.aoColumns[s].bVisible||i||h[o].splice(s,1);m.push([])}for(o=0,a=h.length;o<a;o++){if(d=h[o].nTr)for(;u=d.firstChild;)d.removeChild(u);for(s=0,l=h[o].length;s<l;s++)if(f=1,p=1,m[o][s]===n){for(d.appendChild(h[o][s].cell),m[o][s]=1;h[o+f]!==n&&h[o][s].cell==h[o+f][s].cell;)m[o+f][s]=1,f++;for(;h[o][s+p]!==n&&h[o][s].cell==h[o][s+p].cell;){for(c=0;c<f;c++)m[o+c][s+p]=1;p++}r(h[o][s].cell).attr("rowspan",f).attr("colspan",p)}}}}function le(e){var t=ht(e,"aoPreDrawCallback","preDraw",[e]);if(-1===r.inArray(!1,t)){var i=[],o=0,a=e.asStripeClasses,s=a.length,l=(e.aoOpenRows.length,e.oLanguage),c=e.iInitDisplayStart,u="ssp"==vt(e),d=e.aiDisplay;e.bDrawing=!0,c!==n&&-1!==c&&(e._iDisplayStart=u?c:c>=e.fnRecordsDisplay()?0:c,e.iInitDisplayStart=-1);var f=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,je(e,!1);else if(u){if(!e.bDestroying&&!he(e))return}else e.iDraw++;if(0!==d.length)for(var h=u?0:f,m=u?e.aoData.length:p,g=h;g<m;g++){var v=d[g],b=e.aoData[v];null===b.nTr&&ie(e,v);var y=b.nTr;if(0!==s){var w=a[o%s];b._sRowStripe!=w&&(r(y).removeClass(b._sRowStripe).addClass(w),b._sRowStripe=w)}ht(e,"aoRowCallback",null,[y,b._aData,o,g]),i.push(y),o++}else{var x=l.sZeroRecords;1==e.iDraw&&"ajax"==vt(e)?x=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(x=l.sEmptyTable),i[0]=r("<tr/>",{class:s?a[0]:""}).append(r("<td />",{valign:"top",colSpan:j(e),class:e.oClasses.sRowEmpty}).html(x))[0]}ht(e,"aoHeaderCallback","header",[r(e.nTHead).children("tr")[0],Q(e),f,p,d]),ht(e,"aoFooterCallback","footer",[r(e.nTFoot).children("tr")[0],Q(e),f,p,d]);var C=r(e.nTBody);C.children().detach(),C.append(r(i)),ht(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else je(e,!1)}function ce(e,t){var n=e.oFeatures,r=n.bSort,i=n.bFilter;r&&et(e),i?ye(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,le(e),e._drawHold=!1}function ue(e){var t=e.oClasses,n=r(e.nTable),o=r("<div/>").insertBefore(n),a=e.oFeatures,s=r("<div/>",{id:e.sTableId+"_wrapper",class:t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=o[0],e.nTableWrapper=s[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var l,c,u,d,f,p,h=e.sDom.split(""),m=0;m<h.length;m++){if(l=null,"<"==(c=h[m])){if(u=r("<div/>")[0],"'"==(d=h[m+1])||'"'==d){for(f="",p=2;h[m+p]!=d;)f+=h[m+p],p++;if("H"==f?f=t.sJUIHeader:"F"==f&&(f=t.sJUIFooter),-1!=f.indexOf(".")){var g=f.split(".");u.id=g[0].substr(1,g[0].length-1),u.className=g[1]}else"#"==f.charAt(0)?u.id=f.substr(1,f.length-1):u.className=f;m+=p}s.append(u),s=r(u)}else if(">"==c)s=s.parent();else if("l"==c&&a.bPaginate&&a.bLengthChange)l=Me(e);else if("f"==c&&a.bFilter)l=be(e);else if("r"==c&&a.bProcessing)l=Fe(e);else if("t"==c)l=ze(e);else if("i"==c&&a.bInfo)l=Ae(e);else if("p"==c&&a.bPaginate)l=Le(e);else if(0!==i.ext.feature.length)for(var v=i.ext.feature,b=0,y=v.length;b<y;b++)if(c==v[b].cFeature){l=v[b].fnInit(e);break}if(l){var w=e.aanFeatures;w[c]||(w[c]=[]),w[c].push(l),s.append(l)}}o.replaceWith(s)}function de(e,t){var n,i,o,a,s,l,c,u,d,f,p,h=r(t).children("tr"),m=function(e,t,n){for(var r=e[t];r[n];)n++;return n};for(e.splice(0,e.length),o=0,l=h.length;o<l;o++)e.push([]);for(o=0,l=h.length;o<l;o++)for(u=0,i=(n=h[o]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase())for(d=1*i.getAttribute("colspan"),f=1*i.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,f=f&&0!==f&&1!==f?f:1,c=m(e,o,u),p=1===d,s=0;s<d;s++)for(a=0;a<f;a++)e[o+a][c+s]={cell:i,unique:p},e[o+a].nTr=n;i=i.nextSibling}}function fe(e,t,n){var r=[];n||(n=e.aoHeader,t&&de(n=[],t));for(var i=0,o=n.length;i<o;i++)for(var a=0,s=n[i].length;a<s;a++)!n[i][a].unique||r[a]&&e.bSortCellsTop||(r[a]=n[i][a].cell);return r}function pe(e,t,n){if(ht(e,"aoServerParams","serverParams",[t]),t&&r.isArray(t)){var i={},o=/(.*?)\[\]$/;r.each(t,function(e,t){var n=t.name.match(o);if(n){var r=n[0];i[r]||(i[r]=[]),i[r].push(t.value)}else i[t.name]=t.value}),t=i}var a,s=e.ajax,l=e.oInstance,c=function(t){ht(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(r.isPlainObject(s)&&s.data){a=s.data;var u=r.isFunction(a)?a(t,e):a;t=r.isFunction(a)&&u?u:r.extend(!0,t,u),delete s.data}var d={data:t,success:function(t){var n=t.error||t.sError;n&&ct(e,0,n),e.json=t,c(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(t,n,i){var o=ht(e,null,"xhr",[e,null,e.jqXHR]);-1===r.inArray(!0,o)&&("parsererror"==n?ct(e,0,"Invalid JSON response",1):4===t.readyState&&ct(e,0,"Ajax error",7)),je(e,!1)}};e.oAjaxData=t,ht(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,r.map(t,function(e,t){return{name:t,value:e}}),c,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=r.ajax(r.extend(d,{url:s||e.sAjaxSource})):r.isFunction(s)?e.jqXHR=s.call(l,t,c,e):(e.jqXHR=r.ajax(r.extend(d,s)),s.data=a)}function he(e){return!e.bAjaxDataGet||(e.iDraw++,je(e,!0),pe(e,me(e),function(t){ge(e,t)}),!1)}function me(e){var t,n,o,a,s=e.aoColumns,l=s.length,c=e.oFeatures,u=e.oPreviousSearch,d=e.aoPreSearchCols,f=[],p=Qe(e),h=e._iDisplayStart,m=!1!==c.bPaginate?e._iDisplayLength:-1,g=function(e,t){f.push({name:e,value:t})};g("sEcho",e.iDraw),g("iColumns",l),g("sColumns",x(s,"sName").join(",")),g("iDisplayStart",h),g("iDisplayLength",m);var v={draw:e.iDraw,columns:[],order:[],start:h,length:m,search:{value:u.sSearch,regex:u.bRegex}};for(t=0;t<l;t++)o=s[t],a=d[t],n="function"==typeof o.mData?"function":o.mData,v.columns.push({data:n,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:a.sSearch,regex:a.bRegex}}),g("mDataProp_"+t,n),c.bFilter&&(g("sSearch_"+t,a.sSearch),g("bRegex_"+t,a.bRegex),g("bSearchable_"+t,o.bSearchable)),c.bSort&&g("bSortable_"+t,o.bSortable);c.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),c.bSort&&(r.each(p,function(e,t){v.order.push({column:t.col,dir:t.dir}),g("iSortCol_"+e,t.col),g("sSortDir_"+e,t.dir)}),g("iSortingCols",p.length));var b=i.ext.legacy.ajax;return null===b?e.sAjaxSource?f:v:b?f:v}function ge(e,t){var r=function(e,r){return t[e]!==n?t[e]:t[r]},i=ve(e,t),o=r("sEcho","draw"),a=r("iTotalRecords","recordsTotal"),s=r("iTotalDisplayRecords","recordsFiltered");if(o){if(1*o<e.iDraw)return;e.iDraw=1*o}ee(e),e._iRecordsTotal=parseInt(a,10),e._iRecordsDisplay=parseInt(s,10);for(var l=0,c=i.length;l<c;l++)q(e,i[l]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,le(e),e._bInitComplete||Pe(e,t),e.bAjaxDataGet=!0,je(e,!1)}function ve(e,t){var i=r.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===i?t.aaData||t[i]:""!==i?Z(i)(t):t}function be(e){var n=e.oClasses,i=e.sTableId,o=e.oLanguage,a=e.oPreviousSearch,s=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=o.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var u=r("<div/>",{id:s.f?null:i+"_filter",class:n.sFilter}).append(r("<label/>").append(c)),d=function(){s.f;var t=this.value?this.value:"";t!=a.sSearch&&(ye(e,{sSearch:t,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),e._iDisplayStart=0,le(e))},f=null!==e.searchDelay?e.searchDelay:"ssp"===vt(e)?400:0,p=r("input",u).val(a.sSearch).attr("placeholder",o.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",f?We(d,f):d).bind("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",i);return r(e.nTable).on("search.dt.DT",function(n,r){if(e===r)try{p[0]!==t.activeElement&&p.val(a.sSearch)}catch(e){}}),u[0]}function ye(e,t,r){var i=e.oPreviousSearch,o=e.aoPreSearchCols,a=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive},s=function(e){return e.bEscapeRegex!==n?!e.bEscapeRegex:e.bRegex};if(U(e),"ssp"!=vt(e)){Ce(e,t.sSearch,r,s(t),t.bSmart,t.bCaseInsensitive),a(t);for(var l=0;l<o.length;l++)xe(e,o[l].sSearch,l,s(o[l]),o[l].bSmart,o[l].bCaseInsensitive);we(e)}else a(t);e.bFiltered=!0,ht(e,null,"search",[e])}function we(e){for(var t,n,r=i.ext.search,o=e.aiDisplay,a=0,s=r.length;a<s;a++){for(var l=[],c=0,u=o.length;c<u;c++)n=o[c],t=e.aoData[n],r[a](e,t._aFilterData,n,t._aData,c)&&l.push(n);o.length=0,o.push.apply(o,l)}}function xe(e,t,n,r,i,o){if(""!==t)for(var a,s=e.aiDisplay,l=$e(t,r,i,o),c=s.length-1;c>=0;c--)a=e.aoData[s[c]]._aFilterData[n],l.test(a)||s.splice(c,1)}function Ce(e,t,n,r,o,a){var s,l,c,u=$e(t,r,o,a),d=e.oPreviousSearch.sSearch,f=e.aiDisplayMaster;if(0!==i.ext.search.length&&(n=!0),l=_e(e),t.length<=0)e.aiDisplay=f.slice();else for((l||n||d.length>t.length||0!==t.indexOf(d)||e.bSorted)&&(e.aiDisplay=f.slice()),c=(s=e.aiDisplay).length-1;c>=0;c--)u.test(e.aoData[s[c]]._sFilterRow)||s.splice(c,1)}function $e(e,t,n,i){(e=t?e:Se(e),n)&&(e="^(?=.*?"+r.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")}).join(")(?=.*?")+").*$");return new RegExp(e,i?"i":"")}function Se(e){return e.replace(h,"\\$1")}var ke=r("<div>")[0],Te=ke.textContent!==n;function _e(e){var t,n,r,o,a,s,l,c,u=e.aoColumns,d=i.ext.type.search,f=!1;for(n=0,o=e.aoData.length;n<o;n++)if(!(c=e.aoData[n])._aFilterData){for(s=[],r=0,a=u.length;r<a;r++)(t=u[r]).bSearchable?(l=W(e,n,r,"filter"),d[t.sType]&&(l=d[t.sType](l)),null===l&&(l=""),"string"!=typeof l&&l.toString&&(l=l.toString())):l="",l.indexOf&&-1!==l.indexOf("&")&&(ke.innerHTML=l,l=Te?ke.textContent:ke.innerText),l.replace&&(l=l.replace(/[\r\n]/g,"")),s.push(l);c._aFilterData=s,c._sFilterRow=s.join("  "),f=!0}return f}function Ee(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function De(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function Ae(e){var t=e.sTableId,n=e.aanFeatures.i,i=r("<div/>",{class:e.oClasses.sInfo,id:n?null:t+"_info"});return n||(e.aoDrawCallback.push({fn:Ne,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),r(e.nTable).attr("aria-describedby",t+"_info")),i[0]}function Ne(e){var t=e.aanFeatures.i;if(0!==t.length){var n=e.oLanguage,i=e._iDisplayStart+1,o=e.fnDisplayEnd(),a=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?n.sInfo:n.sInfoEmpty;s!==a&&(l+=" "+n.sInfoFiltered),l=Re(e,l+=n.sInfoPostFix);var c=n.fnInfoCallback;null!==c&&(l=c.call(e.oInstance,e,i,o,a,s,l)),r(t).html(l)}}function Re(e,t){var n=e.fnFormatNumber,r=e._iDisplayStart+1,i=e._iDisplayLength,o=e.fnRecordsDisplay(),a=-1===i;return t.replace(/_START_/g,n.call(e,r)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,a?1:Math.ceil(r/i))).replace(/_PAGES_/g,n.call(e,a?1:Math.ceil(o/i)))}function Oe(e){var t,n,r,i=e.iInitDisplayStart,o=e.aoColumns,a=e.oFeatures;if(e.bInitialised){for(ue(e),ae(e),se(e,e.aoHeader),se(e,e.aoFooter),je(e,!0),a.bAutoWidth&&Ve(e),t=0,n=o.length;t<n;t++)(r=o[t]).sWidth&&(r.nTh.style.width=Ze(r.sWidth));ce(e);var s=vt(e);"ssp"!=s&&("ajax"==s?pe(e,[],function(n){var r=ve(e,n);for(t=0;t<r.length;t++)q(e,r[t]);e.iInitDisplayStart=i,ce(e),je(e,!1),Pe(e,n)}):(je(e,!1),Pe(e)))}else setTimeout(function(){Oe(e)},200)}function Pe(e,t){e._bInitComplete=!0,t&&L(e),ht(e,"aoInitComplete","init",[e,t])}function Ie(e,t){var n=parseInt(t,10);e._iDisplayLength=n,mt(e),ht(e,null,"length",[e,n])}function Me(e){for(var t=e.oClasses,n=e.sTableId,i=e.aLengthMenu,o=r.isArray(i[0]),a=o?i[0]:i,s=o?i[1]:i,l=r("<select/>",{name:n+"_length","aria-controls":n,class:t.sLengthSelect}),c=0,u=a.length;c<u;c++)l[0][c]=new Option(s[c],a[c]);var d=r("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(d[0].id=n+"_length"),d.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),r("select",d).val(e._iDisplayLength).bind("change.DT",function(t){Ie(e,r(this).val()),le(e)}),r(e.nTable).bind("length.dt.DT",function(t,n,i){e===n&&r("select",d).val(i)}),d[0]}function Le(e){var t=e.sPaginationType,n=i.ext.pager[t],o="function"==typeof n,a=function(e){le(e)},s=r("<div/>").addClass(e.oClasses.sPaging+t)[0],l=e.aanFeatures;return o||n.fnInit(e,s,a),l.p||(s.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(o){var t,r,i=e._iDisplayStart,s=e._iDisplayLength,c=e.fnRecordsDisplay(),u=-1===s,d=u?0:Math.ceil(i/s),f=u?1:Math.ceil(c/s),p=n(d,f);for(t=0,r=l.p.length;t<r;t++)gt(e,"pageButton")(e,l.p[t],t,p,d,f)}else n.fnUpdate(e,a)},sName:"pagination"})),s}function Be(e,t,n){var r=e._iDisplayStart,i=e._iDisplayLength,o=e.fnRecordsDisplay();0===o||-1===i?r=0:"number"==typeof t?(r=t*i)>o&&(r=0):"first"==t?r=0:"previous"==t?(r=i>=0?r-i:0)<0&&(r=0):"next"==t?r+i<o&&(r+=i):"last"==t?r=Math.floor((o-1)/i)*i:ct(e,0,"Unknown paging action: "+t,5);var a=e._iDisplayStart!==r;return e._iDisplayStart=r,a&&(ht(e,null,"page",[e]),n&&le(e)),a}function Fe(e){return r("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function je(e,t){e.oFeatures.bProcessing&&r(e.aanFeatures.r).css("display",t?"block":"none"),ht(e,null,"processing",[e,t])}function ze(e){var t=r(e.nTable);t.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var i=n.sX,o=n.sY,a=e.oClasses,s=t.children("caption"),l=s.length?s[0]._captionSide:null,c=r(t[0].cloneNode(!1)),u=r(t[0].cloneNode(!1)),d=t.children("tfoot"),f="<div/>",p=function(e){return e?Ze(e):null};n.sX&&"100%"===t.attr("width")&&t.removeAttr("width"),d.length||(d=null);var h=r(f,{class:a.sScrollWrapper}).append(r(f,{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?p(i):"100%"}).append(r(f,{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(t.children("thead"))))).append(r(f,{class:a.sScrollBody}).css({overflow:"auto",height:p(o),width:p(i)}).append(t));d&&h.append(r(f,{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:i?p(i):"100%"}).append(r(f,{class:a.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(t.children("tfoot")))));var m=h.children(),g=m[0],v=m[1],b=d?m[2]:null;return i&&r(v).on("scroll.DT",function(e){var t=this.scrollLeft;g.scrollLeft=t,d&&(b.scrollLeft=t)}),e.nScrollHead=g,e.nScrollBody=v,e.nScrollFoot=b,e.aoDrawCallback.push({fn:Ue,sName:"scrolling"}),h[0]}function Ue(e){var t,n,i,o,a,s,l,c,u,d=e.oScroll,f=d.sX,p=d.sXInner,h=d.sY,m=d.iBarWidth,g=r(e.nScrollHead),v=g[0].style,b=g.children("div"),y=b[0].style,w=b.children("table"),x=e.nScrollBody,C=r(x),$=x.style,S=r(e.nScrollFoot).children("div"),k=S.children("table"),T=r(e.nTHead),_=r(e.nTable),E=_[0],D=E.style,A=e.nTFoot?r(e.nTFoot):null,N=e.oBrowser,R=N.bScrollOversize,O=[],P=[],I=[],M=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};if(_.children("thead, tfoot").remove(),a=T.clone().prependTo(_),t=T.find("tr"),i=a.find("tr"),a.find("th, td").removeAttr("tabindex"),A&&(s=A.clone().prependTo(_),n=A.find("tr"),o=s.find("tr")),f||($.width="100%",g[0].style.width="100%"),r.each(fe(e,a),function(t,n){l=B(e,t),n.style.width=e.aoColumns[l].sWidth}),A&&He(function(e){e.style.width=""},o),d.bCollapse&&""!==h&&($.height=C[0].offsetHeight+T[0].offsetHeight+"px"),u=_.outerWidth(),""===f?(D.width="100%",R&&(_.find("tbody").height()>x.offsetHeight||"scroll"==C.css("overflow-y"))&&(D.width=Ze(_.outerWidth()-m))):""!==p?D.width=Ze(p):u==C.width()&&C.height()<_.height()?(D.width=Ze(u-m),_.outerWidth()>u-m&&(D.width=Ze(u))):D.width=Ze(u),u=_.outerWidth(),He(M,i),He(function(e){I.push(e.innerHTML),O.push(Ze(r(e).css("width")))},i),He(function(e,t){e.style.width=O[t]},t),r(i).height(0),A&&(He(M,o),He(function(e){P.push(Ze(r(e).css("width")))},o),He(function(e,t){e.style.width=P[t]},n),r(o).height(0)),He(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+I[t]+"</div>",e.style.width=O[t]},i),A&&He(function(e,t){e.innerHTML="",e.style.width=P[t]},o),_.outerWidth()<u?(c=x.scrollHeight>x.offsetHeight||"scroll"==C.css("overflow-y")?u+m:u,R&&(x.scrollHeight>x.offsetHeight||"scroll"==C.css("overflow-y"))&&(D.width=Ze(c-m)),""!==f&&""===p||ct(e,1,"Possible column misalignment",6)):c="100%",$.width=Ze(c),v.width=Ze(c),A&&(e.nScrollFoot.style.width=Ze(c)),h||R&&($.height=Ze(E.offsetHeight+m)),h&&d.bCollapse){$.height=Ze(h);var L=f&&E.offsetWidth>x.offsetWidth?m:0;E.offsetHeight<x.offsetHeight&&($.height=Ze(E.offsetHeight+L))}var F=_.outerWidth();w[0].style.width=Ze(F),y.width=Ze(F);var j=_.height()>x.clientHeight||"scroll"==C.css("overflow-y"),z="padding"+(N.bScrollbarLeft?"Left":"Right");y[z]=j?m+"px":"0px",A&&(k[0].style.width=Ze(F),S[0].style.width=Ze(F),S[0].style[z]=j?m+"px":"0px"),C.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(x.scrollTop=0)}function He(e,t,n){for(var r,i,o=0,a=0,s=t.length;a<s;){for(r=t[a].firstChild,i=n?n[a].firstChild:null;r;)1===r.nodeType&&(n?e(r,i,o):e(r,o),o++),r=r.nextSibling,i=n?i.nextSibling:null;a++}}var qe=/<.*?>/g;function Ve(t){var n,i,o,a,s,l=t.nTable,c=t.aoColumns,u=t.oScroll,d=u.sY,f=u.sX,p=u.sXInner,h=c.length,m=z(t,"bVisible"),g=r("th",t.nTHead),v=l.getAttribute("width"),b=l.parentNode,y=!1,w=l.style.width;for(w&&-1!==w.indexOf("%")&&(v=w),n=0;n<m.length;n++)null!==(i=c[m[n]]).sWidth&&(i.sWidth=Ye(i.sWidthOrig,b),y=!0);if(y||f||d||h!=j(t)||h!=g.length){var x=r(l).clone().css("visibility","hidden").removeAttr("id");x.find("tbody tr").remove();var C=r("<tr/>").appendTo(x.find("tbody"));for(x.find("tfoot th, tfoot td").css("width",""),g=fe(t,x.find("thead")[0]),n=0;n<m.length;n++)i=c[m[n]],g[n].style.width=null!==i.sWidthOrig&&""!==i.sWidthOrig?Ze(i.sWidthOrig):"";if(t.aoData.length)for(n=0;n<m.length;n++)i=c[o=m[n]],r(Xe(t,o)).clone(!1).append(i.sContentPadding).appendTo(C);if(x.appendTo(b),f&&p?x.width(p):f?(x.css("width","auto"),x.width()<b.offsetWidth&&x.width(b.offsetWidth)):d?x.width(b.offsetWidth):v&&x.width(v),Ge(t,x[0]),f){var $=0;for(n=0;n<m.length;n++)i=c[m[n]],s=r(g[n]).outerWidth(),$+=null===i.sWidthOrig?s:parseInt(i.sWidth,10)+s-r(g[n]).width();x.width(Ze($)),l.style.width=Ze($)}for(n=0;n<m.length;n++)i=c[m[n]],(a=r(g[n]).width())&&(i.sWidth=Ze(a));l.style.width=Ze(x.css("width")),x.remove()}else for(n=0;n<h;n++)c[n].sWidth=Ze(g.eq(n).width());if(v&&(l.style.width=Ze(v)),(v||f)&&!t._reszEvt){var S=function(){r(e).bind("resize.DT-"+t.sInstance,We(function(){L(t)}))};t.oBrowser.bScrollOversize?setTimeout(S,1e3):S(),t._reszEvt=!0}}function We(e,t){var r,i,o=t!==n?t:200;return function(){var t=this,a=+new Date,s=arguments;r&&a<r+o?(clearTimeout(i),i=setTimeout(function(){r=n,e.apply(t,s)},o)):(r=a,e.apply(t,s))}}function Ye(e,n){if(!e)return 0;var i=r("<div/>").css("width",Ze(e)).appendTo(n||t.body),o=i[0].offsetWidth;return i.remove(),o}function Ge(e,t){var n=e.oScroll;if(n.sX||n.sY){var i=n.sX?0:n.iBarWidth;t.style.width=Ze(r(t).outerWidth()-i)}}function Xe(e,t){var n=Ke(e,t);if(n<0)return null;var i=e.aoData[n];return i.nTr?i.anCells[t]:r("<td/>").html(W(e,n,t,"display"))[0]}function Ke(e,t){for(var n,r=-1,i=-1,o=0,a=e.aoData.length;o<a;o++)(n=(n=W(e,o,t,"display")+"").replace(qe,"")).length>r&&(r=n.length,i=o);return i}function Ze(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Je(){var e=i.__scrollbarWidth;if(e===n){var t=r("<p/>").css({position:"absolute",top:0,left:0,width:"100%",height:150,padding:0,overflow:"scroll",visibility:"hidden"}).appendTo("body");e=t[0].offsetWidth-t[0].clientWidth,i.__scrollbarWidth=e,t.remove()}return e}function Qe(e){var t,o,a,s,l,c,u,d=[],f=e.aoColumns,p=e.aaSortingFixed,h=r.isPlainObject(p),m=[],g=function(e){e.length&&!r.isArray(e[0])?m.push(e):m.push.apply(m,e)};for(r.isArray(p)&&g(p),h&&p.pre&&g(p.pre),g(e.aaSorting),h&&p.post&&g(p.post),t=0;t<m.length;t++)for(o=0,a=(s=f[u=m[t][0]].aDataSort).length;o<a;o++)c=f[l=s[o]].sType||"string",m[t]._idx===n&&(m[t]._idx=r.inArray(m[t][1],f[l].asSorting)),d.push({src:u,col:l,dir:m[t][1],index:m[t]._idx,type:c,formatter:i.ext.type.order[c+"-pre"]});return d}function et(e){var t,n,r,o,a,s=[],l=i.ext.type.order,c=e.aoData,u=(e.aoColumns,0),d=e.aiDisplayMaster;for(U(e),t=0,n=(a=Qe(e)).length;t<n;t++)(o=a[t]).formatter&&u++,ot(e,o.col);if("ssp"!=vt(e)&&0!==a.length){for(t=0,r=d.length;t<r;t++)s[d[t]]=t;u===a.length?d.sort(function(e,t){var n,r,i,o,l,u=a.length,d=c[e]._aSortData,f=c[t]._aSortData;for(i=0;i<u;i++)if(0!==(o=(n=d[(l=a[i]).col])<(r=f[l.col])?-1:n>r?1:0))return"asc"===l.dir?o:-o;return(n=s[e])<(r=s[t])?-1:n>r?1:0}):d.sort(function(e,t){var n,r,i,o,u,d=a.length,f=c[e]._aSortData,p=c[t]._aSortData;for(i=0;i<d;i++)if(n=f[(u=a[i]).col],r=p[u.col],0!==(o=(l[u.type+"-"+u.dir]||l["string-"+u.dir])(n,r)))return o;return(n=s[e])<(r=s[t])?-1:n>r?1:0})}e.bSorted=!0}function tt(e){for(var t,n,r=e.aoColumns,i=Qe(e),o=e.oLanguage.oAria,a=0,s=r.length;a<s;a++){var l=r[a],c=l.asSorting,u=l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(i.length>0&&i[0].col==a?(d.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),n=c[i[0].index+1]||c[0]):n=c[0],t=u+("asc"===n?o.sSortAscending:o.sSortDescending)):t=u,d.setAttribute("aria-label",t)}}function nt(e,t,i,o){var a,s=e.aoColumns[t],l=e.aaSorting,c=s.asSorting,u=function(e,t){var i=e._idx;return i===n&&(i=r.inArray(e[1],c)),i+1<c.length?i+1:t?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),i&&e.oFeatures.bSortMulti){var d=r.inArray(t,x(l,"0"));-1!==d?(null===(a=u(l[d],!0))&&1===l.length&&(a=0),null===a?l.splice(d,1):(l[d][1]=c[a],l[d]._idx=a)):(l.push([t,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==t?(a=u(l[0]),l.length=1,l[0][1]=c[a],l[0]._idx=a):(l.length=0,l.push([t,c[0]]),l[0]._idx=0);ce(e),"function"==typeof o&&o(e)}function rt(e,t,n,r){var i=e.aoColumns[n];ft(t,{},function(t){!1!==i.bSortable&&(e.oFeatures.bProcessing?(je(e,!0),setTimeout(function(){nt(e,n,t.shiftKey,r),"ssp"!==vt(e)&&je(e,!1)},0)):nt(e,n,t.shiftKey,r))})}function it(e){var t,n,i,o=e.aLastSort,a=e.oClasses.sSortColumn,s=Qe(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(t=0,n=o.length;t<n;t++)i=o[t].src,r(x(e.aoData,"anCells",i)).removeClass(a+(t<2?t+1:3));for(t=0,n=s.length;t<n;t++)i=s[t].src,r(x(e.aoData,"anCells",i)).addClass(a+(t<2?t+1:3))}e.aLastSort=s}function ot(e,t){var n,r,o,a=e.aoColumns[t],s=i.ext.order[a.sSortDataType];s&&(n=s.call(e.oInstance,e,t,F(e,t)));for(var l=i.ext.type.order[a.sType+"-pre"],c=0,u=e.aoData.length;c<u;c++)(r=e.aoData[c])._aSortData||(r._aSortData=[]),r._aSortData[t]&&!s||(o=s?n[c]:W(e,c,t,"sort"),r._aSortData[t]=l?l(o):o)}function at(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:r.extend(!0,[],e.aaSorting),search:Ee(e.oPreviousSearch),columns:r.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:Ee(e.aoPreSearchCols[n])}})};ht(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oSavedState=t,e.fnStateSaveCallback.call(e.oInstance,e,t)}}function st(e,t){var i,o,a=e.aoColumns;if(e.oFeatures.bStateSave){var s=e.fnStateLoadCallback.call(e.oInstance,e);if(s&&s.time){var l=ht(e,"aoStateLoadParams","stateLoadParams",[e,s]);if(-1===r.inArray(!1,l)){var c=e.iStateDuration;if(!(c>0&&s.time<+new Date-1e3*c)&&a.length===s.columns.length){for(e.oLoadedState=r.extend(!0,{},s),s.start!==n&&(e._iDisplayStart=s.start,e.iInitDisplayStart=s.start),s.length!==n&&(e._iDisplayLength=s.length),s.order!==n&&(e.aaSorting=[],r.each(s.order,function(t,n){e.aaSorting.push(n[0]>=a.length?[0,n[1]]:n)})),s.search!==n&&r.extend(e.oPreviousSearch,De(s.search)),i=0,o=s.columns.length;i<o;i++){var u=s.columns[i];u.visible!==n&&(a[i].bVisible=u.visible),u.search!==n&&r.extend(e.aoPreSearchCols[i],De(u.search))}ht(e,"aoStateLoaded","stateLoaded",[e,s])}}}}}function lt(e){var t=i.settings,n=r.inArray(e,x(t,"nTable"));return-1!==n?t[n]:null}function ct(t,n,r,o){if(r="DataTables warning: "+(null!==t?"table id="+t.sTableId+" - ":"")+r,o&&(r+=". For more information about this error, please see http://datatables.net/tn/"+o),n)e.console&&console.log&&console.log(r);else{var a=i.ext,s=a.sErrMode||a.errMode;if(ht(t,null,"error",[t,o,r]),"alert"==s)alert(r);else{if("throw"==s)throw new Error(r);"function"==typeof s&&s(t,o,r)}}}function ut(e,t,i,o){r.isArray(i)?r.each(i,function(n,i){r.isArray(i)?ut(e,t,i[0],i[1]):ut(e,t,i)}):(o===n&&(o=i),t[i]!==n&&(e[o]=t[i]))}function dt(e,t,n){var i;for(var o in t)t.hasOwnProperty(o)&&(i=t[o],r.isPlainObject(i)?(r.isPlainObject(e[o])||(e[o]={}),r.extend(!0,e[o],i)):n&&"data"!==o&&"aaData"!==o&&r.isArray(i)?e[o]=i.slice():e[o]=i);return e}function ft(e,t,n){r(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){13===e.which&&(e.preventDefault(),n(e))}).bind("selectstart.DT",function(){return!1})}function pt(e,t,n,r){n&&e[t].push({fn:n,sName:r})}function ht(e,t,n,i){var o=[];if(t&&(o=r.map(e[t].slice().reverse(),function(t,n){return t.fn.apply(e.oInstance,i)})),null!==n){var a=r.Event(n+".dt");r(e.nTable).trigger(a,i),o.push(a.result)}return o}function mt(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),r=e._iDisplayLength;t>=n&&(t=n-r),t-=t%r,(-1===r||t<0)&&(t=0),e._iDisplayStart=t}function gt(e,t){var n=e.renderer,o=i.ext.renderer[t];return r.isPlainObject(n)&&n[t]?o[n[t]]||o._:"string"==typeof n&&o[n]||o._}function vt(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}i=function(e){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new a(e?lt(this[o.iApiIndex]):this)},this.fnAddData=function(e,t){var i=this.api(!0),o=r.isArray(e)&&(r.isArray(e[0])||r.isPlainObject(e[0]))?i.rows.add(e):i.row.add(e);return(t===n||t)&&i.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),r=t.settings()[0],i=r.oScroll;e===n||e?t.draw(!1):""===i.sX&&""===i.sY||Ue(r)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===n||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,r){var i=this.api(!0),o=i.rows(e),a=o.settings()[0],s=a.aoData[o[0][0]];return o.remove(),t&&t.call(this,a,s),(r===n||r)&&i.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,r,i,o,a){var s=this.api(!0);null===t||t===n?s.search(e,r,i,a):s.column(t).search(e,r,i,a),s.draw()},this.fnGetData=function(e,t){var r=this.api(!0);if(e!==n){var i=e.nodeName?e.nodeName.toLowerCase():"";return t!==n||"td"==i||"th"==i?r.cell(e,t).data():r.row(e).data()||null}return r.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==n?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"==n||"TH"==n){var r=t.cell(e).index();return[r.row,r.columnVisible,r.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var r=this.api(!0).page(e);(t===n||t)&&r.draw(!1)},this.fnSetColumnVis=function(e,t,r){var i=this.api(!0).column(e).visible(t);(r===n||r)&&i.columns.adjust().draw()},this.fnSettings=function(){return lt(this[o.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,r,i,o){var a=this.api(!0);return r===n||null===r?a.row(t).data(e):a.cell(t,r).data(e),(o===n||o)&&a.columns.adjust(),(i===n||i)&&a.draw(),0},this.fnVersionCheck=o.fnVersionCheck;var t=this,s=e===n,l=this.length;for(var c in s&&(e={}),this.oApi=this.internal=o.internal,i.ext.internal)c&&(this[c]=Mt(c));return this.each(function(){var o,a=l>1?dt({},e,!0):e,c=0,u=this.getAttribute("id"),d=!1,f=i.defaults,p=r(this);if("table"==this.nodeName.toLowerCase()){N(f),R(f.column),E(f,f,!0),E(f.column,f.column,!0),E(f,r.extend(a,p.data()));var h=i.settings;for(c=0,o=h.length;c<o;c++){var m=h[c];if(m.nTable==this||m.nTHead.parentNode==this||m.nTFoot&&m.nTFoot.parentNode==this){var g=a.bRetrieve!==n?a.bRetrieve:f.bRetrieve,v=a.bDestroy!==n?a.bDestroy:f.bDestroy;if(s||g)return m.oInstance;if(v){m.oInstance.fnDestroy();break}return void ct(m,0,"Cannot reinitialise DataTable",3)}if(m.sTableId==this.id){h.splice(c,1);break}}null!==u&&""!==u||(u="DataTables_Table_"+i.ext._unique++,this.id=u);var b=r.extend(!0,{},i.models.oSettings,{sDestroyWidth:p[0].style.width,sInstance:u,sTableId:u});b.nTable=this,b.oApi=t.internal,b.oInit=a,h.push(b),b.oInstance=1===t.length?t:p.dataTable(),N(a),a.oLanguage&&D(a.oLanguage),a.aLengthMenu&&!a.iDisplayLength&&(a.iDisplayLength=r.isArray(a.aLengthMenu[0])?a.aLengthMenu[0][0]:a.aLengthMenu[0]),a=dt(r.extend(!0,{},f),a),ut(b.oFeatures,a,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),ut(b,a,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),ut(b.oScroll,a,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),ut(b.oLanguage,a,"fnInfoCallback"),pt(b,"aoDrawCallback",a.fnDrawCallback,"user"),pt(b,"aoServerParams",a.fnServerParams,"user"),pt(b,"aoStateSaveParams",a.fnStateSaveParams,"user"),pt(b,"aoStateLoadParams",a.fnStateLoadParams,"user"),pt(b,"aoStateLoaded",a.fnStateLoaded,"user"),pt(b,"aoRowCallback",a.fnRowCallback,"user"),pt(b,"aoRowCreatedCallback",a.fnCreatedRow,"user"),pt(b,"aoHeaderCallback",a.fnHeaderCallback,"user"),pt(b,"aoFooterCallback",a.fnFooterCallback,"user"),pt(b,"aoInitComplete",a.fnInitComplete,"user"),pt(b,"aoPreDrawCallback",a.fnPreDrawCallback,"user");var y=b.oClasses;if(a.bJQueryUI?(r.extend(y,i.ext.oJUIClasses,a.oClasses),a.sDom===f.sDom&&"lfrtip"===f.sDom&&(b.sDom='<"H"lfr>t<"F"ip>'),b.renderer?r.isPlainObject(b.renderer)&&!b.renderer.header&&(b.renderer.header="jqueryui"):b.renderer="jqueryui"):r.extend(y,i.ext.classes,a.oClasses),p.addClass(y.sTable),""===b.oScroll.sX&&""===b.oScroll.sY||(b.oScroll.iBarWidth=Je()),!0===b.oScroll.sX&&(b.oScroll.sX="100%"),b.iInitDisplayStart===n&&(b.iInitDisplayStart=a.iDisplayStart,b._iDisplayStart=a.iDisplayStart),null!==a.iDeferLoading){b.bDeferLoading=!0;var w=r.isArray(a.iDeferLoading);b._iRecordsDisplay=w?a.iDeferLoading[0]:a.iDeferLoading,b._iRecordsTotal=w?a.iDeferLoading[1]:a.iDeferLoading}var x=b.oLanguage;r.extend(!0,x,a.oLanguage),""!==x.sUrl&&(r.ajax({dataType:"json",url:x.sUrl,success:function(e){D(e),E(f.oLanguage,e),r.extend(!0,x,e),Oe(b)},error:function(){Oe(b)}}),d=!0),null===a.asStripeClasses&&(b.asStripeClasses=[y.sStripeOdd,y.sStripeEven]);var C=b.asStripeClasses,$=p.children("tbody").find("tr").eq(0);-1!==r.inArray(!0,r.map(C,function(e,t){return $.hasClass(e)}))&&(r("tbody tr",this).removeClass(C.join(" ")),b.asDestroyStripes=C.slice());var S,k=[],T=this.getElementsByTagName("thead");if(0!==T.length&&(de(b.aoHeader,T[0]),k=fe(b)),null===a.aoColumns)for(S=[],c=0,o=k.length;c<o;c++)S.push(null);else S=a.aoColumns;for(c=0,o=S.length;c<o;c++)I(b,k?k[c]:null);if(H(b,a.aoColumnDefs,S,function(e,t){M(b,e,t)}),$.length){var _=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};r.each(re(b,$[0]).cells,function(e,t){var r=b.aoColumns[e];if(r.mData===e){var i=_(t,"sort")||_(t,"order"),o=_(t,"filter")||_(t,"search");null===i&&null===o||(r.mData={_:e+".display",sort:null!==i?e+".@data-"+i:n,type:null!==i?e+".@data-"+i:n,filter:null!==o?e+".@data-"+o:n},M(b,e))}})}var A=b.oFeatures;if(a.bStateSave&&(A.bStateSave=!0,st(b),pt(b,"aoDrawCallback",at,"state_save")),a.aaSorting===n){var P=b.aaSorting;for(c=0,o=P.length;c<o;c++)P[c][1]=b.aoColumns[c].asSorting[0]}it(b),A.bSort&&pt(b,"aoDrawCallback",function(){if(b.bSorted){var e=Qe(b),t={};r.each(e,function(e,n){t[n.src]=n.dir}),ht(b,null,"order",[b,e,t]),tt(b)}}),pt(b,"aoDrawCallback",function(){(b.bSorted||"ssp"===vt(b)||A.bDeferRender)&&it(b)},"sc"),O(b);var L=p.children("caption").each(function(){this._captionSide=p.css("caption-side")}),B=p.children("thead");0===B.length&&(B=r("<thead/>").appendTo(this)),b.nTHead=B[0];var F=p.children("tbody");0===F.length&&(F=r("<tbody/>").appendTo(this)),b.nTBody=F[0];var j=p.children("tfoot");if(0===j.length&&L.length>0&&(""!==b.oScroll.sX||""!==b.oScroll.sY)&&(j=r("<tfoot/>").appendTo(this)),0===j.length||0===j.children().length?p.addClass(y.sNoFooter):j.length>0&&(b.nTFoot=j[0],de(b.aoFooter,b.nTFoot)),a.aaData)for(c=0;c<a.aaData.length;c++)q(b,a.aaData[c]);else(b.bDeferLoading||"dom"==vt(b))&&V(b,r(b.nTBody).children("tr"));b.aiDisplay=b.aiDisplayMaster.slice(),b.bInitialised=!0,!1===d&&Oe(b)}else ct(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),t=null,this};var bt=[],yt=Array.prototype;a=function(e,t){if(!(this instanceof a))return new a(e,t);var n=[],o=function(e){var t,o,a,s,l,c=(t=e,s=i.settings,l=r.map(s,function(e,t){return e.nTable}),t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(o=r.inArray(t,l))?[s[o]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?a=r(t):t instanceof r&&(a=t),a?a.map(function(e){return-1!==(o=r.inArray(this,l))?s[o]:null}).toArray():void 0):[]);c&&n.push.apply(n,c)};if(r.isArray(e))for(var s=0,l=e.length;s<l;s++)o(e[s]);else o(e);this.context=T(n),t&&this.push.apply(this,t.toArray?t.toArray():t),this.selector={rows:null,cols:null,opts:null},a.extend(this,this,bt)},i.Api=a,a.prototype={any:function(){return 0!==this.flatten().length},concat:yt.concat,context:[],each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new a(t[e],this[e]):null},filter:function(e){var t=[];if(yt.filter)t=yt.filter.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new a(this.context,t)},flatten:function(){var e=[];return new a(this.context,e.concat.apply(e,this.toArray()))},join:yt.join,indexOf:yt.indexOf||function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,r,i){var o,s,l,c,u,d,f,p,h=[],m=this.context,g=this.selector;for("string"==typeof e&&(i=r,r=t,t=e,e=!1),s=0,l=m.length;s<l;s++){var v=new a(m[s]);if("table"===t)(o=r.call(v,m[s],s))!==n&&h.push(o);else if("columns"===t||"rows"===t)(o=r.call(v,m[s],this[s],s))!==n&&h.push(o);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(f=this[s],"column-rows"===t&&(d=St(m[s],g.opts)),c=0,u=f.length;c<u;c++)p=f[c],(o="cell"===t?r.call(v,m[s],p.row,p.column,s,c):r.call(v,m[s],p,s,c,d))!==n&&h.push(o)}if(h.length||i){var b=new a(m,e?h.concat.apply([],h):h),y=b.selector;return y.rows=g.rows,y.cols=g.cols,y.opts=g.opts,b}return this},lastIndexOf:yt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(yt.map)t=yt.map.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)t.push(e.call(this,this[n],n));return new a(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:yt.pop,push:yt.push,reduce:yt.reduce||function(e,t){return P(this,e,t,0,this.length,1)},reduceRight:yt.reduceRight||function(e,t){return P(this,e,t,this.length-1,-1,-1)},reverse:yt.reverse,selector:null,shift:yt.shift,sort:yt.sort,splice:yt.splice,toArray:function(){return yt.slice.call(this)},to$:function(){return r(this)},toJQuery:function(){return r(this)},unique:function(){return new a(this.context,T(this))},unshift:yt.unshift},a.extend=function(e,t,n){if(n.length&&t&&(t instanceof a||t.__dt_wrapper)){var i,o,s,l=function(e,t,n){return function(){var r=t.apply(e,arguments);return a.extend(r,r,n.methodExt),r}};for(i=0,o=n.length;i<o;i++)t[(s=n[i]).name]="function"==typeof s.val?l(e,s.val,s):r.isPlainObject(s.val)?{}:s.val,t[s.name].__dt_wrapper=!0,a.extend(e,t[s.name],s.propExt)}},a.register=s=function(e,t){if(r.isArray(e))for(var n=0,i=e.length;n<i;n++)a.register(e[n],t);else{var o,s,l,c,u=e.split("."),d=bt,f=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].name===t)return e[n];return null};for(o=0,s=u.length;o<s;o++){var p=f(d,l=(c=-1!==u[o].indexOf("()"))?u[o].replace("()",""):u[o]);p||(p={name:l,val:{},methodExt:[],propExt:[]},d.push(p)),o===s-1?p.val=t:d=c?p.methodExt:p.propExt}}},a.registerPlural=l=function(e,t,i){a.register(e,i),a.register(t,function(){var e=i.apply(this,arguments);return e===this?this:e instanceof a?e.length?r.isArray(e[0])?new a(e.context,e[0]):e[0]:n:e})};s("tables()",function(e){return e?new a(function(e,t){if("number"==typeof e)return[t[e]];var n=r.map(t,function(e,t){return e.nTable});return r(n).filter(e).map(function(e){var i=r.inArray(this,n);return t[i]}).toArray()}(e,this.context)):this}),s("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new a(n[0]):t}),l("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),l("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),l("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),l("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),l("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),s("draw()",function(e){return this.iterator("table",function(t){ce(t,!1===e)})}),s("page()",function(e){return e===n?this.page.info().page:this.iterator("table",function(t){Be(t,e)})}),s("page.info()",function(e){if(0===this.context.length)return n;var t=this.context[0],r=t._iDisplayStart,i=t._iDisplayLength,o=t.fnRecordsDisplay(),a=-1===i;return{page:a?0:Math.floor(r/i),pages:a?1:Math.ceil(o/i),start:r,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o}}),s("page.len()",function(e){return e===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(t){Ie(t,e)})});var wt=function(e,t,n){if(n){var r=new a(e);r.one("draw",function(){n(r.ajax.json())})}"ssp"==vt(e)?ce(e,t):(je(e,!0),pe(e,[],function(n){ee(e);for(var r=ve(e,n),i=0,o=r.length;i<o;i++)q(e,r[i]);ce(e,t),je(e,!1)}))};s("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),s("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),s("ajax.reload()",function(e,t){return this.iterator("table",function(n){wt(n,!1===t,e)})}),s("ajax.url()",function(e){var t=this.context;return e===n?0===t.length?n:(t=t[0]).ajax?r.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource:this.iterator("table",function(t){r.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),s("ajax.url().load()",function(e,t){return this.iterator("table",function(n){wt(n,!1===t,e)})});var xt=function(e,t,i,a,s){var l,c,u,d,f,p,h=[],m=typeof t;for(t&&"string"!==m&&"function"!==m&&t.length!==n||(t=[t]),u=0,d=t.length;u<d;u++)for(f=0,p=(c=t[u]&&t[u].split?t[u].split(","):[t[u]]).length;f<p;f++)(l=i("string"==typeof c[f]?r.trim(c[f]):c[f]))&&l.length&&h.push.apply(h,l);var g=o.selector[e];if(g.length)for(u=0,d=g.length;u<d;u++)h=g[u](a,s,h);return h},Ct=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),r.extend({search:"none",order:"current",page:"all"},e)},$t=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},St=function(e,t){var n,i,o,a=[],s=e.aiDisplay,l=e.aiDisplayMaster,c=t.search,u=t.order,d=t.page;if("ssp"==vt(e))return"removed"===c?[]:$(0,l.length);if("current"==d)for(n=e._iDisplayStart,i=e.fnDisplayEnd();n<i;n++)a.push(s[n]);else if("current"==u||"applied"==u)a="none"==c?l.slice():"applied"==c?s.slice():r.map(l,function(e,t){return-1===r.inArray(e,s)?e:null});else if("index"==u||"original"==u)for(n=0,i=e.aoData.length;n<i;n++)"none"==c?a.push(n):(-1===(o=r.inArray(n,s))&&"removed"==c||o>=0&&"applied"==c)&&a.push(n);return a};s("rows()",function(e,t){e===n?e="":r.isPlainObject(e)&&(t=e,e=""),t=Ct(t);var i=this.iterator("table",function(n){return xt("row",e,function(e){var t=v(e);if(null!==t&&!o)return[t];var n=St(i,o);if(null!==t&&-1!==r.inArray(t,n))return[t];if(!e)return n;if("function"==typeof e)return r.map(n,function(t){var n=i.aoData[t];return e(t,n._aData,n.nTr)?t:null});var a=S(C(i.aoData,n,"nTr"));return e.nodeName&&-1!==r.inArray(e,a)?[e._DT_RowIndex]:r(a).filter(e).map(function(){return this._DT_RowIndex}).toArray()},i=n,o=t);var i,o},1);return i.selector.rows=e,i.selector.opts=t,i}),s("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||n},1)}),s("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return C(e.aoData,t,"_aData")},1)}),l("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var r=t.aoData[n];return"search"===e?r._aFilterData:r._aSortData},1)}),l("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){ne(t,n,e)})}),l("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),l("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,i){var o=t.aoData;o.splice(n,1);for(var a=0,s=o.length;a<s;a++)null!==o[a].nTr&&(o[a].nTr._DT_RowIndex=a);r.inArray(n,t.aiDisplay);te(t.aiDisplayMaster,n),te(t.aiDisplay,n),te(e[i],n,!1),mt(t)})}),s("rows.add()",function(e){var t=this.iterator("table",function(t){var n,r,i,o=[];for(r=0,i=e.length;r<i;r++)(n=e[r]).nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(V(t,n)[0]):o.push(q(t,n));return o},1),n=this.rows(-1);return n.pop(),n.push.apply(n,t.toArray()),n}),s("row()",function(e,t){return $t(this.rows(e,t))}),s("row().data()",function(e){var t=this.context;return e===n?t.length&&this.length?t[0].aoData[this[0]]._aData:n:(t[0].aoData[this[0]]._aData=e,ne(t[0],this[0],"data"),this)}),s("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),s("row.add()",function(e){e instanceof r&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?V(t,e)[0]:q(t,e)});return this.row(t[0])});var kt=function(e,t){var r=e.context;if(r.length){var i=r[0].aoData[t!==n?t:e[0]];i._details&&(i._details.remove(),i._detailsShow=n,i._details=n)}},Tt=function(e,t){var n=e.context;if(n.length&&e.length){var r=n[0].aoData[e[0]];r._details&&(r._detailsShow=t,t?r._details.insertAfter(r.nTr):r._details.detach(),_t(n[0]))}},_t=function(e){var t=new a(e),n=".dt.DT_details",r="draw"+n,i="column-visibility"+n,o="destroy"+n,s=e.aoData;t.off(r+" "+i+" "+o),x(s,"_details").length>0&&(t.on(r,function(n,r){e===r&&t.rows({page:"current"}).eq(0).each(function(e){var t=s[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(i,function(t,n,r,i){if(e===n)for(var o,a=j(n),l=0,c=s.length;l<c;l++)(o=s[l])._details&&o._details.children("td[colspan]").attr("colspan",a)}),t.on(o,function(n,r){if(e===r)for(var i=0,o=s.length;i<o;i++)s[i]._details&&kt(t,i)}))},Et="row().child",Dt=Et+"()";s(Dt,function(e,t){var i,o,a,s,l=this.context;return e===n?l.length&&this.length?l[0].aoData[this[0]]._details:n:(!0===e?this.child.show():!1===e?kt(this):l.length&&this.length&&(i=l[0],o=l[0].aoData[this[0]],a=[],(s=function(e,t){if(r.isArray(e)||e instanceof r)for(var n=0,o=e.length;n<o;n++)s(e[n],t);else if(e.nodeName&&"tr"===e.nodeName.toLowerCase())a.push(e);else{var l=r("<tr><td/></tr>").addClass(t);r("td",l).addClass(t).html(e)[0].colSpan=j(i),a.push(l[0])}})(e,t),o._details&&o._details.remove(),o._details=r(a),o._detailsShow&&o._details.insertAfter(o.nTr)),this)}),s([Et+".show()",Dt+".show()"],function(e){return Tt(this,!0),this}),s([Et+".hide()",Dt+".hide()"],function(){return Tt(this,!1),this}),s([Et+".remove()",Dt+".remove()"],function(){return kt(this),this}),s(Et+".isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var At=/^(.+):(name|visIdx|visible)$/,Nt=function(e,t,n,r,i){for(var o=[],a=0,s=i.length;a<s;a++)o.push(W(e,i[a],t));return o};s("columns()",function(e,t){e===n?e="":r.isPlainObject(e)&&(t=e,e=""),t=Ct(t);var i=this.iterator("table",function(n){return o=e,a=t,s=(i=n).aoColumns,l=x(s,"sName"),c=x(s,"nTh"),xt("column",o,function(e){var t=v(e);if(""===e)return $(s.length);if(null!==t)return[t>=0?t:s.length+t];if("function"==typeof e){var n=St(i,a);return r.map(s,function(t,r){return e(r,Nt(i,r,0,0,n),c[r])?r:null})}var o="string"==typeof e?e.match(At):"";if(!o)return r(c).filter(e).map(function(){return r.inArray(this,c)}).toArray();switch(o[2]){case"visIdx":case"visible":var u=parseInt(o[1],10);if(u<0){var d=r.map(s,function(e,t){return e.bVisible?t:null});return[d[d.length+u]]}return[B(i,u)];case"name":return r.map(l,function(e,t){return e===o[1]?t:null})}},i,a);var i,o,a,s,l,c},1);return i.selector.cols=e,i.selector.opts=t,i}),l("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),l("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),l("columns().data()","column().data()",function(){return this.iterator("column-rows",Nt,1)}),l("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),l("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,r,i,o){return C(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)},1)}),l("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,r,i){return C(e.aoData,i,"anCells",t)},1)}),l("columns().visible()","column().visible()",function(e,t){return this.iterator("column",function(i,o){if(e===n)return i.aoColumns[o].bVisible;!function(e,t,i,o){var a,s,l,c,u=e.aoColumns,d=u[t],f=e.aoData;if(i===n)return d.bVisible;if(d.bVisible!==i){if(i){var p=r.inArray(!0,x(u,"bVisible"),t+1);for(s=0,l=f.length;s<l;s++)c=f[s].nTr,a=f[s].anCells,c&&c.insertBefore(a[t],a[p]||null)}else r(x(e.aoData,"anCells",t)).detach();d.bVisible=i,se(e,e.aoHeader),se(e,e.aoFooter),(o===n||o)&&(L(e),(e.oScroll.sX||e.oScroll.sY)&&Ue(e)),ht(e,null,"column-visibility",[e,t,i]),at(e)}}(i,o,e,t)})}),l("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?F(t,n):n},1)}),s("columns.adjust()",function(){return this.iterator("table",function(e){L(e)},1)}),s("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return B(n,t);if("fromData"===e||"toVisible"===e)return F(n,t)}}),s("column()",function(e,t){return $t(this.columns(e,t))});s("cells()",function(e,t,i){if(r.isPlainObject(e)&&(e.row===n?(i=e,e=null):(i=t,t=null)),r.isPlainObject(t)&&(i=t,t=null),null===t||t===n)return this.iterator("table",function(t){return o=t,a=e,s=Ct(i),m=o.aoData,g=St(o,s),v=S(C(m,g,"anCells")),b=r([].concat.apply([],v)),y=o.aoColumns.length,xt("cell",a,function(e){var t="function"==typeof e;if(null===e||e===n||t){for(c=[],u=0,d=g.length;u<d;u++)for(l=g[u],f=0;f<y;f++)p={row:l,column:f},t?(h=o.aoData[l],e(p,W(o,l,f),h.anCells?h.anCells[f]:null)&&c.push(p)):c.push(p);return c}return r.isPlainObject(e)?[e]:b.filter(e).map(function(e,t){return{row:l=t.parentNode._DT_RowIndex,column:r.inArray(t,m[l].anCells)}}).toArray()},o,s);var o,a,s,l,c,u,d,f,p,h,m,g,v,b,y});var o,a,s,l,c,u=this.columns(t,i),d=this.rows(e,i),f=this.iterator("table",function(e,t){for(o=[],a=0,s=d[t].length;a<s;a++)for(l=0,c=u[t].length;l<c;l++)o.push({row:d[t][a],column:u[t][l]});return o},1);return r.extend(f.selector,{cols:t,rows:e,opts:i}),f}),l("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,r){var i=e.aoData[t].anCells;return i?i[r]:n},1)}),s("cells().data()",function(){return this.iterator("cell",function(e,t,n){return W(e,t,n)},1)}),l("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,r){return t.aoData[n][e][r]},1)}),l("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,r){return W(t,n,r,e)},1)}),l("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:F(e,n)}},1)}),l("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,r){ne(t,n,e,r)})}),s("cell()",function(e,t,n){return $t(this.cells(e,t,n))}),s("cell().data()",function(e){var t=this.context,r=this[0];return e===n?t.length&&r.length?W(t[0],r[0].row,r[0].column):n:(Y(t[0],r[0].row,r[0].column,e),ne(t[0],r[0].row,"data",r[0].column),this)}),s("order()",function(e,t){var i=this.context;return e===n?0!==i.length?i[0].aaSorting:n:("number"==typeof e?e=[[e,t]]:r.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),s("order.listener()",function(e,t,n){return this.iterator("table",function(r){rt(r,e,t,n)})}),s(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(n,i){var o=[];r.each(t[i],function(t,n){o.push([n,e])}),n.aaSorting=o})}),s("search()",function(e,t,i,o){var a=this.context;return e===n?0!==a.length?a[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&ye(n,r.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==t&&t,bSmart:null===i||i,bCaseInsensitive:null===o||o}),1)})}),l("columns().search()","column().search()",function(e,t,i,o){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;if(e===n)return l[s].sSearch;a.oFeatures.bFilter&&(r.extend(l[s],{sSearch:e+"",bRegex:null!==t&&t,bSmart:null===i||i,bCaseInsensitive:null===o||o}),ye(a,a.oPreviousSearch,1))})}),s("state()",function(){return this.context.length?this.context[0].oSavedState:null}),s("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),s("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),s("state.save()",function(){return this.iterator("table",function(e){at(e)})}),i.versionCheck=i.fnVersionCheck=function(e){for(var t,n,r=i.version.split("."),o=e.split("."),a=0,s=o.length;a<s;a++)if((t=parseInt(r[a],10)||0)!==(n=parseInt(o[a],10)||0))return t>n;return!0},i.isDataTable=i.fnIsDataTable=function(e){var t=r(e).get(0),n=!1;return r.each(i.settings,function(e,i){var o=i.nScrollHead?r("table",i.nScrollHead)[0]:null,a=i.nScrollFoot?r("table",i.nScrollFoot)[0]:null;i.nTable!==t&&o!==t&&a!==t||(n=!0)}),n},i.tables=i.fnTables=function(e){return r.map(i.settings,function(t){if(!e||e&&r(t.nTable).is(":visible"))return t.nTable})},i.util={throttle:We,escapeRegex:Se},i.camelToHungarian=E,s("$()",function(e,t){var n=this.rows(t).nodes(),i=r(n);return r([].concat(i.filter(e).toArray(),i.find(e).toArray()))}),r.each(["on","one","off"],function(e,t){s(t+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var n=r(this.tables().nodes());return n[t].apply(n,e),this})}),s("clear()",function(){return this.iterator("table",function(e){ee(e)})}),s("settings()",function(){return new a(this.context,this.context)}),s("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),s("data()",function(){return this.iterator("table",function(e){return x(e.aoData,"_aData")}).flatten()}),s("destroy()",function(t){return t=t||!1,this.iterator("table",function(n){var o,s=n.nTableWrapper.parentNode,l=n.oClasses,c=n.nTable,u=n.nTBody,d=n.nTHead,f=n.nTFoot,p=r(c),h=r(u),m=r(n.nTableWrapper),g=r.map(n.aoData,function(e){return e.nTr});n.bDestroying=!0,ht(n,"aoDestroyCallback","destroy",[n]),t||new a(n).columns().visible(!0),m.unbind(".DT").find(":not(tbody *)").unbind(".DT"),r(e).unbind(".DT-"+n.sInstance),c!=d.parentNode&&(p.children("thead").detach(),p.append(d)),f&&c!=f.parentNode&&(p.children("tfoot").detach(),p.append(f)),p.detach(),m.detach(),n.aaSorting=[],n.aaSortingFixed=[],it(n),r(g).removeClass(n.asStripeClasses.join(" ")),r("th, td",d).removeClass(l.sSortable+" "+l.sSortableAsc+" "+l.sSortableDesc+" "+l.sSortableNone),n.bJUI&&(r("th span."+l.sSortIcon+", td span."+l.sSortIcon,d).detach(),r("th, td",d).each(function(){var e=r("div."+l.sSortJUIWrapper,this);r(this).append(e.contents()),e.detach()})),!t&&s&&s.insertBefore(c,n.nTableReinsertBefore),h.children().detach(),h.append(g),p.css("width",n.sDestroyWidth).removeClass(l.sTable),(o=n.asDestroyStripes.length)&&h.children().each(function(e){r(this).addClass(n.asDestroyStripes[e%o])});var v=r.inArray(n,i.settings);-1!==v&&i.settings.splice(v,1)})}),r.each(["column","row","cell"],function(e,t){s(t+"s().every()",function(e){return this.iterator(t,function(n,r,i){e.call(new a(n)[t](r,i))})})}),s("i18n()",function(e,t,i){var o=this.context[0],a=Z(e)(o.oLanguage);return a===n&&(a=t),i!==n&&r.isPlainObject(a)&&(a=a[i]!==n?a[i]:a._),a.replace("%d",i)}),i.version="1.10.7",i.settings=[],i.models={},i.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},i.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},i.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},i.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"},oPaginate:{sFirst:'<span class="glyphicon glyphicon-step-backward" aria-hidden="true"></span>',sLast:'<span class="glyphicon glyphicon-step-forward" aria-hidden="true"></span>',sNext:'<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>',sPrevious:'<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>'},sEmptyTable:"Usa los filtros o la busqueda para visualizar los registros.",sInfo:"Visualizando _START_ a _END_ [Total: _TOTAL_]",sInfoEmpty:"Registros 0",sInfoFiltered:"",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Ver _MENU_ registros",sLoadingRecords:"Cargando...",sProcessing:"Procesando registros...",sSearch:"Buscar:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No se encontraron registros."},oSearch:r.extend({},i.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},_(i.defaults),i.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},_(i.defaults.column),i.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==vt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==vt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,r=this.aiDisplay.length,i=this.oFeatures,o=i.bPaginate;return i.bServerSide?!1===o||-1===e?t+r:Math.min(t+e,this._iRecordsDisplay):!o||n>r||-1===e?r:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},i.ext=o={buttons:{},classes:{},errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:i.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:i.version},r.extend(o,{afnFiltering:o.search,aTypes:o.type.detect,ofnSearch:o.type.search,oSort:o.type.order,afnSortData:o.order,aoFeatures:o.feature,oApi:o.internal,oStdClasses:o.classes,oPagination:o.pager}),r.extend(i.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="ui-state-default",t="css_right ui-icon ui-icon-",n="fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";r.extend(i.ext.oJUIClasses,i.ext.classes,{sPageButton:"fg-button ui-button "+e,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:e+" sorting_asc",sSortDesc:e+" sorting_desc",sSortable:e+" sorting",sSortableAsc:e+" sorting_asc_disabled",sSortableDesc:e+" sorting_desc_disabled",sSortableNone:e+" sorting_disabled",sSortJUIAsc:t+"triangle-1-n",sSortJUIDesc:t+"triangle-1-s",sSortJUI:t+"carat-2-n-s",sSortJUIAscAllowed:t+"carat-1-n",sSortJUIDescAllowed:t+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+e,sScrollFoot:"dataTables_scrollFoot "+e,sHeaderTH:e,sFooterTH:e,sJUIHeader:n+" ui-corner-tl ui-corner-tr",sJUIFooter:n+" ui-corner-bl ui-corner-br"})}();var Rt=i.ext.pager;function Ot(e,t){var n=[],r=Rt.numbers_length,i=Math.floor(r/2);return t<=r?n=$(0,t):e<=i?((n=$(0,r-2)).push("ellipsis"),n.push(t-1)):e>=t-1-i?((n=$(t-(r-2),t)).splice(0,0,"ellipsis"),n.splice(0,0,0)):((n=$(e-i+2,e+i-1)).push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}r.extend(Rt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},simple_numbers:function(e,t){return["previous",Ot(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Ot(e,t),"next","last"]},_numbers:Ot,numbers_length:7}),r.extend(!0,i.ext.renderer,{pageButton:{_:function(e,n,i,o,a,s){var l,c,u,d=e.oClasses,f=e.oLanguage.oPaginate,p=0,h=function(t,n){var o,u,m,g=function(t){Be(e,t.data.action,!0)};for(o=0,u=n.length;o<u;o++)if(m=n[o],r.isArray(m)){var v=r("<"+(m.DT_el||"div")+"/>").appendTo(t);h(v,m)}else{switch(l="",c="",m){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=f.sFirst,c=m+(a>0?"":" "+d.sPageButtonDisabled);break;case"previous":l=f.sPrevious,c=m+(a>0?"":" "+d.sPageButtonDisabled);break;case"next":l=f.sNext,c=m+(a<s-1?"":" "+d.sPageButtonDisabled);break;case"last":l=f.sLast,c=m+(a<s-1?"":" "+d.sPageButtonDisabled);break;default:l=m+1,c=a===m?d.sPageButtonActive:""}l&&(ft(r("<a>",{class:d.sPageButton+" "+c,"aria-controls":e.sTableId,"data-dt-idx":p,tabindex:e.iTabIndex,id:0===i&&"string"==typeof m?e.sTableId+"_"+m:null}).html(l).appendTo(t),{action:m},g),p++)}};try{u=r(t.activeElement).data("dt-idx")}catch(e){}h(r(n).empty(),o),u&&r(n).find("[data-dt-idx="+u+"]").focus()}}}),r.extend(i.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return y(e,n)?"num"+n:null},function(e,t){if(e&&!(e instanceof Date)&&(!f.test(e)||!p.test(e)))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||g(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return y(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return w(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return w(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return g(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),r.extend(i.ext.type.search,{html:function(e){return g(e)?e:"string"==typeof e?e.replace(u," ").replace(d,""):""},string:function(e){return g(e)?e:"string"==typeof e?e.replace(u," "):e}});var Pt=function(e,t,n,r){return 0===e||e&&"-"!==e?(t&&(e=b(e,t)),e.replace&&(n&&(e=e.replace(n,"")),r&&(e=e.replace(r,""))),1*e):-1/0};function It(e){r.each({num:function(t){return Pt(t,e)},"num-fmt":function(t){return Pt(t,e,m)},"html-num":function(t){return Pt(t,e,d)},"html-num-fmt":function(t){return Pt(t,e,d,m)}},function(t,n){o.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(o.type.search[t+e]=o.type.search.html)})}function Mt(e){return function(){var t=[lt(this[i.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return i.ext.internal[e].apply(this,t)}}return r.extend(o.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return g(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return g(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),It(""),r.extend(!0,i.ext.renderer,{header:{_:function(e,t,n,i){r(e.nTable).on("order.dt.DT",function(r,o,a,s){if(e===o){var l=n.idx;t.removeClass(n.sSortingClass+" "+i.sSortAsc+" "+i.sSortDesc).addClass("asc"==s[l]?i.sSortAsc:"desc"==s[l]?i.sSortDesc:n.sSortingClass)}})},jqueryui:function(e,t,n,i){r("<div/>").addClass(i.sSortJUIWrapper).append(t.contents()).append(r("<span/>").addClass(i.sSortIcon+" "+n.sSortingClassJUI)).appendTo(t),r(e.nTable).on("order.dt.DT",function(r,o,a,s){if(e===o){var l=n.idx;t.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass("asc"==s[l]?i.sSortAsc:"desc"==s[l]?i.sSortDesc:n.sSortingClass),t.find("span."+i.sSortIcon).removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed).addClass("asc"==s[l]?i.sSortJUIAsc:"desc"==s[l]?i.sSortJUIDesc:n.sSortingClassJUI)}})}}}),i.render={number:function(e,t,n,r){return{display:function(i){if("number"!=typeof i&&"string"!=typeof i)return i;var o=i<0?"-":"";i=Math.abs(parseFloat(i));var a=parseInt(i,10),s=n?t+(i-a).toFixed(n).substring(2):"";return o+(r||"")+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+s}}}},r.extend(i.ext.internal,{_fnExternApiFunc:Mt,_fnBuildAjax:pe,_fnAjaxUpdate:he,_fnAjaxParameters:me,_fnAjaxUpdateDraw:ge,_fnAjaxDataSrc:ve,_fnAddColumn:I,_fnColumnOptions:M,_fnAdjustColumnSizing:L,_fnVisibleToColumnIndex:B,_fnColumnIndexToVisible:F,_fnVisbleColumns:j,_fnGetColumns:z,_fnColumnTypes:U,_fnApplyColumnDefs:H,_fnHungarianMap:_,_fnCamelToHungarian:E,_fnLanguageCompat:D,_fnBrowserDetect:O,_fnAddData:q,_fnAddTr:V,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,t,n){return r.inArray(n,e.aoData[t].anCells)},_fnGetCellData:W,_fnSetCellData:Y,_fnSplitObjNotation:K,_fnGetObjectDataFn:Z,_fnSetObjectDataFn:J,_fnGetDataMaster:Q,_fnClearTable:ee,_fnDeleteIndex:te,_fnInvalidate:ne,_fnGetRowElements:re,_fnCreateTr:ie,_fnBuildHead:ae,_fnDrawHead:se,_fnDraw:le,_fnReDraw:ce,_fnAddOptionsHtml:ue,_fnDetectHeader:de,_fnGetUniqueThs:fe,_fnFeatureHtmlFilter:be,_fnFilterComplete:ye,_fnFilterCustom:we,_fnFilterColumn:xe,_fnFilter:Ce,_fnFilterCreateSearch:$e,_fnEscapeRegex:Se,_fnFilterData:_e,_fnFeatureHtmlInfo:Ae,_fnUpdateInfo:Ne,_fnInfoMacros:Re,_fnInitialise:Oe,_fnInitComplete:Pe,_fnLengthChange:Ie,_fnFeatureHtmlLength:Me,_fnFeatureHtmlPaginate:Le,_fnPageChange:Be,_fnFeatureHtmlProcessing:Fe,_fnProcessingDisplay:je,_fnFeatureHtmlTable:ze,_fnScrollDraw:Ue,_fnApplyToChildren:He,_fnCalculateColumnWidths:Ve,_fnThrottle:We,_fnConvertToWidth:Ye,_fnScrollingWidthAdjust:Ge,_fnGetWidestNode:Xe,_fnGetMaxLenString:Ke,_fnStringToCss:Ze,_fnScrollBarWidth:Je,_fnSortFlatten:Qe,_fnSort:et,_fnSortAria:tt,_fnSortListener:nt,_fnSortAttachListener:rt,_fnSortingClasses:it,_fnSortData:ot,_fnSaveState:at,_fnLoadState:st,_fnSettingsFromNode:lt,_fnLog:ct,_fnMap:ut,_fnBindAction:ft,_fnCallbackReg:pt,_fnCallbackFire:ht,_fnLengthOverflow:mt,_fnRenderer:gt,_fnDataSource:vt,_fnRowAttributes:oe,_fnCalculateEnd:function(){}}),r.fn.dataTable=i,r.fn.dataTableSettings=i.settings,r.fn.dataTableExt=i.ext,r.fn.DataTable=function(e){return r(this).dataTable(e).api()},r.each(i,function(e,t){r.fn.DataTable[e]=t}),r.fn.dataTable})}(window,document),function(e,t){var n=function(e,n){e.extend(!0,n.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),e.extend(n.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),n.ext.renderer.pageButton.bootstrap=function(r,i,o,a,s,l){var c,u,d,f=new n.Api(r),p=r.oClasses,h=r.oLanguage.oPaginate,m=0,g=function(t,n){var i,a,d,v,b=function(t){t.preventDefault(),e(t.currentTarget).hasClass("disabled")||f.page(t.data.action).draw(!1)};for(i=0,a=n.length;i<a;i++)if(v=n[i],e.isArray(v))g(t,v);else{switch(u=c="",v){case"ellipsis":c="&hellip;",u="disabled";break;case"first":c=h.sFirst,u=v+(0<s?"":" disabled");break;case"previous":c=h.sPrevious,u=v+(0<s?"":" disabled");break;case"next":c=h.sNext,u=v+(s<l-1?"":" disabled");break;case"last":c=h.sLast,u=v+(s<l-1?"":" disabled");break;default:c=v+1,u=s===v?"active":""}c&&(d=e("<li>",{class:p.sPageButton+" "+u,id:0===o&&"string"==typeof v?r.sTableId+"_"+v:null}).append(e("<a>",{href:"#","aria-controls":r.sTableId,"data-dt-idx":m,tabindex:r.iTabIndex}).html(c)).appendTo(t),r.oApi._fnBindAction(d,{action:v},b),m++)}};try{d=e(t.activeElement).data("dt-idx")}catch(e){}g(e(i).empty().html('<ul class="pagination"/>').children("ul"),a),d&&e(i).find("[data-dt-idx="+d+"]").focus()},n.TableTools&&(e.extend(!0,n.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),e.extend(!0,n.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],n):"object"==typeof exports?n(require("jquery"),require("datatables")):jQuery&&n(jQuery,jQuery.fn.dataTable)}(window,document),function(e){e.fn.extend({slimScroll:function(n){var r=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){var i,o,a,s,l,c,u,d,f="<div></div>",p=30,h=!1,m=e(this);if(m.parent().hasClass(r.wrapperClass)){var g=m.scrollTop();if(w=m.parent().find("."+r.barClass),y=m.parent().find("."+r.railClass),S(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){m.parent().css("height","auto"),m.css("height","auto");var v=m.parent().parent().height();m.parent().css("height",v),m.css("height",v)}if("scrollTo"in n)g=parseInt(r.scrollTo);else if("scrollBy"in n)g+=parseInt(r.scrollBy);else if("destroy"in n)return w.remove(),y.remove(),void m.unwrap();$(g,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){r.height="auto"==r.height?m.parent().height():r.height;var b=e(f).addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});m.css({overflow:"hidden",width:r.width,height:r.height,"-ms-touch-action":"none"});var y=e(f).addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),w=e(f).addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),x="right"==r.position?{right:r.distance}:{left:r.distance};y.css(x),w.css(x),m.wrap(b),m.parent().append(w),m.parent().append(y),r.railDraggable&&w.bind("mousedown",function(n){var r=e(document);return a=!0,t=parseFloat(w.css("top")),pageY=n.pageY,r.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,w.css("top",currTop),$(0,w.position().top,!1)}),r.bind("mouseup.slimscroll",function(e){a=!1,T(),r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),y.hover(function(){k()},function(){T()}),w.hover(function(){o=!0},function(){o=!1}),m.hover(function(){i=!0,k(),T()},function(){i=!1,T()}),window.navigator.msPointerEnabled?(m.bind("MSPointerDown",function(e,t){e.originalEvent.targetTouches.length&&(l=e.originalEvent.targetTouches[0].pageY)}),m.bind("MSPointerMove",function(e){(e.originalEvent.preventDefault(),e.originalEvent.targetTouches.length)&&($((l-e.originalEvent.targetTouches[0].pageY)/r.touchScrollStep,!0),l=e.originalEvent.targetTouches[0].pageY)})):(m.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(l=e.originalEvent.touches[0].pageY)}),m.bind("touchmove",function(e){(h||e.originalEvent.preventDefault(),e.originalEvent.touches.length)&&($((l-e.originalEvent.touches[0].pageY)/r.touchScrollStep,!0),l=e.originalEvent.touches[0].pageY)})),S(),"bottom"===r.start?(w.css({top:m.outerHeight()-w.outerHeight()}),$(0,!0)):"top"!==r.start&&($(e(r.start).position().top,null,!0),r.alwaysVisible||w.hide()),function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",C,!1),this.addEventListener("mousewheel",C,!1)):document.attachEvent("onmousewheel",C)}()}function C(t){if(i){var n=0;(t=t||window.event).wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var o=t.target||t.srcTarget||t.srcElement;e(o).closest("."+r.wrapperClass).is(m.parent())&&$(n,!0),t.preventDefault&&!h&&t.preventDefault(),h||(t.returnValue=!1)}}function $(e,t,n){h=!1;var i=e,o=m.outerHeight()-w.outerHeight();if(t&&(i=parseInt(w.css("top"))+e*parseInt(r.wheelStep)/100*w.outerHeight(),i=Math.min(Math.max(i,0),o),i=e>0?Math.ceil(i):Math.floor(i),w.css({top:i+"px"})),i=(u=parseInt(w.css("top"))/(m.outerHeight()-w.outerHeight()))*(m[0].scrollHeight-m.outerHeight()),n){var a=(i=e)/m[0].scrollHeight*m.outerHeight();a=Math.min(Math.max(a,0),o),w.css({top:a+"px"})}m.scrollTop(i),m.trigger("slimscrolling",~~i),k(),T()}function S(){c=Math.max(m.outerHeight()/m[0].scrollHeight*m.outerHeight(),p),w.css({height:c+"px"});var e=c==m.outerHeight()?"none":"block";w.css({display:e})}function k(){if(S(),clearTimeout(s),u==~~u){if(h=r.allowPageScroll,d!=u){var e=0==~~u?"top":"bottom";m.trigger("slimscroll",e)}}else h=!1;d=u,c>=m.outerHeight()?h=!0:(w.stop(!0,!0).fadeIn("fast"),r.railVisible&&y.stop(!0,!0).fadeIn("fast"))}function T(){r.alwaysVisible||(s=setTimeout(function(){r.disableFadeOut&&i||o||a||(w.fadeOut("slow"),y.fadeOut("slow"))},1e3))}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n||e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){!function(){"use strict";function e(t,n){function i(e,t){return function(){return e.apply(t,arguments)}}var o;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=t,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!e.notNeeded(t)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=0,l=a.length;l>s;s++)this[a[s]]=i(this[a[s]],this);r&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(t,e,n,r)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(e){o(e)},!1),t.onclick=null)}}var n=navigator.userAgent.indexOf("Windows Phone")>=0,r=navigator.userAgent.indexOf("Android")>0&&!n,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!n,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=i&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!r;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return r&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(!(t=e.fastClickScrollParent)||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if((r=window.getSelection()).rangeCount&&!r.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,n,s,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(c=e.changedTouches[0],(u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(s=u.tagName.toLowerCase())){if(t=this.findControl(u)){if(this.focus(u),r)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-n>100||i&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),i&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return!(!i||o||(l=u.fastClickScrollParent,!l||l.fastClickLastScrollTop===l.scrollTop))||(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!(e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick))||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1)))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;r&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,n,i;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!r)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&((i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&i[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):void 0!==t&&t.exports?(t.exports=e.attach,t.exports.FastClick=e):window.FastClick=e}()},{}],2:[function(e){window.Origami={fastclick:e("./bower_components/fastclick/lib/fastclick.js")}},{"./bower_components/fastclick/lib/fastclick.js":1}]},{},[2]),function(){function e(){document.dispatchEvent(new CustomEvent("o.load"))}document.addEventListener("load",e),"ready"===document.readyState&&e()}(),function(){function e(){document.dispatchEvent(new CustomEvent("o.DOMContentLoaded"))}document.addEventListener("DOMContentLoaded",e),"interactive"===document.readyState&&e()}(),"undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");function _init(){$.AdminLTE.layout={activate:function(){var e=this;e.fix(),e.fixSidebar(),$(window,".wrapper").resize(function(){e.fix(),e.fixSidebar()})},fix:function(){var e=$(".main-header").outerHeight()+$(".main-footer").outerHeight(),t=$(window).height(),n=$(".sidebar").height();if($("body").hasClass("fixed"))$(".content-wrapper, .right-side").css("min-height",t-$(".main-footer").outerHeight());else{var r;t>=n?($(".content-wrapper, .right-side").css("min-height",t-e),r=t-e):($(".content-wrapper, .right-side").css("min-height",n),r=n);var i=$($.AdminLTE.options.controlSidebarOptions.selector);void 0!==i&&i.height()>r&&$(".content-wrapper, .right-side").css("min-height",i.height())}},fixSidebar:function(){$("body").hasClass("fixed")?(void 0===$.fn.slimScroll&&console&&console.error("Error: the fixed layout requires the slimscroll plugin!"),$.AdminLTE.options.sidebarSlimScroll&&void 0!==$.fn.slimScroll&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimscroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"}))):void 0!==$.fn.slimScroll&&$(".sidebar").slimScroll({destroy:!0}).height("auto")}},$.AdminLTE.pushMenu={activate:function(e){var t=$.AdminLTE.options.screenSizes;$(e).on("click",function(e){e.preventDefault(),$(window).width()>t.sm-1?$("body").toggleClass("sidebar-collapse"):$("body").hasClass("sidebar-open")?($("body").removeClass("sidebar-open"),$("body").removeClass("sidebar-collapse")):$("body").addClass("sidebar-open")}),$(".content-wrapper").click(function(){$(window).width()<=t.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")}),($.AdminLTE.options.sidebarExpandOnHover||$("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))&&this.expandOnHover()},expandOnHover:function(){var e=this,t=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>t&&e.expand()},function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>t&&e.collapse()})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){$("body").hasClass("sidebar-expanded-on-hover")&&$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}},$.AdminLTE.tree=function(e){var t=this;$("li a",$(e)).on("click",function(e){var n=$(this),r=n.next();if(r.is(".treeview-menu")&&r.is(":visible"))r.slideUp("normal",function(){r.removeClass("menu-open")}),r.parent("li").removeClass("active");else if(r.is(".treeview-menu")&&!r.is(":visible")){var i=n.parents("ul").first();i.find("ul:visible").slideUp("normal").removeClass("menu-open");var o=n.parent("li");r.slideDown("normal",function(){r.addClass("menu-open"),i.find("li.active").removeClass("active"),o.addClass("active"),t.layout.fix()})}r.is(".treeview-menu")&&e.preventDefault()})},$.AdminLTE.controlSidebar={activate:function(){var e=this,t=$.AdminLTE.options.controlSidebarOptions,n=$(t.selector);$(t.toggleBtnSelector).on("click",function(r){r.preventDefault(),n.hasClass("control-sidebar-open")||$("body").hasClass("control-sidebar-open")?e.close(n,t.slide):e.open(n,t.slide)});var r=$(".control-sidebar-bg");e._fix(r),$("body").hasClass("fixed")?e._fixForFixed(n):$(".content-wrapper, .right-side").height()<n.height()&&e._fixForContent(n)},open:function(e,t){t?e.addClass("control-sidebar-open"):$("body").addClass("control-sidebar-open")},close:function(e,t){t?e.removeClass("control-sidebar-open"):$("body").removeClass("control-sidebar-open")},_fix:function(e){var t=this;$("body").hasClass("layout-boxed")?(e.css("position","absolute"),e.height($(".wrapper").height()),$(window).resize(function(){t._fix(e)})):e.css({position:"fixed",height:"auto"})},_fixForFixed:function(e){e.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(e){$(".content-wrapper, .right-side").css("min-height",e.height())}},$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,activate:function(){var e=this;$(e.selectors.collapse).on("click",function(t){t.preventDefault(),e.collapse($(this))}),$(e.selectors.remove).on("click",function(t){t.preventDefault(),e.remove($(this))})},collapse:function(e){var t=e.parents(".box").first(),n=t.find("> .box-body, > .box-footer");t.hasClass("collapsed-box")?(e.children(":first").removeClass(this.icons.open).addClass(this.icons.collapse),n.slideDown(300,function(){t.removeClass("collapsed-box")})):(e.children(":first").removeClass(this.icons.collapse).addClass(this.icons.open),n.slideUp(300,function(){t.addClass("collapsed-box")}))},remove:function(e){e.parents(".box").first().slideUp()}}}function Notify(e){var t=e.error?"error":"success",n=e.error?"Oops!, Error: "+e.error.code:"Operacin Culminada",r=e.error?e.error.message:"Todas las peticiones se han procesado sin problemas.",i=e.error?1e4:3e3;new PNotify({title:n,text:r,styling:"bootstrap3",type:t,addclass:"stack-bottomleft",delay:i})}$.AdminLTE={},$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}},$(function(){"undefined"!=typeof AdminLTEOptions&&$.extend(!0,$.AdminLTE.options,AdminLTEOptions);var e=$.AdminLTE.options;_init(),$.AdminLTE.layout.activate(),$.AdminLTE.tree(".sidebar"),e.enableControlSidebar&&$.AdminLTE.controlSidebar.activate(),e.navbarMenuSlimscroll&&void 0!==$.fn.slimscroll&&$(".navbar .menu").slimscroll({height:e.navbarMenuHeight,alwaysVisible:!1,size:e.navbarMenuSlimscrollWidth}).css("width","100%"),e.sidebarPushMenu&&$.AdminLTE.pushMenu.activate(e.sidebarToggleSelector),e.enableBSToppltip&&$("body").tooltip({selector:e.BSTooltipSelector}),e.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),e.enableFastclick&&"undefined"!=typeof FastClick&&FastClick.attach(document.body),e.directChat.enable&&$(e.directChat.contactToggleSelector).on("click",function(){$(this).parents(".direct-chat").first().toggleClass("direct-chat-contacts-open")}),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var e=$(this);$(this).find(".btn").on("click",function(t){e.find(".btn.active").removeClass("active"),$(this).addClass("active"),t.preventDefault()})})}),function(e){e.fn.boxRefresh=function(t){var n=e.extend({trigger:".refresh-btn",source:"",onLoadStart:function(e){},onLoadDone:function(e){}},t),r=e('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(""!==n.source){var t=e(this);t.find(n.trigger).first().on("click",function(e){var i;e.preventDefault(),(i=t).append(r),n.onLoadStart.call(i),t.find(".box-body").load(n.source,function(){var e;(e=t).find(r).remove(),n.onLoadDone.call(e)})})}else console&&console.log("Please specify a source first - boxRefresh()")})}}(jQuery),function(e){e.fn.todolist=function(t){var n=e.extend({onCheck:function(e){},onUncheck:function(e){}},t);return this.each(function(){void 0!==e.fn.iCheck?(e("input",this).on("ifChecked",function(t){var r=e(this).parents("li").first();r.toggleClass("done"),n.onCheck.call(r)}),e("input",this).on("ifUnchecked",function(t){var r=e(this).parents("li").first();r.toggleClass("done"),n.onUncheck.call(r)})):e("input",this).on("change",function(t){var r=e(this).parents("li").first();r.toggleClass("done"),n.onCheck.call(r)})})}}(jQuery),function(e,t){var n=["skin-blue","skin-black","skin-red","skin-yellow","skin-purple","skin-green","skin-blue-light","skin-black-light","skin-red-light","skin-yellow-light","skin-purple-light","skin-green-light"],r=e("<div />",{id:"control-sidebar-theme-demo-options-tab",class:"tab-pane active"}),i=e("<li />",{class:"active"}).html("<a href='javascript:void(0)' data-target='#control-sidebar-theme-demo-options-tab' data-toggle='tab'><i class='fa fa-wrench'></i></a>");e("[data-target='#control-sidebar-home-tab']").parent().before(i);var o=e("<div />");o.append("<h4 class='control-sidebar-heading'>Opciones de diseo</h4><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-layout='fixed' class='pull-right'/> Diseo fijo</label><p>Activar el diseo fijo. No puede usar diseos fijos y en caja juntos</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-layout='layout-boxed'class='pull-right'/> Boxed Layout</label><p>Diseo en caja</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-layout='sidebar-collapse' class='pull-right'/> Alternar barra lateral</label><p>Alternar el estado de la barra lateral izquierda (abrir o colapsar)</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-enable='expandOnHover' class='pull-right'/> Expandir barra lateral</label><p>Deje que el men de la barra lateral se expanda al pasar el mouse</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-controlsidebar='control-sidebar-open' class='pull-right'/> Alternar la barra lateral derecha</label><p>Alternar entre la diapositiva sobre el contenido y los efectos de contenido push</p></div><div class='form-group'><label class='control-sidebar-subheading'><input type='checkbox' data-sidebarskin='toggle' class='pull-right'/> Alternar la barra lateral derecha</label><p>Alternar entre mscaras oscuras y claras para la barra lateral derecha</p></div>");var a=e("<ul />",{class:"list-unstyled clearfix"}),s=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-blue' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px; background: #367fa9;'></span><span class='bg-light-blue' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Azul</p>");a.append(s);var l=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-black' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div style='box-shadow: 0 0 2px rgba(0,0,0,0.1)' class='clearfix'><span style='display:block; width: 20%; float: left; height: 7px; background: #fefefe;'></span><span style='display:block; width: 80%; float: left; height: 7px; background: #fefefe;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Negro</p>");a.append(l);var c=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-purple' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-purple-active'></span><span class='bg-purple' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>P&oacute;rpura</p>");a.append(c);var u=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-green' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-green-active'></span><span class='bg-green' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Verde</p>");a.append(u);var d=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-red' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-red-active'></span><span class='bg-red' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Rojo</p>");a.append(d);var f=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-yellow' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-yellow-active'></span><span class='bg-yellow' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #222d32;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin'>Amarillo</p>");a.append(f);var p=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-blue-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px; background: #367fa9;'></span><span class='bg-light-blue' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Azul Light</p>");a.append(p);var h=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-black-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div style='box-shadow: 0 0 2px rgba(0,0,0,0.1)' class='clearfix'><span style='display:block; width: 20%; float: left; height: 7px; background: #fefefe;'></span><span style='display:block; width: 80%; float: left; height: 7px; background: #fefefe;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Negro Light</p>");a.append(h);var m=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-purple-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-purple-active'></span><span class='bg-purple' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>P&uacute;rpura Light</p>");a.append(m);var g=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-green-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-green-active'></span><span class='bg-green' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Verde Light</p>");a.append(g);var v=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-red-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-red-active'></span><span class='bg-red' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px'>Rojo Light</p>");a.append(v);var b=e("<li />",{style:"float:left; width: 33.33333%; padding: 5px;"}).append("<a href='javascript:void(0);' data-skin='skin-yellow-light' style='display: block; box-shadow: 0 0 3px rgba(0,0,0,0.4)' class='clearfix full-opacity-hover'><div><span style='display:block; width: 20%; float: left; height: 7px;' class='bg-yellow-active'></span><span class='bg-yellow' style='display:block; width: 80%; float: left; height: 7px;'></span></div><div><span style='display:block; width: 20%; float: left; height: 20px; background: #f9fafc;'></span><span style='display:block; width: 80%; float: left; height: 20px; background: #f4f5f7;'></span></div></a><p class='text-center no-margin' style='font-size: 12px;'>Amarillo Light</p>");function y(n){e("body").toggleClass(n),t.layout.fixSidebar(),"layout-boxed"==n&&t.controlSidebar._fix(e(".control-sidebar-bg")),e("body").hasClass("fixed")&&"fixed"==n&&(t.pushMenu.expandOnHover(),t.controlSidebar._fixForFixed(e(".control-sidebar")),t.layout.activate())}function w(t){var r,i;return e.each(n,function(t){e("body").removeClass(n[t])}),e("body").addClass(t),r="skin",i=t,"undefined"!=typeof Storage?localStorage.setItem(r,i):alert("Please use a modern browser to properly view this template!"),!1}a.append(b),o.append("<h4 class='control-sidebar-heading'>Skins</h4>"),o.append(a),r.append(o),e("#control-sidebar-home-tab").after(r),function(){var r=function(e){{if("undefined"!=typeof Storage)return localStorage.getItem(e);alert("Please use a modern browser to properly view this template!")}}("skin");r&&e.inArray(r,n)&&w(r);e("[data-skin]").on("click",function(t){t.preventDefault(),w(e(this).data("skin"))}),e("[data-layout]").on("click",function(){y(e(this).data("layout"))}),e("[data-controlsidebar]").on("click",function(){y(e(this).data("controlsidebar"));var n=!t.options.controlSidebarOptions.slide;t.options.controlSidebarOptions.slide=n,n||e(".control-sidebar").removeClass("control-sidebar-open")}),e("[data-sidebarskin='toggle']").on("click",function(){var t=e(".control-sidebar");t.hasClass("control-sidebar-dark")?(t.removeClass("control-sidebar-dark"),t.addClass("control-sidebar-light")):(t.removeClass("control-sidebar-light"),t.addClass("control-sidebar-dark"))}),e("[data-enable='expandOnHover']").on("click",function(){e(this).attr("disabled",!0),t.pushMenu.expandOnHover(),e("body").hasClass("sidebar-collapse")||e("[data-layout='sidebar-collapse']").click()}),e("body").hasClass("fixed")&&e("[data-layout='fixed']").attr("checked","checked");e("body").hasClass("layout-boxed")&&e("[data-layout='layout-boxed']").attr("checked","checked");e("body").hasClass("sidebar-collapse")&&e("[data-layout='sidebar-collapse']").attr("checked","checked")}()}(jQuery,$.AdminLTE),String.prototype.equals||(String.prototype.equals=function(e){return this==e}),String.prototype.toNum||(String.prototype.toNum=function(){var e,t=0==this.indexOf("-")?-1:1,n=this.replace(/\s+/gi,"");if((n=n.split(".")).length>1){for(var r in e=n[n.length-1].replace(/\D/g,""),n.pop(),n)n[r]=n[r].replace(/\D/g,"");return parseFloat((n.join("")+"."+e).toString())*t||0}return parseFloat(this.replace(/\D/g,""))*t||0},Number.prototype.toNum=function(){return this}),Date.prototype.getSimple=function(){return[this.getFullYear(),this.getMonth()+1,this.getDate()].join("-")},String.prototype.toDate=function(){var e=new Date;return e.setFullYear(this.split("-")[0],this.split("-")[1].toNum()-1,this.split("-")[2]),e},String.prototype.capitalize=function(){var e=this;for(var t in e=(e=e.toLowerCase()).split(" "))e[t].length&&(e[t]=e[t].substring(0,1).toUpperCase()+e[t].substring(1));return e.join(" ")},"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n}),String.prototype.isNumeric=function(){var e=this&&this.toString();return!Array.isArray(this)&&e-parseFloat(e)+1>=0},JSON.CAST=function(e){for(var t in e)"object"!=typeof e[t]&&!Array.isArray(e[t])||null==e[t]?"string"==typeof e[t]&&(e[t]=e[t].isNumeric()?e[t].toNum():e[t]):e[t]=JSON.CAST(e[t]);return e},Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";var t=Object(this),n=parseInt(t.length)||0;if(0===n)return!1;var r,i,o=parseInt(arguments[1])||0;for(o>=0?r=o:(r=n+o)<0&&(r=0);r<n;){if(e===(i=t[r])||e!=e&&i!=i)return!0;r++}return!1}),Storage.prototype.setObject=function(e,t){this.setItem(e,JSON.stringify(t))},Storage.prototype.getObject=function(e){var t=this.getItem(e);return t&&JSON.parse(t)},function(e,t){"function"==typeof define&&define.amd?define("pnotify",["jquery"],function(n){return t(n,e)}):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),global||e):e.PNotify=t(e.jQuery,e)}("undefined"!=typeof window?window:this,function(e,t){var n=function(t){var r,i,o={dir1:"down",dir2:"left",push:"bottom",spacing1:36,spacing2:36,context:e("body"),modal:!1},a=e(t),s=function(){i=e("body"),l.prototype.options.stack.context=i,(a=e(t)).bind("resize",function(){r&&clearTimeout(r),r=setTimeout(function(){l.positionAll(!0)},10)})},l=function(e){this.state="initializing",this.timer=null,this.animTimer=null,this.styles=null,this.elem=null,this.container=null,this.title_container=null,this.text_container=null,this.animating=!1,this.timerHide=!1,this.parseOptions(e),this.init()};return e.extend(l.prototype,{version:"3.2.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"normal",shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:o},modules:{},runModules:function(e,t){var n;for(var r in this.modules)n="object"==typeof t&&r in t?t[r]:t,"function"==typeof this.modules[r][e]&&(this.modules[r].notice=this,this.modules[r].options="object"==typeof this.options[r]?this.options[r]:{},this.modules[r][e](this,"object"==typeof this.options[r]?this.options[r]:{},n))},init:function(){var t=this;return this.modules={},e.extend(!0,this.modules,l.prototype.modules),"object"==typeof this.options.styling?this.styles=this.options.styling:this.styles=l.styling[this.options.styling],this.elem=e("<div />",{class:"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive","aria-role":"alertdialog",mouseenter:function(e){if(t.options.mouse_reset&&"out"===t.animating){if(!t.timerHide)return;t.cancelRemove()}t.options.hide&&t.options.mouse_reset&&t.cancelRemove()},mouseleave:function(e){t.options.hide&&t.options.mouse_reset&&"out"!==t.animating&&t.queueRemove(),l.positionAll()}}),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.container=e("<div />",{class:this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),role:"alert"}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),!1!==this.options.icon&&e("<div />",{class:"ui-pnotify-icon"}).append(e("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container),this.title_container=e("<h4 />",{class:"ui-pnotify-title"}).appendTo(this.container),!1===this.options.title?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=e("<div />",{class:"ui-pnotify-text","aria-role":"alert"}).appendTo(this.container),!1===this.options.text?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.width&&this.elem.css("width",this.options.width),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),"top"===this.options.stack.push?l.notices=e.merge([this],l.notices):l.notices=e.merge(l.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.state="closed",this.options.auto_display&&this.open(),this},update:function(t){var n=this.options;return this.parseOptions(n,t),this.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.options.cornerclass!==n.cornerclass&&this.container.removeClass("ui-corner-all "+n.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==n.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),!1===this.options.addclass?this.elem.removeClass(n.addclass):this.options.addclass!==n.addclass&&this.elem.removeClass(n.addclass).addClass(this.options.addclass),!1===this.options.title?this.title_container.slideUp("fast"):this.options.title!==n.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),!1===n.title&&this.title_container.slideDown(200)),!1===this.options.text?this.text_container.slideUp("fast"):this.options.text!==n.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),!1===n.text&&this.text_container.slideDown(200)),this.options.type!==n.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),(this.options.icon!==n.icon||!0===this.options.icon&&this.options.type!==n.type)&&(this.container.find("div.ui-pnotify-icon").remove(),!1!==this.options.icon&&e("<div />",{class:"ui-pnotify-icon"}).append(e("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)),this.options.width!==n.width&&this.elem.animate({width:this.options.width}),this.options.min_height!==n.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.hide?n.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",n),this},open:function(){this.state="opening",this.runModules("beforeOpen");var e=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:i),"top"!==this.options.stack.push&&this.position(!0),this.animateIn(function(){e.queuePosition(!0),e.options.hide&&e.queueRemove(),e.state="open",e.runModules("afterOpen")}),this},remove:function(n){this.state="closing",this.timerHide=!!n,this.runModules("beforeClose");var r=this;return this.timer&&(t.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(r.state="closed",r.runModules("afterClose"),r.queuePosition(!0),r.options.remove&&r.elem.detach(),r.runModules("beforeDestroy"),r.options.destroy&&null!==l.notices){var t=e.inArray(r,l.notices);-1!==t&&l.notices.splice(t,1)}r.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(t,n){this.options=e.extend(!0,{},l.prototype.options),this.options.stack=l.prototype.options.stack;for(var r,i=[t,n],o=0;o<i.length&&void 0!==(r=i[o]);o++)if("object"!=typeof r)this.options.text=r;else for(var a in r)this.modules[a]?e.extend(!0,this.options[a],r[a]):this.options[a]=r[a]},animateIn:function(e){this.animating="in";var t=this,n=function(){t.animTimer&&clearTimeout(t.animTimer),"in"===t.animating&&(t.elem.is(":visible")?(e&&e.call(),t.animating=!1):t.animTimer=setTimeout(n,40))};"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",n).addClass("ui-pnotify-in"),this.elem.css("opacity"),this.elem.addClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(n,650)):(this.elem.addClass("ui-pnotify-in"),n())},animateOut:function(t){this.animating="out";var n=this,r=function(){if(n.animTimer&&clearTimeout(n.animTimer),"out"===n.animating)if("0"!=n.elem.css("opacity")&&n.elem.is(":visible"))n.animTimer=setTimeout(r,40);else{if(n.elem.removeClass("ui-pnotify-in"),n.options.stack.overlay){var i=!1;e.each(l.notices,function(e,t){t!=n&&t.options.stack===n.options.stack&&"closed"!=t.state&&(i=!0)}),i||n.options.stack.overlay.hide()}t&&t.call(),n.animating=!1}};"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",r).removeClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(r,650)):(this.elem.removeClass("ui-pnotify-in"),r())},position:function(t){var n,r,o=this.options.stack,s=this.elem;if(void 0===o.context&&(o.context=i),o){"number"!=typeof o.nextpos1&&(o.nextpos1=o.firstpos1),"number"!=typeof o.nextpos2&&(o.nextpos2=o.firstpos2),"number"!=typeof o.addpos2&&(o.addpos2=0);var c=!s.hasClass("ui-pnotify-in");if(!c||t){var u,d,f,p;switch(o.modal&&(o.overlay?o.overlay.show():o.overlay=(n=o,(r=e("<div />",{class:"ui-pnotify-modal-overlay"})).prependTo(n.context),n.overlay_close&&r.click(function(){l.removeStack(n)}),r)),s.addClass("ui-pnotify-move"),o.dir1){case"down":f="top";break;case"up":f="bottom";break;case"left":f="right";break;case"right":f="left"}switch(u=parseInt(s.css(f).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(u)&&(u=0),void 0!==o.firstpos1||c||(o.firstpos1=u,o.nextpos1=o.firstpos1),o.dir2){case"down":p="top";break;case"up":p="bottom";break;case"left":p="right";break;case"right":p="left"}switch(d=parseInt(s.css(p).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(d)&&(d=0),void 0!==o.firstpos2||c||(o.firstpos2=d,o.nextpos2=o.firstpos2),("down"===o.dir1&&o.nextpos1+s.height()>(o.context.is(i)?a.height():o.context.prop("scrollHeight"))||"up"===o.dir1&&o.nextpos1+s.height()>(o.context.is(i)?a.height():o.context.prop("scrollHeight"))||"left"===o.dir1&&o.nextpos1+s.width()>(o.context.is(i)?a.width():o.context.prop("scrollWidth"))||"right"===o.dir1&&o.nextpos1+s.width()>(o.context.is(i)?a.width():o.context.prop("scrollWidth")))&&(o.nextpos1=o.firstpos1,o.nextpos2+=o.addpos2+(void 0===o.spacing2?25:o.spacing2),o.addpos2=0),"number"==typeof o.nextpos2&&(o.animation?s.css(p,o.nextpos2+"px"):(s.removeClass("ui-pnotify-move"),s.css(p,o.nextpos2+"px"),s.css(p),s.addClass("ui-pnotify-move"))),o.dir2){case"down":case"up":s.outerHeight(!0)>o.addpos2&&(o.addpos2=s.height());break;case"left":case"right":s.outerWidth(!0)>o.addpos2&&(o.addpos2=s.width())}switch("number"==typeof o.nextpos1&&(o.animation?s.css(f,o.nextpos1+"px"):(s.removeClass("ui-pnotify-move"),s.css(f,o.nextpos1+"px"),s.css(f),s.addClass("ui-pnotify-move"))),o.dir1){case"down":case"up":o.nextpos1+=s.height()+(void 0===o.spacing1?25:o.spacing1);break;case"left":case"right":o.nextpos1+=s.width()+(void 0===o.spacing1?25:o.spacing1)}}return this}},queuePosition:function(e,t){return r&&clearTimeout(r),t||(t=10),r=setTimeout(function(){l.positionAll(e)},t),this},cancelRemove:function(){return this.timer&&t.clearTimeout(this.timer),this.animTimer&&t.clearTimeout(this.animTimer),"closing"===this.state&&(this.state="open",this.animating=!1,this.elem.addClass("ui-pnotify-in"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-in")),this},queueRemove:function(){var e=this;return this.cancelRemove(),this.timer=t.setTimeout(function(){e.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),e.extend(l,{notices:[],reload:n,removeAll:function(){e.each(l.notices,function(e,t){t.remove&&t.remove(!1)})},removeStack:function(t){e.each(l.notices,function(e,n){n.remove&&n.options.stack===t&&n.remove(!1)})},positionAll:function(t){if(r&&clearTimeout(r),r=null,l.notices&&l.notices.length)e.each(l.notices,function(e,n){var r=n.options.stack;r&&(r.overlay&&r.overlay.hide(),r.nextpos1=r.firstpos1,r.nextpos2=r.firstpos2,r.addpos2=0,r.animation=t)}),e.each(l.notices,function(e,t){t.position()});else{var n=l.prototype.options.stack;n&&(delete n.nextpos1,delete n.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),l.styling.fontawesome=e.extend({},l.styling.bootstrap3),e.extend(l.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),t.document.body?s():e(s),l};return n(t)}),function(e,t){"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:this,function(e,t){return t.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick",unstick:"Unstick"},classes:{closer:null,pin_up:null,pin_down:null}},t.prototype.modules.buttons={init:function(t,n){var r=this;t.elem.on({mouseenter:function(e){!r.options.sticker||t.options.nonblock&&t.options.nonblock.nonblock&&!r.options.show_on_nonblock||r.sticker.trigger("pnotify:buttons:toggleStick").css("visibility","visible"),!r.options.closer||t.options.nonblock&&t.options.nonblock.nonblock&&!r.options.show_on_nonblock||r.closer.css("visibility","visible")},mouseleave:function(e){r.options.sticker_hover&&r.sticker.css("visibility","hidden"),r.options.closer_hover&&r.closer.css("visibility","hidden")}}),this.sticker=e("<div />",{class:"ui-pnotify-sticker","aria-role":"button","aria-pressed":t.options.hide?"false":"true",tabindex:"0",title:t.options.hide?n.labels.stick:n.labels.unstick,css:{cursor:"pointer",visibility:n.sticker_hover?"hidden":"visible"},click:function(){t.options.hide=!t.options.hide,t.options.hide?t.queueRemove():t.cancelRemove(),e(this).trigger("pnotify:buttons:toggleStick")}}).bind("pnotify:buttons:toggleStick",function(){var n=null===r.options.classes.pin_up?t.styles.pin_up:r.options.classes.pin_up,i=null===r.options.classes.pin_down?t.styles.pin_down:r.options.classes.pin_down;e(this).attr("title",t.options.hide?r.options.labels.stick:r.options.labels.unstick).children().attr("class","").addClass(t.options.hide?n:i).attr("aria-pressed",t.options.hide?"false":"true")}).append("<span />").trigger("pnotify:buttons:toggleStick").prependTo(t.container),(!n.sticker||t.options.nonblock&&t.options.nonblock.nonblock&&!n.show_on_nonblock)&&this.sticker.css("display","none"),this.closer=e("<div />",{class:"ui-pnotify-closer","aria-role":"button",tabindex:"0",title:n.labels.close,css:{cursor:"pointer",visibility:n.closer_hover?"hidden":"visible"},click:function(){t.remove(!1),r.sticker.css("visibility","hidden"),r.closer.css("visibility","hidden")}}).append(e("<span />",{class:null===n.classes.closer?t.styles.closer:n.classes.closer})).prependTo(t.container),(!n.closer||t.options.nonblock&&t.options.nonblock.nonblock&&!n.show_on_nonblock)&&this.closer.css("display","none")},update:function(e,t){!t.closer||e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock?this.closer.css("display","none"):t.closer&&this.closer.css("display","block"),!t.sticker||e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock?this.sticker.css("display","none"):t.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify:buttons:toggleStick"),this.closer.find("span").attr("class","").addClass(null===t.classes.closer?e.styles.closer:t.classes.closer),t.sticker_hover?this.sticker.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock||this.sticker.css("visibility","visible"),t.closer_hover?this.closer.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock||this.closer.css("visibility","visible")}},e.extend(t.styling.brighttheme,{closer:"brighttheme-icon-closer",pin_up:"brighttheme-icon-sticker",pin_down:"brighttheme-icon-sticker brighttheme-icon-stuck"}),e.extend(t.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),e.extend(t.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"}),t}),function(e,t){"function"==typeof define&&define.amd?define("pnotify.confirm",["jquery","pnotify"],t):"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("./pnotify")):t(e.jQuery,e.PNotify)}("undefined"!=typeof window?window:this,function(e,t){return t.prototype.options.confirm={confirm:!1,prompt:!1,prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(e,t){e.remove(),e.get().trigger("pnotify.confirm",[e,t])}},{text:"Cancel",addClass:"",click:function(e){e.remove(),e.get().trigger("pnotify.cancel",e)}}]},t.prototype.modules.confirm={init:function(t,n){this.container=e('<div class="ui-pnotify-action-bar" style="margin-top:5px;clear:both;" />').css("text-align",n.align).appendTo(t.container),n.confirm||n.prompt?this.makeDialog(t,n):this.container.hide()},update:function(e,t){t.confirm?(this.makeDialog(e,t),this.container.show()):this.container.hide().empty()},afterOpen:function(e,t){t.prompt&&this.prompt.focus()},makeDialog:function(n,r){var i,o,a=!1,s=this;this.container.empty(),r.prompt&&(this.prompt=e("<"+(r.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:5px;clear:both;" />').addClass((void 0===n.styles.input?"":n.styles.input)+" "+(void 0===r.prompt_class?"":r.prompt_class)).val(r.prompt_default).appendTo(this.container));for(var l=r.buttons[0]&&r.buttons[0]!==t.prototype.options.confirm.buttons[0],c=0;c<r.buttons.length;c++)null===r.buttons[c]||l&&t.prototype.options.confirm.buttons[c]&&t.prototype.options.confirm.buttons[c]===r.buttons[c]||(i=r.buttons[c],a?this.container.append(" "):a=!0,o=e('<button type="button" class="ui-pnotify-action-button" />').addClass((void 0===n.styles.btn?"":n.styles.btn)+" "+(void 0===i.addClass?"":i.addClass)).text(i.text).appendTo(this.container).on("click",function(e){return function(){"function"==typeof e.click&&e.click(n,r.prompt?s.prompt.val():null)}}(i)),r.prompt&&!r.prompt_multi_line&&i.promptTrigger&&this.prompt.keypress(function(e){return function(t){13==t.keyCode&&e.click()}}(o)),n.styles.text&&o.wrapInner('<span class="'+n.styles.text+'"></span>'),n.styles.btnhover&&o.hover(function(e){return function(){e.addClass(n.styles.btnhover)}}(o),function(e){return function(){e.removeClass(n.styles.btnhover)}}(o)),n.styles.btnactive&&o.on("mousedown",function(e){return function(){e.addClass(n.styles.btnactive)}}(o)).on("mouseup",function(e){return function(){e.removeClass(n.styles.btnactive)}}(o)),n.styles.btnfocus&&o.on("focus",function(e){return function(){e.addClass(n.styles.btnfocus)}}(o)).on("blur",function(e){return function(){e.removeClass(n.styles.btnfocus)}}(o)))}},e.extend(t.styling.bootstrap3,{btn:"btn btn-default",input:"form-control"}),e.extend(t.styling.fontawesome,{btn:"btn btn-default",input:"form-control"}),t}),function(e){void 0===e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),r=-1,i=this.length;++r<i&&(n.context=n[0]=this[r])&&!1!==t.call(n[0],r,n););return this}})}(jQuery),function(e,t){if(window.Select2===t){var n,r,i,o,a,s,l,c,u={x:0,y:0},d={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case d.LEFT:case d.RIGHT:case d.UP:case d.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case d.SHIFT:case d.CTRL:case d.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123}},f="<div class='select2-measure-scrollbar'></div>",p={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};s=e(document),c=1,o=function(){return c++},r=R(n=R(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,i,a,s,c,d=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+o()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e(document.body),$(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(A(n.containerCss,this.opts.element)),this.container.addClass(A(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",C),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),$(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(A(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",C),this.results=r=this.container.find(d),this.search=i=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",C),this.results.on("mousemove",function(n){var r=u;r!==t&&r.x===n.pageX&&r.y===n.pageY||e(n.target).trigger("mousemove-filtered",n)}),this.dropdown.on("mousemove-filtered",d,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",d,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",d,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",d,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),a=80,s=this.results,c=x(a,function(e){s.trigger("scroll-debounced",e)}),s.on("scroll",function(e){g(e.target,s.get())>=0&&c(e)}),this.dropdown.on("scroll-debounced",d,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var o=r.scrollTop();i>0&&o-i<=0?(r.scrollTop(0),C(e)):i<0&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),C(e))}),w(i),i.on("keyup-change input paste",this.bind(this.updateResults)),i.on("focus",function(){i.addClass("select2-focused")}),i.on("blur",function(){i.removeClass("select2-focused")}),this.dropdown.on("mouseup",d,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var p=n.element.prop("disabled");p===t&&(p=!1),this.enable(!p);var h=n.element.prop("readonly");h===t&&(h=!1),this.readonly(h),l=l||function(){var t=e(f);t.appendTo(document.body);var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2"),r=this;this.close(),e.length&&e[0].detachEvent&&r._sync&&e.each(function(){r._sync&&this.detachEvent("onpropertychange",r._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),N.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:v(e.attr("locked"),"locked")||v(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var r,i,a,s,l=this;if("select"===(r=n.element).get(0).tagName.toLowerCase()&&(this.select=i=n.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),"function"!=typeof(n=e.extend({},{populateResults:function(r,i,a){var s,c=this.opts.id,u=this.liveRegion;(s=function(r,i,d){var f,p,h,m,g,v,b,y,w,x,C=[];for(f=0,p=(r=n.sortResults(r,i,a)).length;f<p;f+=1)m=!(g=!0===(h=r[f]).disabled)&&c(h)!==t,v=h.children&&h.children.length>0,(b=e("<li></li>")).addClass("select2-results-dept-"+d),b.addClass("select2-result"),b.addClass(m?"select2-result-selectable":"select2-result-unselectable"),g&&b.addClass("select2-disabled"),v&&b.addClass("select2-result-with-children"),b.addClass(l.opts.formatResultCssClass(h)),b.attr("role","presentation"),(y=e(document.createElement("div"))).addClass("select2-result-label"),y.attr("id","select2-result-label-"+o()),y.attr("role","option"),(x=n.formatResult(h,y,a,l.opts.escapeMarkup))!==t&&(y.html(x),b.append(y)),v&&((w=e("<ul></ul>")).addClass("select2-result-sub"),s(h.children,w,d+1),b.append(w)),b.data("select2-data",h),C.push(b[0]);i.append(C),u.text(n.formatMatches(r.length))})(i,r,0)}},e.fn.select2.defaults,n)).id&&(a=n.id,n.id=function(e){return e[a]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(i?(n.query=this.bind(function(e){var n,i,o,a={results:[],more:!1},s=e.term;o=function(t,n){var r;t.is("option")?e.matcher(s,t.text(),t)&&n.push(l.optionToData(t)):t.is("optgroup")&&(r=l.optionToData(t),t.children().each2(function(e,t){o(t,r.children)}),r.children.length>0&&n.push(r))},n=r.children(),this.getPlaceholder()!==t&&n.length>0&&(i=this.getPlaceholderOption())&&(n=n.not(i)),n.each2(function(e,t){o(t,a.results)}),e.callback(a)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?((s=n.element.data("ajax-url"))&&s.length>0&&(n.ajax.url=s),n.query=T.call(n.element,n.ajax)):"data"in n?n.query=_(n.data):"tags"in n&&(n.query=E(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,r){var i=[];e(b(t.val(),n.separator,n.transformVal)).each(function(){var t={id:this,text:this},r=n.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){if(v(this.id,t.id))return t=this,!1}),i.push(t)}),r(i)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,r=this.opts.element,i=this;r.on("change.select2",this.bind(function(e){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var e=r.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=r.prop("readonly");n===t&&(n=!1),this.readonly(n),this.container&&($(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(A(this.opts.containerCssClass,this.opts.element))),this.dropdown&&($(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(A(this.opts.dropdownCssClass,this.opts.element)))}),r.length&&r[0].attachEvent&&r.each(function(){this.attachEvent("onpropertychange",i._sync)}),(n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){e.each(t,i._sync)}),this.propertyObserver.observe(r.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,r,i,o,a=this.dropdown,s=this.container,c=s.offset(),u=s.outerHeight(!1),d=s.outerWidth(!1),f=a.outerHeight(!1),p=e(window),h=p.width(),m=p.height(),g=p.scrollLeft()+h,v=p.scrollTop()+m,b=c.top+u,y=c.left,w=b+f<=v,x=c.top-f>=p.scrollTop(),C=a.outerWidth(!1);a.hasClass("select2-drop-above")?(n=!0,!x&&w&&(r=!0,n=!1)):(n=!1,!w&&x&&(r=!0,n=!0)),r&&(a.hide(),c=this.container.offset(),u=this.container.outerHeight(!1),d=this.container.outerWidth(!1),f=a.outerHeight(!1),g=p.scrollLeft()+h,v=p.scrollTop()+m,b=c.top+u,y=c.left,C=a.outerWidth(!1),a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),(C=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:l.width))>d?d=C:C=d,f=a.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(b-=(t=this.body.offset()).top,y-=t.left),!(y+C<=g)&&c.left+g+s.outerWidth(!1)>C&&(y=c.left+this.container.outerWidth(!1)-C),i={left:y,width:d},n?(i.top=c.top-f,i.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(i.top=b,i.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),i=e.extend(i,A(this.opts.dropdownCss,this.opts.element)),a.css(i)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),s.on("mousemove.select2Event",function(e){u.x=e.pageX,u.y=e.pageY}),!0)},opening:function(){var t,n=this.containerEventName,r="scroll."+n,i="resize."+n,o="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0===(t=e("#select2-drop-mask")).length&&((t=e(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(n){h(t);var r,i=e("#select2-drop");i.length>0&&((r=i.data("select2")).opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(i+" "+r+" "+o,function(e){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,r="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(r).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),s.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return A(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,n,r,i,o,a,s,l,c=this.results;(n=this.highlight())<0||(0!=n?(t=this.findHighlightableChoices().find(".select2-result-label"),i=(l=((r=e(t[n])).offset()||{}).top||0)+r.outerHeight(!0),n===t.length-1&&(s=c.find("li.select2-more-results")).length>0&&(i=s.offset().top+s.outerHeight(!0)),i>(o=c.offset().top+c.outerHeight(!1))&&c.scrollTop(c.scrollTop()+(i-o)),(a=l-c.offset().top)<0&&"none"!=r.css("display")&&c.scrollTop(c.scrollTop()+a)):c.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),r=this.highlight();r>-1&&r<n.length;){var i=e(n[r+=t]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(t){var n,r,i=this.findHighlightableChoices();if(0===arguments.length)return g(i.filter(".select2-highlighted")[0],i.get());t>=i.length&&(t=i.length-1),t<0&&(t=0),this.removeHighlight(),(n=e(i[t])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),(r=n.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n=this.resultsPage+1,r=this,i=this.search.val(),o=this.context;0!==t.length&&t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:i,page:n,context:o,matcher:this.opts.matcher,callback:this.bind(function(a){r.opened()&&(r.opts.populateResults.call(this,e,a.results,{term:i,page:n,context:o}),r.postprocessResults(a,!1,!1),!0===a.more?(t.detach().appendTo(e).html(r.opts.escapeMarkup(A(r.opts.formatLoadMore,r.opts.element,n+1))),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):t.remove(),r.positionDropdown(),r.resultsPage=n,r.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))})}))},tokenize:function(){},updateResults:function(n){var r,i,o,a=this.search,s=this.results,l=this.opts,c=this,u=a.val(),d=e.data(this.container,"select2-last-term");if((!0===n||!d||!v(u,d))&&(e.data(this.container,"select2-last-term",u),!0===n||!1!==this.showSearchInput&&this.opened())){o=++this.queryCount;var f=this.getMaximumSelectionSize();if(!(f>=1&&(r=this.data(),e.isArray(r)&&r.length>=f&&D(l.formatSelectionTooBig,"formatSelectionTooBig"))))return a.val().length<l.minimumInputLength?(D(l.formatInputTooShort,"formatInputTooShort")?h("<li class='select2-no-results'>"+A(l.formatInputTooShort,l.element,a.val(),l.minimumInputLength)+"</li>"):h(""),void(n&&this.showSearch&&this.showSearch(!0))):void(l.maximumInputLength&&a.val().length>l.maximumInputLength?D(l.formatInputTooLong,"formatInputTooLong")?h("<li class='select2-no-results'>"+A(l.formatInputTooLong,l.element,a.val(),l.maximumInputLength)+"</li>"):h(""):(l.formatSearching&&0===this.findHighlightableChoices().length&&h("<li class='select2-searching'>"+A(l.formatSearching,l.element)+"</li>"),a.addClass("select2-active"),this.removeHighlight(),(i=this.tokenize())!=t&&null!=i&&a.val(i),this.resultsPage=1,l.query({element:l.element,term:a.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(r){var i;o==this.queryCount&&(this.opened()?r.hasError!==t&&D(l.formatAjaxError,"formatAjaxError")?h("<li class='select2-ajax-error'>"+A(l.formatAjaxError,l.element,r.jqXHR,r.textStatus,r.errorThrown)+"</li>"):(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&""!==a.val()&&(i=this.opts.createSearchChoice.call(c,a.val(),r.results))!==t&&null!==i&&c.id(i)!==t&&null!==c.id(i)&&0===e(r.results).filter(function(){return v(c.id(this),c.id(i))}).length&&this.opts.createSearchChoicePosition(r.results,i),0===r.results.length&&D(l.formatNoMatches,"formatNoMatches")?h("<li class='select2-no-results'>"+A(l.formatNoMatches,l.element,a.val())+"</li>"):(s.empty(),c.opts.populateResults.call(this,s,r.results,{term:a.val(),page:this.resultsPage,context:null}),!0===r.more&&D(l.formatLoadMore,"formatLoadMore")&&(s.append("<li class='select2-more-results'>"+l.escapeMarkup(A(l.formatLoadMore,l.element,this.resultsPage))+"</li>"),window.setTimeout(function(){c.loadMoreIfNeeded()},10)),this.postprocessResults(r,n),p(),this.opts.element.trigger({type:"select2-loaded",items:r}))):this.search.removeClass("select2-active"))})})));h("<li class='select2-selection-limit'>"+A(l.formatSelectionTooBig,l.element,f)+"</li>")}function p(){a.removeClass("select2-active"),c.positionDropdown(),s.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?c.liveRegion.text(s.text()):c.liveRegion.text(c.opts.formatMatches(s.find('.select2-result-selectable:not(".select2-selected")').length))}function h(e){s.html(e),p()}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var e;(e=this.search)[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],r=e.val().length;e.focus(),(n.offsetWidth>0||n.offsetHeight>0)&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(r,r):n.createTextRange&&((t=n.createTextRange()).collapse(!1),t.select()))},0)},selectHighlighted:function(e){if(this._touchMoved)this.clearTouchMoved();else{var t=this.highlight(),n=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()}},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){var n=function(){var n,r,i,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((n=this.opts.element.attr("style"))!==t)for(o=0,a=(r=n.split(";")).length;o<a;o+=1)if(null!==(i=r[o].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&i.length>=1)return i[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width")).indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==n&&this.container.css("width",n)}}),{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,r,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(n=this.search.get(0)).createTextRange?((r=n.createTextRange()).collapse(!1),r.select()):n.setSelectionRange&&(i=this.search.val().length,n.setSelectionRange(i,i))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),N.call(this,"selection","focusser")},initContainer:function(){var t,n,r=this.container,i=this.dropdown,a=o();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),n=e("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode)if(e.which!==d.PAGE_UP&&e.which!==d.PAGE_DOWN)switch(e.which){case d.UP:case d.DOWN:return this.moveHighlight(e.which===d.UP?-1:1),void C(e);case d.ENTER:return this.selectHighlighted(),void C(e);case d.TAB:return void this.selectHighlighted({noFocus:!0});case d.ESC:return this.cancel(e),void C(e)}else C(e)})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==d.TAB&&!d.isControl(e)&&!d.isFunctionKey(e)&&e.which!==d.ESC){if(!1!==this.opts.openOnEnter||e.which!==d.ENTER){if(e.which==d.DOWN||e.which==d.UP||e.which==d.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void C(e)}return e.which==d.DELETE||e.which==d.BACKSPACE?(this.opts.allowClear&&this.clear(),void C(e)):void 0}C(e)}})),w(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){var t;this.isInterfaceEnabled()&&(this.clear(),(t=e).preventDefault(),t.stopImmediatePropagation(),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(n){h(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),C(n)})),i.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){C(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var r=e.Event("select2-clearing");if(this.opts.element.trigger(r),r.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(n,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=n.val(),o=null;t.query({matcher:function(e,n,r){var a=v(i,t.id(r));return a&&(o=r),a},callback:e.isFunction(r)?function(){r(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,n,r){var i=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){if(v(o.id(t.data("select2-data")),o.opts.element.val()))return i=e,!1}),!1!==r&&(!0===n&&i>=0?this.highlight(i):this.highlight(0)),!0===n){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(function t(n){var r=0;return e.each(n,function(e,n){n.children?r+=t(n.children):r++}),r}(t.results)>=a)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),v(n,this.id(e))||this.triggerChange({added:e,removed:r})}},updateSelection:function(e){var n,r,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),i.empty(),null!==e&&(n=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),n!==t&&i.append(n),(r=this.opts.formatSelectionCssClass(e,i))!==t&&i.addClass(r),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,r=null,i=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return r=i.optionToData(t),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:o});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),n&&i.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,r=!1;if(0===arguments.length)return(n=this.selection.data("select2-data"))==t&&(n=null),n;arguments.length>1&&(r=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),r&&this.triggerChange({added:e,removed:n})):this.clear(r)}}),i=R(n,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){r.push(n.optionToData(t))}),t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=b(n.val(),t.separator,t.transformVal),o=[];t.query({matcher:function(n,r,a){var s=e.grep(i,function(e){return v(e,t.id(a))}).length;return s&&o.push(a),s},callback:e.isFunction(r)?function(){for(var e=[],n=0;n<i.length;n++)for(var a=i[n],s=0;s<o.length;s++){var l=o[s];if(v(a,t.id(l))){e.push(l),o.splice(s,1);break}}r(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),N.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var r=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(t){r.search[0].focus(),r.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+o()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()){++this.keydowns;var r=t.find(".select2-search-choice-focus"),i=r.prev(".select2-search-choice:not(.select2-locked)"),o=r.next(".select2-search-choice:not(.select2-locked)"),a=function(t){var n=0,r=0;if("selectionStart"in(t=e(t)[0]))n=t.selectionStart,r=t.selectionEnd-n;else if("selection"in document){t.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),n=i.text.length-r}return{offset:n,length:r}}(this.search);if(r.length&&(n.which==d.LEFT||n.which==d.RIGHT||n.which==d.BACKSPACE||n.which==d.DELETE||n.which==d.ENTER)){var s=r;return n.which==d.LEFT&&i.length?s=i:n.which==d.RIGHT?s=o.length?o:null:n.which===d.BACKSPACE?this.unselect(r.first())&&(this.search.width(10),s=i.length?i:o):n.which==d.DELETE?this.unselect(r.first())&&(this.search.width(10),s=o.length?o:null):n.which==d.ENTER&&(s=null),this.selectChoice(s),C(n),void(s&&s.length||this.open())}if((n.which===d.BACKSPACE&&1==this.keydowns||n.which==d.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void C(n);if(this.selectChoice(null),this.opened())switch(n.which){case d.UP:case d.DOWN:return this.moveHighlight(n.which===d.UP?-1:1),void C(n);case d.ENTER:return this.selectHighlighted(),void C(n);case d.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case d.ESC:return this.cancel(n),void C(n)}if(n.which!==d.TAB&&!d.isControl(n)&&!d.isFunctionKey(n)&&n.which!==d.BACKSPACE&&n.which!==d.ESC){if(n.which===d.ENTER){if(!1===this.opts.openOnEnter)return;if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return}this.open(),n.which!==d.PAGE_UP&&n.which!==d.PAGE_DOWN||C(n),n.which===d.ENTER&&C(n)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],r=[],i=this;e(t).each(function(){g(i.id(this),n)<0&&(n.push(i.id(this)),r.push(this))}),t=r,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r,i,o=!n.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?a:s,c=this.id(n),u=this.getVal();(r=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup))!=t&&l.find("div").replaceWith(e("<div></div>").html(r)),(i=this.opts.formatSelectionCssClass(n,l.find("div")))!=t&&l.addClass(i),o&&l.find(".select2-search-choice-close").on("mousedown",C).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),C(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var n,r,i=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var o=e.Event("select2-removing");if(o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(r=g(this.id(n),i))>=0;)i.splice(r,1),this.setVal(i),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var r=this.getVal(),i=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),a=this;i.each2(function(e,t){g(a.id(t.data("select2-data")),r)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&!1!==n&&!0===this.opts.closeOnSelect&&a.highlight(0),!this.opts.createSearchChoice&&!i.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&D(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+A(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-y(this.search)},resizeSearch:function(){var t,n,r,i,o=y(this.search);t=function(t){if(!a){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);(a=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),e(document.body).append(a)}return a.text(t.val()),a.width()}(this.search)+10,n=this.search.offset().left,(i=(r=this.selection.width())-(n-this.selection.offset().left)-o)<t&&(i=r-o),i<40&&(i=r-o),i<=0&&(i=t),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:b(e=this.opts.element.val(),this.opts.separator,this.opts.transformVal)},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){g(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var n=0;n<t.length;n++)for(var r=0;r<e.length;r++)v(this.opts.id(t[n]),this.opts.id(e[r]))&&(t.splice(n,1),n>0&&n--,e.splice(r,1),r--);return{added:t,removed:e}},val:function(n,r){var i,o=this;if(0===arguments.length)return this.getVal();if((i=this.data()).length||(i=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(r&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),r&&o.triggerChange(o.buildChangeDetails(i,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var r,i,o=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();i=this.data(),t||(t=[]),r=e.map(t,function(e){return o.opts.id(e)}),this.setVal(r),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(i,this.data()))}}),e.fn.select2=function(){var n,r,i,o,a,s=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===s.length||"object"==typeof s[0])(n=0===s.length?{}:e.extend({},s[0])).element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),(r=a?new window.Select2.class.multi:new window.Select2.class.single).init(n);else{if("string"!=typeof s[0])throw"Invalid arguments to select2 plugin: "+s;if(g(s[0],l)<0)throw"Unknown method: "+s[0];if(o=t,(r=e(this).data("select2"))===t)return;if("container"===(i=s[0])?o=r.container:"dropdown"===i?o=r.dropdown:(d[i]&&(i=d[i]),o=r[i].apply(r,s.slice(1))),g(s[0],c)>=0||g(s[0],u)>=0&&1==s.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,r){var i=[];return S(this.text(e),n.term,i,r),i.join("")},transformVal:function(t){return e.trim(t)},formatSelection:function(e,n,r){return e?r(this.text(e)):t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,n){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},text:function(t){return t&&this.data&&this.data.text?e.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(e,t){return m(""+t).toUpperCase().indexOf(m(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(e,n,r,i){var o,a,s,l,c,u=e,d=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){for(a=-1,s=0,l=i.tokenSeparators.length;s<l&&(c=i.tokenSeparators[s],!((a=e.indexOf(c))>=0));s++);if(a<0)break;if(o=e.substring(0,a),e=e.substring(a+c.length),o.length>0&&(o=i.createSearchChoice.call(this,o,n))!==t&&null!==o&&i.id(o)!==t&&null!==i.id(o)){for(d=!1,s=0,l=n.length;s<l;s++)if(v(i.id(o),i.id(n[s]))){d=!0;break}d||r(o)}}return u!==e?e:void 0},escapeMarkup:k,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,n){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!("ontouchstart"in window||navigator.msMaxTouchPoints>0)||!(e.opts.minimumResultsForSearch<0)}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No se encontraron resultados"},formatAjaxError:function(e,t,n){return"Loading failed"},formatInputTooShort:function(e,t){var n=t-e.length;return"Por favor, introduzca "+n+" car"+(1==n?"cter":"acteres")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Cargando mas resultados"},formatSearching:function(){return"Buscando..."}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:T,local:_,tags:E},util:{debounce:x,markMatch:S,escapeMarkup:k,stripDiacritics:m},class:{abstract:n,single:r,multi:i}}}function h(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function m(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return p[e]||e})}function g(e,t){for(var n=0,r=t.length;n<r;n+=1)if(v(e,t[n]))return n;return-1}function v(e,n){return e===n||e!==t&&n!==t&&(null!==e&&null!==n&&(e.constructor===String?e+""==n+"":n.constructor===String&&n+""==e+""))}function b(e,t,n){var r,i,o;if(null===e||e.length<1)return[];for(i=0,o=(r=e.split(t)).length;i<o;i+=1)r[i]=n(r[i]);return r}function y(e){return e.outerWidth(!1)-e.width()}function w(n){var r="keyup-change-value";n.on("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.on("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function x(e,n,r){var i;return r=r||t,function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function C(e){e.preventDefault(),e.stopPropagation()}function $(t,n,r){var i,o,a=[];(i=e.trim(t.attr("class")))&&e((i=""+i).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)}),(i=e.trim(n.attr("class")))&&e((i=""+i).split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=r(this))&&a.push(o)}),t.attr("class",a.join(" "))}function S(e,t,n,r){var i=m(e.toUpperCase()).indexOf(m(t.toUpperCase())),o=t.length;i<0?n.push(r(e)):(n.push(r(e.substring(0,i))),n.push("<span class='select2-match'>"),n.push(r(e.substring(i,i+o))),n.push("</span>"),n.push(r(e.substring(i+o,e.length))))}function k(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function T(n){var r,i=null,o=n.quietMillis||100,a=n.url,s=this;return function(l){window.clearTimeout(r),r=window.setTimeout(function(){var r=n.data,o=a,c=n.transport||e.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,u);r=r?r.call(s,l.term,l.page,l.context):null,o="function"==typeof o?o.call(s,l.term,l.page,l.context):o,i&&"function"==typeof i.abort&&i.abort(),n.params&&(e.isFunction(n.params)?e.extend(d,n.params.call(s)):e.extend(d,n.params)),e.extend(d,{url:o,dataType:n.dataType,data:r,success:function(e){var t=n.results(e,l.page,l);l.callback(t)},error:function(e,t,n){var r={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};l.callback(r)}}),i=c.call(s,d)},o)}}function _(t){var n,r,i=t,o=function(e){return""+e.text};e.isArray(i)&&(i={results:r=i}),!1===e.isFunction(i)&&(r=i,i=function(){return r});var a=i();return a.text&&(o=a.text,e.isFunction(o)||(n=a.text,o=function(e){return e[n]})),function(t){var n,r=t.term,a={results:[]};""!==r?(n=function(i,a){var s,l;if((i=i[0]).children){for(l in s={},i)i.hasOwnProperty(l)&&(s[l]=i[l]);s.children=[],e(i.children).each2(function(e,t){n(t,s.children)}),(s.children.length||t.matcher(r,o(s),i))&&a.push(s)}else t.matcher(r,o(i),i)&&a.push(i)},e(i().results).each2(function(e,t){n(t,a.results)}),t.callback(a)):t.callback(i())}}function E(n){var r=e.isFunction(n);return function(i){var o=i.term,a={results:[]},s=r?n(i):n;e.isArray(s)&&(e(s).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||i.matcher(o,n))&&a.results.push(e?this:{id:this,text:this})}),i.callback(a))}}function D(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function A(t,n){if(e.isFunction(t)){var r=Array.prototype.slice.call(arguments,2);return t.apply(n,r)}return t}function N(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function R(t,n){var r=function(){};return(r.prototype=new t).constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";var t,n;e.fn.fileinputLocales={},e.fn.fileinputThemes={},t={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",STYLE_SETTING:'style="width:{width};height:{height};"',OBJECT_PARAMS:'<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],objUrl:window.URL||window.webkitURL,compare:function(e,t,n){return void 0!==e&&(n?e===t:e.match(t))},isIE:function(e){if("Microsoft Internet Explorer"!==navigator.appName)return!1;if(10===e)return new RegExp("msie\\s"+e,"i").test(navigator.userAgent);var t,n=document.createElement("div");return n.innerHTML="\x3c!--[if IE "+e+"]> <i></i> <![endif]--\x3e",t=n.getElementsByTagName("i").length,document.body.appendChild(n),n.parentNode.removeChild(n),t},initModal:function(t){var n=e("body");n.length&&t.appendTo(n)},isEmpty:function(t,n){return void 0===t||null===t||0===t.length||n&&""===e.trim(t)},isArray:function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},ifSet:function(e,t,n){return n=n||"",t&&"object"==typeof t&&e in t?t[e]:n},cleanArray:function(e){return e instanceof Array||(e=[]),e.filter(function(e){return void 0!==e&&null!==e})},spliceArray:function(e,t){var n,r=0,i=[];if(!(e instanceof Array))return[];for(n=0;n<e.length;n++)n!==t&&(i[r]=e[n],r++);return i},getNum:function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},hasFileAPISupport:function(){return!(!window.File||!window.FileReader)},hasDragDropSupport:function(){var e=document.createElement("div");return!t.isIE(9)&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},hasFileUploadSupport:function(){return t.hasFileAPISupport()&&window.FormData},addCss:function(e,t){e.removeClass(t).addClass(t)},getElement:function(n,r,i){return t.isEmpty(n)||t.isEmpty(n[r])?i:e(n[r])},uniqId:function(){return Math.round((new Date).getTime()+100*Math.random())},htmlEncode:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(t,n){var r=t;return n?(e.each(n,function(e,t){"function"==typeof t&&(t=t()),r=r.split(e).join(t)}),r):r},cleanMemory:function(e){var n=e.is("img")?e.attr("src"):e.find("source").attr("src");t.objUrl.revokeObjectURL(n)},findFileName:function(e){var t=e.lastIndexOf("/");return-1===t&&(t=e.lastIndexOf("\\")),e.split(e.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(e){var n=document,r=n.documentElement;r&&e&&!t.checkFullScreen()?r.requestFullscreen?r.requestFullscreen():r.msRequestFullscreen?r.msRequestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen&&r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()},moveArray:function(e,t,n){if(n>=e.length)for(var r=n-e.length;1+r--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e},cleanZoomCache:function(e){var t=e.closest(".kv-zoom-cache-theme");t.length||(t=e.closest(".kv-zoom-cache")),t.remove()}},(n=function(n,r){var i=this;i.$element=e(n),i._validate()&&(i.isPreviewable=t.hasFileAPISupport(),i.isIE9=t.isIE(9),i.isIE10=t.isIE(10),i.isPreviewable||i.isIE9?(i._init(r),i._listen()):i.$element.removeClass("file-loading"))}).prototype={constructor:n,_init:function(n){var r,i,o=this,a=o.$element;o.options=n,e.each(n,function(e,n){switch(e){case"minFileCount":case"maxFileCount":case"maxFileSize":o[e]=t.getNum(n);break;default:o[e]=n}}),o.$form=a.closest("form"),o._initTemplateDefaults(),o.fileInputCleared=!1,o.fileBatchCompleted=!0,o.isPreviewable||(o.showPreview=!1),o.uploadFileAttr=t.isEmpty(a.attr("name"))?"file_data":a.attr("name"),o.reader=null,o.formdata={},o.clearStack(),o.uploadCount=0,o.uploadStatus={},o.uploadLog=[],o.uploadAsyncCount=0,o.loadedImages=[],o.totalImagesCount=0,o.ajaxRequests=[],o.isError=!1,o.ajaxAborted=!1,o.cancelling=!1,i=o._getLayoutTemplate("progress"),o.progressTemplate=i.replace("{class}",o.progressClass),o.progressCompleteTemplate=i.replace("{class}",o.progressCompleteClass),o.progressErrorTemplate=i.replace("{class}",o.progressErrorClass),o.dropZoneEnabled=t.hasDragDropSupport()&&o.dropZoneEnabled,o.isDisabled=a.attr("disabled")||a.attr("readonly"),o.isUploadable=t.hasFileUploadSupport()&&!t.isEmpty(o.uploadUrl),o.isClickable=o.browseOnZoneClick&&o.showPreview&&(o.isUploadable&&o.dropZoneEnabled||!t.isEmpty(o.defaultPreviewContent)),o.slug="function"==typeof n.slugCallback?n.slugCallback:o._slugDefault,o.mainTemplate=o.showCaption?o._getLayoutTemplate("main1"):o._getLayoutTemplate("main2"),o.captionTemplate=o._getLayoutTemplate("caption"),o.previewGenericTemplate=o._getPreviewTemplate("generic"),o.resizeImage&&(o.maxImageWidth||o.maxImageHeight)&&(o.imageCanvas=document.createElement("canvas"),o.imageCanvasContext=o.imageCanvas.getContext("2d")),t.isEmpty(a.attr("id"))&&a.attr("id",t.uniqId()),o.namespace=".fileinput_"+a.attr("id").replace(/-/g,"_"),void 0===o.$container?o.$container=o._createContainer():o._refreshContainer(),r=o.$container,o.$dropZone=r.find(".file-drop-zone"),o.$progress=r.find(".kv-upload-progress"),o.$btnUpload=r.find(".fileinput-upload"),o.$captionContainer=t.getElement(n,"elCaptionContainer",r.find(".file-caption")),o.$caption=t.getElement(n,"elCaptionText",r.find(".file-caption-name")),o.$previewContainer=t.getElement(n,"elPreviewContainer",r.find(".file-preview")),o.$preview=t.getElement(n,"elPreviewImage",r.find(".file-preview-thumbnails")),o.$previewStatus=t.getElement(n,"elPreviewStatus",r.find(".file-preview-status")),o.$errorContainer=t.getElement(n,"elErrorContainer",o.$previewContainer.find(".kv-fileinput-error")),t.isEmpty(o.msgErrorClass)||t.addCss(o.$errorContainer,o.msgErrorClass),o.$errorContainer.hide(),o.previewInitId="preview-"+t.uniqId(),o._initPreviewCache(),o._initPreview(!0),o._initPreviewActions(),o._setFileDropZoneTitle(),a.removeClass("file-loading"),a.attr("disabled")&&o.disable(),o._initZoom()},_initTemplateDefaults:function(){var n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b,y,w,x,C,$,S,k,T,_,E,D,A,N,R,O,P,I,M=this;n='{preview}\n<div class="kv-upload-progress hide"></div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   </div>\n</div>',r='{preview}\n<div class="kv-upload-progress hide"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',i='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',a='<div class="close fileinput-remove">&times;</div>\n',o='<i class="glyphicon glyphicon-file kv-caption-icon"></i>',s='<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"></div>\n</div>\n',l='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>',c='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>',u='<div tabindex="500" class="{css}" {status}>{icon} {label}</div>',d='<div id="'+t.MODAL_ID+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+t.MODAL_ID+'Label"></div>',f='<div class="modal-dialog modal-lg" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <div class="kv-zoom-actions pull-right">{toggleheader}{fullscreen}{borderless}{close}</div>\n      <h3 class="modal-title">{heading} <small><span class="kv-zoom-title"></span></small></h3>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n',p='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {status}\n     </div>\n</div>',h=" <samp>({sizeText})</samp>",m='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}<br>{size}</div>\n    {progress} {actions}\n</div>',g='<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>\n{drag}\n<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload} {delete} {zoom} {other}    </div>\n    <div class="clearfix"></div>\n</div>',v='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',b='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>',y='<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>',w='<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>',C=(x='<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"')+'><div class="kv-file-content">\n',$=x+' title="{caption}"><div class="kv-file-content">\n',S="</div>{footer}\n</div>\n",k="{content}\n",T='<div class="kv-preview-data file-preview-html" title="{caption}" '+t.STYLE_SETTING+">{data}</div>\n",_='<img src="{data}" class="file-preview-image kv-preview-data" title="{caption}" alt="{caption}" '+t.STYLE_SETTING+">\n",E='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly '+t.STYLE_SETTING+">{data}</textarea>\n",D='<video class="kv-preview-data file-preview-video" width="{width}" height="{height}" controls>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</video>\n",A='<div class="file-preview-audio"><audio class="kv-preview-data" controls>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</audio></div>\n",N='<object class="kv-preview-data file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n</object>\n",R='<object class="kv-preview-data file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n<param name="movie" value="{caption}" />\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n</object>\n",O='<embed class="kv-preview-data" src="{data}" width="{width}" height="{height}" type="application/pdf">\n',P='<div class="kv-preview-data file-preview-other-frame">\n'+t.DEFAULT_PREVIEW+"\n</div>\n",I='<div class="kv-zoom-cache" style="display:none">{zoomContent}</div>',M.defaults={layoutTemplates:{main1:n,main2:r,preview:i,close:a,fileIcon:o,caption:s,modalMain:d,modal:f,progress:p,size:h,footer:m,actions:g,actionDelete:v,actionUpload:b,actionZoom:y,actionDrag:w,btnDefault:l,btnLink:c,btnBrowse:u,zoomCache:I},previewMarkupTags:{tagBefore1:C,tagBefore2:$,tagAfter:S},previewContentTemplates:{generic:k,html:T,image:_,text:E,video:D,audio:A,flash:N,object:R,pdf:O,other:P},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"auto"},pdf:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"100%","min-height":"480px"},text:{width:"100%",height:"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","min-height":"480px"},pdf:{width:"100%",height:"100%","min-height":"480px"},other:{width:"auto",height:"100%","min-height":"480px"}},fileTypeSettings:{image:function(e,n){return t.compare(e,"image.*")||t.compare(n,/\.(gif|png|jpe?g)$/i)},html:function(e,n){return t.compare(e,"text/html")||t.compare(n,/\.(htm|html)$/i)},text:function(e,n){return t.compare(e,"text.*")||t.compare(n,/\.(xml|javascript)$/i)||t.compare(n,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,n){return t.compare(e,"video.*")&&(t.compare(e,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||t.compare(n,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(e,n){return t.compare(e,"audio.*")&&(t.compare(n,/(ogg|mp3|mp?g|wav)$/i)||t.compare(n,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,n){return t.compare(e,"application/x-shockwave-flash",!0)||t.compare(n,/\.(swf)$/i)},pdf:function(e,n){return t.compare(e,"application/pdf",!0)||t.compare(n,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},fileActionSettings:{showRemove:!0,showUpload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="glyphicon glyphicon-trash text-danger"></i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"></i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-xs btn-default",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-menu-hamburger"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."}},e.each(M.defaults,function(t,n){"allowedPreviewTypes"!==t?M[t]=e.extend(!0,{},n,M[t]):void 0===M.allowedPreviewTypes&&(M.allowedPreviewTypes=n)}),M._initPreviewTemplates()},_initPreviewTemplates:function(){var n,r=this,i=r.defaults,o=r.previewMarkupTags,a=o.tagAfter;e.each(i.previewContentTemplates,function(e,i){t.isEmpty(r.previewTemplates[e])&&(n=o.tagBefore2,"generic"!==e&&"image"!==e&&"html"!==e&&"text"!==e||(n=o.tagBefore1),r.previewTemplates[e]=n+i+a)})},_initPreviewCache:function(){var n=this;n.previewCache={data:{},init:function(){var e=n.initialPreview;e.length>0&&!t.isArray(e)&&(e=e.split(n.initialPreviewDelimiter)),n.previewCache.data={content:e,config:n.initialPreviewConfig,tags:n.initialPreviewThumbTags}},fetch:function(){return n.previewCache.data.content.filter(function(e){return null!==e})},count:function(e){return n.previewCache.data&&n.previewCache.data.content?e?n.previewCache.data.content.length:n.previewCache.fetch().length:0},get:function(r,i){var o,a,s,l,c,u,d,f="init_"+r,p=n.previewCache.data,h=p.config[r],m=p.content[r],g=n.previewInitId+"-"+f,v=t.ifSet("previewAsData",h,n.initialPreviewAsData),b=function(e,r,i,o,a,s,l,c,u){return c=" file-preview-initial "+t.SORT_CSS+(c?" "+c:""),n._generatePreviewTemplate(e,r,i,o,a,!1,null,c,s,l,u)};return m?(i=void 0===i||i,s=t.ifSet("type",h,n.initialPreviewFileType||"generic"),c=t.ifSet("filename",h,t.ifSet("caption",h)),u=t.ifSet("filetype",h,s),l=n.previewCache.footer(r,i,h&&h.size||null),d=t.ifSet("frameClass",h),o=v?b(s,m,c,u,g,l,f,d):b("generic",m,c,u,g,l,f,d,s).replace(/\{content}/g,p.content[r]),p.tags.length&&p.tags[r]&&(o=t.replaceTags(o,p.tags[r])),t.isEmpty(h)||t.isEmpty(h.frameAttr)||((a=e(document.createElement("div")).html(o)).find(".file-preview-initial").attr(h.frameAttr),o=a.html(),a.remove()),o):""},add:function(e,r,i,o){var a,s=n.previewCache.data;return t.isArray(e)||(e=e.split(n.initialPreviewDelimiter)),o?(a=s.content.push(e)-1,s.config[a]=r,s.tags[a]=i):(a=e.length-1,s.content=e,s.config=r,s.tags=i),n.previewCache.data=s,a},set:function(e,r,i,o){var a,s=n.previewCache.data;if(e&&e.length&&(t.isArray(e)||(e=e.split(n.initialPreviewDelimiter)),e.filter(function(e){return null!==e}).length)){if(void 0===s.content&&(s.content=[]),void 0===s.config&&(s.config=[]),void 0===s.tags&&(s.tags=[]),o){for(a=0;a<e.length;a++)e[a]&&s.content.push(e[a]);for(a=0;a<r.length;a++)r[a]&&s.config.push(r[a]);for(a=0;a<i.length;a++)i[a]&&s.tags.push(i[a])}else s.content=e,s.config=r,s.tags=i;n.previewCache.data=s}},unset:function(e){var t=n.previewCache.count();if(t){if(1===t)return n.previewCache.data.content=[],n.previewCache.data.config=[],n.previewCache.data.tags=[],n.initialPreview=[],n.initialPreviewConfig=[],void(n.initialPreviewThumbTags=[]);n.previewCache.data.content[e]=null,n.previewCache.data.config[e]=null,n.previewCache.data.tags[e]=null}},out:function(){var e,t="",r=n.previewCache.count(!0);if(0===r)return{content:"",caption:""};for(e=0;e<r;e++)t+=n.previewCache.get(e);return{content:t,caption:n._getMsgSelected(n.previewCache.count())}},footer:function(e,r,i){var o=n.previewCache.data;if(!o||!o.config||0===o.config.length||t.isEmpty(o.config[e]))return"";r=void 0===r||r;var a=o.config[e],s=t.ifSet("caption",a),l="",c=t.ifSet("width",a,"auto"),u=t.ifSet("url",a,!1),d=t.ifSet("key",a,null),f=n.fileActionSettings,p=t.ifSet("showDelete",a,!0),h=t.ifSet("showZoom",a,f.showZoom),m=t.ifSet("showDrag",a,f.showDrag),g=!1===u&&r;return n.initialPreviewShowDelete&&(l=n._renderFileActions(!1,p,h,m,g,u,d,!0)),n._getLayoutTemplate("footer").replace(/\{progress}/g,n._renderThumbProgress()).replace(/\{actions}/g,l).replace(/\{caption}/g,s).replace(/\{size}/g,n._getSize(i)).replace(/\{width}/g,c).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}},n.previewCache.init()},_handler:function(e,t,n){var r=this.namespace,i=t.split(" ").join(r+" ")+r;e&&e.length&&e.off(i).on(i,n)},_log:function(e){var t=this.$element.attr("id");t&&(e='"'+t+'": '+e),void 0!==window.console.log?window.console.log(e):window.alert(e)},_validate:function(){var e="file"===this.$element.attr("type");return e||this._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.'),e},_errorsExist:function(){var t;return!!this.$errorContainer.find("li").length||((t=e(document.createElement("div")).html(this.$errorContainer.html())).find("span.kv-error-close").remove(),t.find("ul").remove(),!!e.trim(t.text()).length)},_errorHandler:function(e,t){var n=this,r=e.target.error;r.code===r.NOT_FOUND_ERR?n._showError(n.msgFileNotFound.replace("{name}",t)):r.code===r.SECURITY_ERR?n._showError(n.msgFileSecured.replace("{name}",t)):r.code===r.NOT_READABLE_ERR?n._showError(n.msgFileNotReadable.replace("{name}",t)):r.code===r.ABORT_ERR?n._showError(n.msgFilePreviewAborted.replace("{name}",t)):n._showError(n.msgFilePreviewError.replace("{name}",t))},_addError:function(e){var t=this.$errorContainer;e&&t.length&&(t.html(this.errorCloseButton+e),this._handler(t.find(".kv-error-close"),"click",function(){t.fadeOut("slow")}))},_resetErrors:function(e){var t=this.$errorContainer;this.isError=!1,this.$container.removeClass("has-error"),t.html(""),e?t.fadeOut("slow"):t.hide()},_showFolderError:function(e){var n,r=this.$errorContainer;e&&(n=this.msgFoldersNotAllowed.replace(/\{n}/g,e),this._addError(n),t.addCss(this.$container,"has-error"),r.fadeIn(800),this._raise("filefoldererror",[e,n]))},_showUploadError:function(e,n,r){var i=this.$errorContainer,o=r||"fileuploaderror",a=n&&n.id?'<li data-file-id="'+n.id+'">'+e+"</li>":"<li>"+e+"</li>";return 0===i.find("ul").length?this._addError("<ul>"+a+"</ul>"):i.find("ul").append(a),i.fadeIn(800),this._raise(o,[n,e]),this.$container.removeClass("file-input-new"),t.addCss(this.$container,"has-error"),!0},_showError:function(e,n,r){var i=this.$errorContainer,o=r||"fileerror";return(n=n||{}).reader=this.reader,this._addError(e),i.fadeIn(800),this._raise(o,[n,e]),this.isUploadable||this._clearFileInput(),this.$container.removeClass("file-input-new"),t.addCss(this.$container,"has-error"),this.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(e){var n=this,r=n.minFileCount>1?n.filePlural:n.fileSingle,i=n.msgFilesTooLess.replace("{n}",n.minFileCount).replace("{files}",r),o=n.$errorContainer;n._addError(i),n.isError=!0,n._updateFileDetails(0),o.fadeIn(800),n._raise("fileerror",[e,i]),n._clearFileInput(),t.addCss(n.$container,"has-error")},_parseError:function(t,n,r,i){var o=e.trim(r+""),a="."===o.slice(-1)?"":".",s=void 0!==n.responseJSON&&void 0!==n.responseJSON.error?n.responseJSON.error:n.responseText;return this.cancelling&&this.msgUploadAborted&&(o=this.msgUploadAborted),this.showAjaxErrorDetails&&s?o+=a+(s=(s=e.trim(s.replace(/\n\s*\n/g,"\n"))).length>0?"<pre>"+s+"</pre>":""):o+=a,o===a&&(o=this.msgAjaxError.replace("{operation}",t)),this.cancelling=!1,i?"<b>"+i+": </b>"+o:o},_parseFileType:function(e){var n,r,i,o=this.allowedPreviewTypes;for(i=0;i<o.length;i++)if(r=o[i],n=(0,this.fileTypeSettings[r])(e.type,e.name)?r:"",!t.isEmpty(n))return n;return"other"},_getPreviewIcon:function(t){var n,r=this,i=null;return t&&t.indexOf(".")>-1&&(n=t.split(".").pop(),r.previewFileIconSettings&&r.previewFileIconSettings[n]&&(i=r.previewFileIconSettings[n]),r.previewFileExtSettings&&e.each(r.previewFileExtSettings,function(e,t){r.previewFileIconSettings[e]&&t(n)&&(i=r.previewFileIconSettings[e])})),i},_parseFilePreviewIcon:function(e,t){var n=this._getPreviewIcon(t)||this.previewFileIcon;return e.indexOf("{previewFileIcon}")>-1&&(e=e.replace(/\{previewFileIconClass}/g,this.previewFileIconClass).replace(/\{previewFileIcon}/g,n)),e},_raise:function(t,n){var r=e.Event(t);if(void 0!==n?this.$element.trigger(r,n):this.$element.trigger(r),r.isDefaultPrevented()||!1===r.result)return!1;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:this.ajaxAborted=r.result}return!0},_listenFullScreen:function(e){var t,n,r=this.$modal;r&&r.length&&(t=r&&r.find(".btn-fullscreen"),n=r&&r.find(".btn-borderless"),t.length&&n.length&&(t.removeClass("active").attr("aria-pressed","false"),n.removeClass("active").attr("aria-pressed","false"),e?t.addClass("active").attr("aria-pressed","true"):n.addClass("active").attr("aria-pressed","true"),r.hasClass("file-zoom-fullscreen")?this._maximizeZoomDialog():e?this._maximizeZoomDialog():n.removeClass("active").attr("aria-pressed","false")))},_listen:function(){var n,r=this,i=r.$element,o=r.$form,a=r.$container;r._handler(i,"change",e.proxy(r._change,r)),r.showBrowse&&r._handler(r.$btnFile,"click",e.proxy(r._browse,r)),r._handler(a.find(".fileinput-remove:not([disabled])"),"click",e.proxy(r.clear,r)),r._handler(a.find(".fileinput-cancel"),"click",e.proxy(r.cancel,r)),r._initDragDrop(),r._handler(o,"reset",e.proxy(r.reset,r)),r.isUploadable||r._handler(o,"submit",e.proxy(r._submitForm,r)),r._handler(r.$container.find(".fileinput-upload"),"click",e.proxy(r._uploadClick,r)),r._handler(e(window),"resize",function(){r._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)}),n="webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",r._handler(e(document),n,function(){r._listenFullScreen(t.checkFullScreen())}),r._initClickable()},_initClickable:function(){var n,r=this;r.isClickable&&(n=r.isUploadable?r.$dropZone:r.$preview.find(".file-default-preview"),t.addCss(n,"clickable"),n.attr("tabindex",-1),r._handler(n,"click",function(t){var i=e(t.target);i.parents(".file-preview-thumbnails").length&&!i.parents(".file-default-preview").length||(r.$element.trigger("click"),n.blur())}))},_initDragDrop:function(){var t=this,n=t.$dropZone;t.isUploadable&&t.dropZoneEnabled&&t.showPreview&&(t._handler(n,"dragenter dragover",e.proxy(t._zoneDragEnter,t)),t._handler(n,"dragleave",e.proxy(t._zoneDragLeave,t)),t._handler(n,"drop",e.proxy(t._zoneDrop,t)),t._handler(e(document),"dragenter dragover drop",t._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(n){var r=e.inArray("Files",n.originalEvent.dataTransfer.types)>-1;if(this._zoneDragDropInit(n),this.isDisabled||!r)return n.originalEvent.dataTransfer.effectAllowed="none",void(n.originalEvent.dataTransfer.dropEffect="none");t.addCss(this.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){this._zoneDragDropInit(e),this.isDisabled||this.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){e.preventDefault(),this.isDisabled||t.isEmpty(e.originalEvent.dataTransfer.files)||(this._change(e,"dragdrop"),this.$dropZone.removeClass("file-highlighted"))},_uploadClick:function(e){var n,r=this.$container.find(".fileinput-upload"),i=!r.hasClass("disabled")&&t.isEmpty(r.attr("disabled"));e&&e.isDefaultPrevented()||(this.isUploadable?(e.preventDefault(),i&&this.upload()):i&&"submit"!==r.attr("type")&&((n=r.closest("form")).length&&n.trigger("submit"),e.preventDefault()))},_submitForm:function(){var e=this.$element.get(0).files;return e&&this.minFileCount>0&&this._getFileCount(e.length)<this.minFileCount?(this._noFilesError({}),!1):!this._abort({})},_clearPreview:function(){var n=this.$preview;(this.showUploadedThumbs?n.find(t.FRAMES+":not(.file-preview-success)"):n.find(t.FRAMES)).each(function(){var r=e(this);r.remove(),t.cleanZoomCache(n.find("#zoom-"+r.attr("id")))}),this.$preview.find(t.FRAMES).length&&this.showPreview||this._resetUpload(),this._validateDefaultPreview()},_initSortable:function(){var n,r=this,i=r.$preview,o="."+t.SORT_CSS;window.KvSortable&&0!==i.find(o).length&&(n={handle:".drag-handle-init",dataIdAttr:"data-preview-id",draggable:o,onSort:function(n){var i,o=n.oldIndex,a=n.newIndex;r.initialPreview=t.moveArray(r.initialPreview,o,a),r.initialPreviewConfig=t.moveArray(r.initialPreviewConfig,o,a),r.previewCache.init();for(var s=0;s<r.initialPreviewConfig.length;s++)null!==r.initialPreviewConfig[s]&&(i=r.initialPreviewConfig[s].key,e(".kv-file-remove[data-key='"+i+"']").closest(t.FRAMES).attr("data-fileindex","init_"+s).data("fileindex","init_"+s));r._raise("filesorted",{previewId:e(n.item).attr("id"),oldIndex:o,newIndex:a,stack:r.initialPreviewConfig})}},i.data("kvsortable")&&i.kvsortable("destroy"),e.extend(!0,n,r.fileActionSettings.dragSettings),i.kvsortable(n))},_initPreview:function(e){var n,r=this,i=r.initialCaption||"";if(!r.previewCache.count())return r._clearPreview(),void(e?r._setCaption(i):r._initCaption());n=r.previewCache.out(),i=e&&r.initialCaption?r.initialCaption:n.caption,r.$preview.html(n.content),r._setInitThumbAttr(),r._setCaption(i),r._initSortable(),t.isEmpty(n.content)||r.$container.removeClass("file-input-new")},_getZoomButton:function(e){var t=this.previewZoomButtonIcons[e],n=this.previewZoomButtonClasses[e],r=' title="'+(this.previewZoomButtonTitles[e]||"")+'" '+("close"===e?' data-dismiss="modal" aria-hidden="true"':"");return"fullscreen"!==e&&"borderless"!==e&&"toggleheader"!==e||(r+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+n+" btn-"+e+'"'+r+">"+t+"</button>"},_getModalContent:function(){return this._getLayoutTemplate("modal").replace(/\{heading}/g,this.msgZoomModalHeading).replace(/\{prev}/g,this._getZoomButton("prev")).replace(/\{next}/g,this._getZoomButton("next")).replace(/\{toggleheader}/g,this._getZoomButton("toggleheader")).replace(/\{fullscreen}/g,this._getZoomButton("fullscreen")).replace(/\{borderless}/g,this._getZoomButton("borderless")).replace(/\{close}/g,this._getZoomButton("close"))},_listenModalEvent:function(e){var n=this,r=n.$modal;r.on(e+".bs.modal",function(i){var o=r.find(".btn-fullscreen"),a=r.find(".btn-borderless");n._raise("filezoom"+e,{sourceEvent:i,previewId:r.data("previewId"),modal:r}),"shown"===e&&(a.removeClass("active").attr("aria-pressed","false"),o.removeClass("active").attr("aria-pressed","false"),r.hasClass("file-zoom-fullscreen")&&(n._maximizeZoomDialog(),t.checkFullScreen()?o.addClass("active").attr("aria-pressed","true"):a.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var n,r=this,i=r._getLayoutTemplate("modalMain"),o="#"+t.MODAL_ID;r.showPreview&&(r.$modal=e(o),r.$modal&&r.$modal.length||(n=e(document.createElement("div")).html(i).insertAfter(r.$container),r.$modal=e("#"+t.MODAL_ID).insertBefore(n),n.remove()),t.initModal(r.$modal),r.$modal.html(r._getModalContent()),e.each(t.MODAL_EVENTS,function(e,t){r._listenModalEvent(t)}))},_initZoomButtons:function(){var n,r,i=this.$modal.data("previewId")||"",o=this.$preview.find(t.FRAMES).toArray(),a=o.length,s=this.$modal.find(".btn-prev"),l=this.$modal.find(".btn-next");if(o.length<2)return s.hide(),void l.hide();s.show(),l.show(),a&&(n=e(o[0]),r=e(o[a-1]),s.removeAttr("disabled"),l.removeAttr("disabled"),n.length&&n.attr("id")===i&&s.attr("disabled",!0),r.length&&r.attr("id")===i&&l.attr("disabled",!0))},_maximizeZoomDialog:function(){var t=this.$modal,n=t.find(".modal-header:visible"),r=t.find(".modal-footer:visible"),i=t.find(".modal-body"),o=e(window).height();t.addClass("file-zoom-fullscreen"),n&&n.length&&(o-=n.outerHeight(!0)),r&&r.length&&(o-=r.outerHeight(!0)),i&&i.length&&(o-=i.outerHeight(!0)-i.height()),t.find(".kv-zoom-body").height(o)},_resizeZoomDialog:function(e){var n=this.$modal,r=n.find(".btn-fullscreen"),i=n.find(".btn-borderless");if(n.hasClass("file-zoom-fullscreen"))t.toggleFullScreen(!1),e?r.hasClass("active")||(n.removeClass("file-zoom-fullscreen"),this._resizeZoomDialog(!0),i.hasClass("active")&&i.removeClass("active").attr("aria-pressed","false")):r.hasClass("active")?r.removeClass("active").attr("aria-pressed","false"):(n.removeClass("file-zoom-fullscreen"),this.$modal.find(".kv-zoom-body").css("height",this.zoomModalHeight));else{if(!e)return void this._maximizeZoomDialog();t.toggleFullScreen(!0)}n.focus()},_setZoomContent:function(n,r){var i,o,a,s,l,c,u,d,f=this,p=n.attr("id"),h=f.$modal,m=h.find(".btn-prev"),g=h.find(".btn-next"),v=h.find(".btn-fullscreen"),b=h.find(".btn-borderless"),y=h.find(".btn-toggleheader"),w=f.$preview.find("#zoom-"+p);o=w.attr("data-template")||"generic",a=(i=w.find(".kv-file-content")).length?i.html():"",s=(n.data("caption")||"")+" "+(n.data("size")||""),h.find(".kv-zoom-title").html(s),l=h.find(".kv-zoom-body"),h.removeClass("kv-single-content"),r?(d=l.clone().insertAfter(l),l.html(a).hide(),d.fadeOut("fast",function(){l.fadeIn("fast"),d.remove()})):l.html(a),(u=f.previewZoomSettings[o])&&(c=l.find(".kv-preview-data"),t.addCss(c,"file-zoom-detail"),e.each(u,function(e,t){c.css(e,t),(c.attr("width")&&"width"===e||c.attr("height")&&"height"===e)&&c.removeAttr(e)})),h.data("previewId",p),f._handler(m,"click",function(){f._zoomSlideShow("prev",p)}),f._handler(g,"click",function(){f._zoomSlideShow("next",p)}),f._handler(v,"click",function(){f._resizeZoomDialog(!0)}),f._handler(b,"click",function(){f._resizeZoomDialog(!1)}),f._handler(y,"click",function(){var e,t=h.find(".modal-header"),n=h.find(".modal-body .floating-buttons"),r=t.find(".kv-zoom-actions"),i=function(e){var n=f.$modal.find(".kv-zoom-body"),r=f.zoomModalHeight;h.hasClass("file-zoom-fullscreen")&&(r=n.outerHeight(!0),e||(r-=t.outerHeight(!0))),n.css("height",e?r+e:r)};t.is(":visible")?(e=t.outerHeight(!0),t.slideUp("slow",function(){r.find(".btn").appendTo(n),i(e)})):(n.find(".btn").appendTo(r),t.slideDown("slow",function(){i()})),h.focus()}),f._handler(h,"keydown",function(e){var t=e.which||e.keyCode;37!==t||m.attr("disabled")||f._zoomSlideShow("prev",p),39!==t||g.attr("disabled")||f._zoomSlideShow("next",p)})},_zoomPreview:function(e){var n,r=this.$modal;if(!e.length)throw"Cannot zoom to detailed preview!";t.initModal(r),r.html(this._getModalContent()),n=e.closest(t.FRAMES),this._setZoomContent(n),r.modal("show"),this._initZoomButtons()},_zoomSlideShow:function(n,r){var i,o,a,s=this.$modal.find(".kv-zoom-actions .btn-"+n),l=this.$preview.find(t.FRAMES).toArray(),c=l.length;if(!s.attr("disabled")){for(o=0;o<c;o++)if(e(l[o]).attr("id")===r){a="prev"===n?o-1:o+1;break}a<0||a>=c||!l[a]||((i=e(l[a])).length&&this._setZoomContent(i,!0),this._initZoomButtons(),this._raise("filezoom"+n,{previewId:r,modal:this.$modal}))}},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var n=e(this);t._handler(n,"click",function(){t._zoomPreview(n)})})},_clearObjects:function(t){t.find("video audio").each(function(){this.pause(),e(this).remove()}),t.find("img object div").each(function(){e(this).remove()})},_clearFileInput:function(){var n,r,i,o=this.$element;this.fileInputCleared=!0,t.isEmpty(o.val())||(this.isIE9||this.isIE10?(n=o.closest("form"),r=e(document.createElement("form")),i=e(document.createElement("div")),o.before(i),n.length?n.after(r):i.after(r),r.append(o).trigger("reset"),i.before(o).remove(),r.remove()):o.val(""))},_resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:!0},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.$btnUpload.removeAttr("disabled"),e._setProgress(0),t.addCss(e.$progress,"hide"),e._resetErrors(!1),e.ajaxAborted=!1,e.ajaxRequests=[],e._resetCanvas(),e.cacheInitialPreview={},e.overwriteInitial&&(e.initialPreview=[],e.initialPreviewConfig=[],e.initialPreviewThumbTags=[],e.previewCache.data={content:[],config:[],tags:[]})},_resetCanvas:function(){this.canvas&&this.imageCanvasContext&&this.imageCanvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)},_hasInitialPreview:function(){return!this.overwriteInitial&&this.previewCache.count()},_resetPreview:function(){var e,t,n=this;n.previewCache.count()?(e=n.previewCache.out(),n.$preview.html(e.content),n._setInitThumbAttr(),t=n.initialCaption?n.initialCaption:e.caption,n._setCaption(t)):(n._clearPreview(),n._initCaption()),n.showPreview&&(n._initZoom(),n._initSortable())},_clearDefaultPreview:function(){this.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){this.showPreview&&!t.isEmpty(this.defaultPreviewContent)&&(this.$preview.html('<div class="file-default-preview">'+this.defaultPreviewContent+"</div>"),this.$container.removeClass("file-input-new"),this._initClickable())},_resetPreviewThumbs:function(e){var t;if(e)return this._clearPreview(),void this.clearStack();this._hasInitialPreview()?(t=this.previewCache.out(),this.$preview.html(t.content),this._setInitThumbAttr(),this._setCaption(t.caption),this._initPreviewActions()):this._clearPreview()},_getLayoutTemplate:function(e){var n=this.layoutTemplates[e];return t.isEmpty(this.customLayoutTags)?n:t.replaceTags(n,this.customLayoutTags)},_getPreviewTemplate:function(e){var n=this.previewTemplates[e];return t.isEmpty(this.customPreviewTags)?n:t.replaceTags(n,this.customPreviewTags)},_getOutData:function(e,t,n){return e=e||{},t=t||{},n=n||this.filestack.slice(0)||{},{form:this.formdata,files:n,filenames:this.filenames,filescount:this.getFilesCount(),extra:this._getExtraData(),response:t,reader:this.reader,jqXHR:e}},_getMsgSelected:function(e){var t=1===e?this.fileSingle:this.filePlural;return e>0?this.msgSelected.replace("{n}",e).replace("{files}",t):this.msgNoFilesSelected},_getThumbs:function(e){return e=e||"",this.$preview.find(t.FRAMES+":not(.file-preview-initial)"+e)},_getExtraData:function(e,t){var n=this.uploadExtraData;return"function"==typeof this.uploadExtraData&&(n=this.uploadExtraData(e,t)),n},_initXhr:function(e,t,n){var r=this;return e.upload&&e.upload.addEventListener("progress",function(e){var i=0,o=e.total,a=e.loaded||e.position;e.lengthComputable&&(i=Math.floor(a/o*100)),t?r._setAsyncUploadStatus(t,i,n):r._setProgress(i)},!1),e},_ajaxSubmit:function(t,n,r,i,o,a){var s,l=this;l._raise("filepreajax",[o,a])&&(l._uploadExtra(o,a),s=e.extend(!0,{},{xhr:function(){var t=e.ajaxSettings.xhr();return l._initXhr(t,o,l.getFileStack().length)},url:l.uploadUrl,type:"POST",dataType:"json",data:l.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:t,success:n,complete:r,error:i},l.ajaxSettings),l.ajaxRequests.push(e.ajax(s)))},_mergeArray:function(e,n){var r=t.cleanArray(this[e]),i=t.cleanArray(n);this[e]=r.concat(i)},_initUploadSuccess:function(n,r,i){var o,a,s,l,c,u,d,f,p,h=this;h.showPreview&&"object"==typeof n&&!e.isEmptyObject(n)&&void 0!==n.initialPreview&&n.initialPreview.length>0&&(h.hasInitData=!0,u=n.initialPreview||[],d=n.initialPreviewConfig||[],f=n.initialPreviewThumbTags||[],o=!(void 0!==n.append&&!n.append),u.length>0&&!t.isArray(u)&&(u=u.split(h.initialPreviewDelimiter)),h._mergeArray("initialPreview",u),h._mergeArray("initialPreviewConfig",d),h._mergeArray("initialPreviewThumbTags",f),void 0!==r?i?(p=r.attr("data-fileindex"),h.uploadCache.content[p]=u[0],h.uploadCache.config[p]=d[0]||[],h.uploadCache.tags[p]=f[0]||[],h.uploadCache.append=o):(s=h.previewCache.add(u,d[0],f[0],o),a=h.previewCache.get(s,!1),(c=(l=e(document.createElement("div")).html(a).hide().insertAfter(r)).find(".kv-zoom-cache"))&&c.length&&c.insertAfter(r),r.fadeOut("slow",function(){var e=l.find(".file-preview-frame");e&&e.length&&e.insertBefore(r).fadeIn("slow").css("display:inline-block"),h._initPreviewActions(),h._clearFileInput(),t.cleanZoomCache(h.$preview.find("#zoom-"+r.attr("id"))),r.remove(),l.remove(),h._initSortable()})):(h.previewCache.set(u,d,f,o),h._initPreview(),h._initPreviewActions()))},_initSuccessThumbs:function(){var n=this;n.showPreview&&n._getThumbs(t.FRAMES+".file-preview-success").each(function(){var r=e(this),i=n.$preview,o=r.find(".kv-file-remove");o.removeAttr("disabled"),n._handler(o,"click",function(){var e=r.attr("id"),o=n._raise("filesuccessremove",[e,r.data("fileindex")]);t.cleanMemory(r),!1!==o&&r.fadeOut("slow",function(){t.cleanZoomCache(i.find("#zoom-"+e)),r.remove(),i.find(t.FRAMES).length||n.reset()})})})},_checkAsyncComplete:function(){var t,n;for(n=0;n<this.filestack.length;n++)if(this.filestack[n]&&(t=this.previewInitId+"-"+n,-1===e.inArray(t,this.uploadLog)))return!1;return this.uploadAsyncCount===this.uploadLog.length},_uploadExtra:function(t,n){var r=this,i=r._getExtraData(t,n);0!==i.length&&e.each(i,function(e,t){r.formdata.append(e,t)})},_uploadSingle:function(n,r,i){var o,a,s,l,c,u,d,f,p,h,m=this,g=m.getFileStack().length,v=new FormData,b=m.previewInitId+"-"+n,y=m.filestack.length>0||!e.isEmptyObject(m.uploadExtraData),w=e("#"+b).find(".file-thumb-progress"),x={id:b,index:n};m.formdata=v,m.showPreview&&(a=e("#"+b+":not(.file-preview-initial)"),l=a.find(".kv-file-upload"),c=a.find(".kv-file-remove"),w.removeClass("hide")),0===g||!y||l&&l.hasClass("disabled")||m._abort(x)||(h=function(e,t){m.updateStack(e,void 0),m.uploadLog.push(t),m._checkAsyncComplete()&&(m.fileBatchCompleted=!0)},s=function(){var e,n,r,i=m.uploadCache,o=0,a=m.cacheInitialPreview;m.fileBatchCompleted&&(a&&a.content&&(o=a.content.length),setTimeout(function(){if(m.showPreview){if(m.previewCache.set(i.content,i.config,i.tags,i.append),o){for(n=0;n<i.content.length;n++)r=n+o,a.content[r]=i.content[n],a.config.length&&(a.config[r]=i.config[n]),a.tags.length&&(a.tags[r]=i.tags[n]);m.initialPreview=t.cleanArray(a.content),m.initialPreviewConfig=t.cleanArray(a.config),m.initialPreviewThumbTags=t.cleanArray(a.tags)}else m.initialPreview=i.content,m.initialPreviewConfig=i.config,m.initialPreviewThumbTags=i.tags;m.cacheInitialPreview={},m.hasInitData&&(m._initPreview(),m._initPreviewActions())}m.unlock(),m._clearFileInput(),e=m.$preview.find(".file-preview-initial"),m.uploadAsync&&e.length&&(t.addCss(e,t.SORT_CSS),m._initSortable()),m._raise("filebatchuploadcomplete",[m.filestack,m._getExtraData()]),m.uploadCount=0,m.uploadStatus={},m.uploadLog=[],m._setProgress(101)},100))},u=function(r){o=m._getOutData(r),m.fileBatchCompleted=!1,m.showPreview&&(a.hasClass("file-preview-success")||(m._setThumbStatus(a,"Loading"),t.addCss(a,"file-uploading")),l.attr("disabled",!0),c.attr("disabled",!0)),i||m.lock(),m._raise("filepreupload",[o,b,n]),e.extend(!0,x,o),m._abort(x)&&(r.abort(),m._setProgressCancelled())},d=function(r,s,c){var u=m.showPreview&&a.attr("id")?a.attr("id"):b;o=m._getOutData(c,r),e.extend(!0,x,o),setTimeout(function(){t.isEmpty(r)||t.isEmpty(r.error)?(m.showPreview&&(m._setThumbStatus(a,"Success"),l.hide(),m._initUploadSuccess(r,a,i),m._setProgress(101,w)),m._raise("fileuploaded",[o,u,n]),i?h(n,u):m.updateStack(n,void 0)):(m._showUploadError(r.error,x),m._setPreviewError(a,n),i&&h(n,u))},100)},f=function(){setTimeout(function(){m.showPreview&&(l.removeAttr("disabled"),c.removeAttr("disabled"),a.removeClass("file-uploading")),i?s():(m.unlock(!1),m._clearFileInput()),m._initSuccessThumbs()},100)},p=function(t,o,s){var l=m.ajaxOperations.uploadThumb,c=m._parseError(l,t,s,i?r[n].name:null);setTimeout(function(){i&&h(n,b),m.uploadStatus[b]=100,m._setPreviewError(a,n),e.extend(!0,x,m._getOutData(t)),m._setProgress(101,w,m.msgAjaxProgressError.replace("{operation}",l)),m._showUploadError(c,x)},100)},v.append(m.uploadFileAttr,r[n],m.filenames[n]),v.append("file_id",n),m._ajaxSubmit(u,d,f,p,b,n))},_uploadBatch:function(){var n,r,i,o,a,s=this,l=s.filestack,c=l.length,u=s.filestack.length>0||!e.isEmptyObject(s.uploadExtraData);s.formdata=new FormData,0!==c&&u&&!s._abort({})&&(a=function(){e.each(l,function(e){s.updateStack(e,void 0)}),s._clearFileInput()},n=function(n){s.lock();var r=s._getOutData(n);s.showPreview&&s._getThumbs().each(function(){var n=e(this),r=n.find(".kv-file-upload"),i=n.find(".kv-file-remove");n.hasClass("file-preview-success")||(s._setThumbStatus(n,"Loading"),t.addCss(n,"file-uploading")),r.attr("disabled",!0),i.attr("disabled",!0)}),s._raise("filebatchpreupload",[r]),s._abort(r)&&(n.abort(),s._setProgressCancelled())},r=function(n,r,i){var o=s._getOutData(i,n),l=s._getThumbs(":not(.file-preview-error)"),c=0,u=t.isEmpty(n)||t.isEmpty(n.errorkeys)?[]:n.errorkeys;t.isEmpty(n)||t.isEmpty(n.error)?(s._raise("filebatchuploadsuccess",[o]),a(),s.showPreview?(l.each(function(){var t=e(this),n=t.find(".kv-file-upload");t.find(".kv-file-upload").hide(),s._setThumbStatus(t,"Success"),t.removeClass("file-uploading"),n.removeAttr("disabled")}),s._initUploadSuccess(n)):s.reset(),s._setProgress(101)):(s.showPreview&&(l.each(function(){var t=e(this),n=t.find(".kv-file-remove"),r=t.find(".kv-file-upload");t.removeClass("file-uploading"),r.removeAttr("disabled"),n.removeAttr("disabled"),0!==u.length?(-1!==e.inArray(c,u)?s._setPreviewError(t):(t.find(".kv-file-upload").hide(),s._setThumbStatus(t,"Success"),s.updateStack(c,void 0)),c++):s._setPreviewError(t)}),s._initUploadSuccess(n)),s._showUploadError(n.error,o,"filebatchuploaderror"))},o=function(){s.unlock(),s._initSuccessThumbs(),s._clearFileInput(),s._raise("filebatchuploadcomplete",[s.filestack,s._getExtraData()])},i=function(t,n,r){var i=s._getOutData(t),o=s.ajaxOperations.uploadBatch,a=s._parseError(o,t,r);s._showUploadError(a,i,"filebatchuploaderror"),s.uploadFileCount=c-1,s.showPreview&&(s._getThumbs().each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==s.filestack[n]&&s._setPreviewError(t)}),s._getThumbs().removeClass("file-uploading"),s._getThumbs(" .kv-file-upload").removeAttr("disabled"),s._getThumbs(" .kv-file-delete").removeAttr("disabled"),s._setProgress(101,s.$progress,s.msgAjaxProgressError.replace("{operation}",o)))},e.each(l,function(e,n){t.isEmpty(l[e])||s.formdata.append(s.uploadFileAttr,n,s.filenames[e])}),s._ajaxSubmit(n,r,o,i))},_uploadExtraOnly:function(){var e,n,r,i,o=this,a={};o.formdata=new FormData,o._abort(a)||(e=function(e){o.lock();var t=o._getOutData(e);o._raise("filebatchpreupload",[t]),o._setProgress(50),a.data=t,a.xhr=e,o._abort(a)&&(e.abort(),o._setProgressCancelled())},n=function(e,n,r){var i=o._getOutData(r,e);t.isEmpty(e)||t.isEmpty(e.error)?(o._raise("filebatchuploadsuccess",[i]),o._clearFileInput(),o._initUploadSuccess(e),o._setProgress(101)):o._showUploadError(e.error,i,"filebatchuploaderror")},r=function(){o.unlock(),o._clearFileInput(),o._raise("filebatchuploadcomplete",[o.filestack,o._getExtraData()])},i=function(e,t,n){var r=o._getOutData(e),i=o.ajaxOperations.uploadExtra,s=o._parseError(i,e,n);a.data=r,o._showUploadError(s,r,"filebatchuploaderror"),o._setProgress(101,o.$progress,o.msgAjaxProgressError.replace("{operation}",i))},o._ajaxSubmit(e,n,r,i))},_deleteFileIndex:function(n){var r=this,i=n.attr("data-fileindex");"init_"===i.substring(0,5)&&(i=parseInt(i.replace("init_","")),r.initialPreview=t.spliceArray(r.initialPreview,i),r.initialPreviewConfig=t.spliceArray(r.initialPreviewConfig,i),r.initialPreviewThumbTags=t.spliceArray(r.initialPreviewThumbTags,i),r.$preview.find(t.FRAMES).each(function(){var t=e(this),n=t.attr("data-fileindex");"init_"===n.substring(0,5)&&(n=parseInt(n.replace("init_","")))>i&&(n--,t.attr("data-fileindex","init_"+n))}),r.uploadAsync&&(r.cacheInitialPreview=r.getPreview()))},_initFileActions:function(){var n=this,r=n.$preview;n.showPreview&&(n._initZoomButton(),r.find(t.FRAMES+" .kv-file-remove").each(function(){var i,o,a,s=e(this),l=s.closest(t.FRAMES),c=l.attr("id"),u=l.attr("data-fileindex");n._handler(s,"click",function(){if(!1===n._raise("filepreremove",[c,u])||!n._validateMinCount())return!1;i=l.hasClass("file-preview-error"),t.cleanMemory(l),l.fadeOut("slow",function(){t.cleanZoomCache(r.find("#zoom-"+c)),n.updateStack(u,void 0),n._clearObjects(l),l.remove(),c&&i&&n.$errorContainer.find('li[data-file-id="'+c+'"]').fadeOut("fast",function(){e(this).remove(),n._errorsExist()||n._resetErrors()}),n._clearFileInput();var s=n.getFileStack(!0),d=n.previewCache.count(),f=s.length,p=n.showPreview&&r.find(t.FRAMES).length;0!==f||0!==d||p?(a=(o=d+f)>1?n._getMsgSelected(o):s[0]?n._getFileNames()[0]:"",n._setCaption(a)):n.reset(),n._raise("fileremoved",[c,u])})})}),n.$preview.find(t.FRAMES+" .kv-file-upload").each(function(){var r=e(this);n._handler(r,"click",function(){var e=r.closest(t.FRAMES),i=e.attr("data-fileindex");e.hasClass("file-preview-error")||n._uploadSingle(i,n.filestack,!1)})}))},_initPreviewActions:function(){var n=this,r=n.$preview,i=n.deleteExtraData||{},o=t.FRAMES+" .kv-file-remove",a=function(){var e=n.isUploadable?n.previewCache.count():n.$element.get(0).files.length;0!==r.find(o).length||e||(n.reset(),n.initialCaption="")};n._initZoomButton(),r.find(o).each(function(){var o=e(this),s=o.data("url")||n.deleteUrl,l=o.data("key");if(!t.isEmpty(s)&&void 0!==l){var c,u,d,f,p=o.closest(t.FRAMES),h=n.previewCache.data,m=p.data("fileindex");m=parseInt(m.replace("init_","")),d=t.isEmpty(h.config)&&t.isEmpty(h.config[m])?null:h.config[m],"function"==typeof(f=t.isEmpty(d)||t.isEmpty(d.extra)?i:d.extra)&&(f=f()),u={id:o.attr("id"),key:l,extra:f},c=e.extend(!0,{},{url:s,type:"POST",dataType:"json",data:e.extend(!0,{},{key:l},f),beforeSend:function(e){n.ajaxAborted=!1,n._raise("filepredelete",[l,e,f]),n.ajaxAborted?e.abort():(t.addCss(p,"file-uploading"),t.addCss(o,"disabled"))},success:function(e,i,s){var c,d;if(!t.isEmpty(e)&&!t.isEmpty(e.error))return u.jqXHR=s,u.response=e,n._showError(e.error,u,"filedeleteerror"),p.removeClass("file-uploading"),o.removeClass("disabled"),void a();n.previewCache.init(),m=parseInt(p.data("fileindex").replace("init_","")),n.previewCache.unset(m),d=(c=n.previewCache.count())>0?n._getMsgSelected(c):"",n._deleteFileIndex(p),n._setCaption(d),n._raise("filedeleted",[l,s,f]),p.removeClass("file-uploading").addClass("file-deleted"),p.fadeOut("slow",function(){t.cleanZoomCache(r.find("#zoom-"+p.attr("id"))),n._clearObjects(p),p.remove(),a(),c||0!==n.getFileStack().length||(n._setCaption(""),n.reset())})},error:function(e,t,r){var i=n.ajaxOperations.deleteThumb,o=n._parseError(i,e,r);u.jqXHR=e,u.response={},n._showError(o,u,"filedeleteerror"),p.removeClass("file-uploading"),a()}},n.ajaxDeleteSettings),n._handler(o,"click",function(){if(!n._validateMinCount())return!1;e.ajax(c)})}})},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_getSize:function(t){var n,r,i,o=parseFloat(t),a=this.fileSizeGetter;return e.isNumeric(t)&&e.isNumeric(o)?("function"==typeof a?i=a(o):0===o?i="0.00 B":(n=Math.floor(Math.log(o)/Math.log(1024)),r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=1*(o/Math.pow(1024,n)).toFixed(2)+" "+r[n]),this._getLayoutTemplate("size").replace("{sizeText}",i)):""},_generatePreviewTemplate:function(e,n,r,i,o,a,s,l,c,u,d){var f=this,p=f.slug(r),h="",m=f.previewSettings[e]||f.defaults.previewSettings[e],g=m&&m.width?m.width:"",v=m&&m.height?m.height:"",b=c||f._renderFileFooter(p,s,t.isEmpty(g)?"auto":g,a),y=f._getPreviewIcon(r),w=y&&f.preferIconicPreview,x=y&&f.preferIconicZoomPreview,C=function(n,a,s,c){var h=s?"zoom-"+o:o,m=f._getPreviewTemplate(n),y=(l||"")+" "+c;return f.frameClass&&(y=f.frameClass+" "+y),s&&(y=y.replace(" "+t.SORT_CSS,"")),m=f._parseFilePreviewIcon(m,r),"text"===n&&(a=t.htmlEncode(a)),m.replace(/\{previewId}/g,h).replace(/\{caption}/g,p).replace(/\{frameClass}/g,y).replace(/\{type}/g,i).replace(/\{fileindex}/g,u).replace(/\{width}/g,g).replace(/\{height}/g,v).replace(/\{footer}/g,b).replace(/\{data}/g,a).replace(/\{template}/g,d||e)};return u=u||o.slice(o.lastIndexOf("-")+1),f.fileActionSettings.showZoom&&(h=C(x?"other":e,n,!0,"kv-zoom-thumb")),h="\n"+f._getLayoutTemplate("zoomCache").replace("{zoomContent}",h),C(w?"other":e,n,!1,"kv-preview-thumb")+h},_previewDefault:function(n,r,i){var o=this.$preview;if(this.showPreview){var a,s=n?n.name:"",l=n?n.type:"",c=n.size||0,u=this.slug(s),d=!0===i&&!this.isUploadable,f=t.objUrl.createObjectURL(n);this._clearDefaultPreview(),a=this._generatePreviewTemplate("other",f,s,l,r,d,c),o.append("\n"+a),this._setThumbAttr(r,u,c),!0===i&&this.isUploadable&&this._setThumbStatus(e("#"+r),"Error")}},_previewFile:function(e,t,n,r,i){if(this.showPreview){var o,a=this,s=a._parseFileType(t),l=t?t.name:"",c=a.slug(l),u=a.allowedPreviewTypes,d=a.allowedPreviewMimeTypes,f=a.$preview,p=u&&u.indexOf(s)>=0,h=t.size||0,m="text"===s||"html"===s||"image"===s?n.target.result:i,g=d&&-1!==d.indexOf(t.type);"html"===s&&a.purifyHtml&&window.DOMPurify&&(m=window.DOMPurify.sanitize(m)),p||g?(o=a._generatePreviewTemplate(s,m,l,t.type,r,!1,h),a._clearDefaultPreview(),f.append("\n"+o),a._validateImage(r,c,t.type)):a._previewDefault(t,r),a._setThumbAttr(r,c,h),a._initSortable()}},_setThumbAttr:function(t,n,r){var i=e("#"+t);i.length&&(r=r&&r>0?this._getSize(r):"",i.data({caption:n,size:r}))},_setInitThumbAttr:function(){var e,n,r,i,o=this.previewCache.data,a=this.previewCache.count(!0);if(0!==a)for(var s=0;s<a;s++)e=o.config[s],i=this.previewInitId+"-init_"+s,n=t.ifSet("caption",e,t.ifSet("filename",e)),r=t.ifSet("size",e),this._setThumbAttr(i,n,r)},_slugDefault:function(e){return t.isEmpty(e)?"":String(e).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(n){this.reader=new FileReader;var r,i=this,o=i.$element,a=i.$preview,s=i.reader,l=i.$previewContainer,c=i.$previewStatus,u=i.msgLoading,d=i.msgProgress,f=i.previewInitId,p=n.length,h=i.fileTypeSettings,m=i.filestack.length,g=i.allowedFileTypes,v=g?g.length:0,b=i.allowedFileExtensions,y=t.isEmpty(b)?"":b.join(", "),w=i.maxFilePreviewSize&&parseFloat(i.maxFilePreviewSize),x=a.length&&(!w||isNaN(w)),C=function(t,o,a,s){var l=e.extend(!0,{},i._getOutData({},{},n),{id:a,index:s}),c={id:a,index:s,file:o,files:n};return i._previewDefault(o,a,!0),i.isUploadable&&(i.addToStack(void 0),setTimeout(function(){r(s+1)},100)),i._initFileActions(),i.removeFromPreviewOnError&&e("#"+a).remove(),i.isUploadable?i._showUploadError(t,l):i._showError(t,c)};i.loadedImages=[],i.totalImagesCount=0,e.each(n,function(e,t){var n=i.fileTypeSettings.image;n&&n(t.type)&&i.totalImagesCount++}),(r=function(e){if(t.isEmpty(o.attr("multiple"))&&(p=1),e>=p)return i.isUploadable&&i.filestack.length>0?i._raise("filebatchselected",[i.getFileStack()]):i._raise("filebatchselected",[n]),l.removeClass("file-thumb-loading"),void c.html("");var $,S,k,T,_,E,D,A,N,R,O=f+"-"+(m+e),P=n[e],I=P.name?i.slug(P.name):"",M=(P.size||0)/1e3,L="",B=t.objUrl.createObjectURL(P),F=0,j="";if(v>0)for(T=0;T<v;T++)A=g[T],N=i.msgFileTypes[A]||A,j+=0===T?N:", "+N;if(!1!==I){if(0===I.length)return _=i.msgInvalidFileName.replace("{name}",t.htmlEncode(P.name)),void(i.isError=C(_,P,O,e));if(t.isEmpty(b)||(L=new RegExp("\\.("+b.join("|")+")$","i")),k=M.toFixed(2),i.maxFileSize>0&&M>i.maxFileSize)return _=i.msgSizeTooLarge.replace("{name}",I).replace("{size}",k).replace("{maxSize}",i.maxFileSize),void(i.isError=C(_,P,O,e));if(null!==i.minFileSize&&M<=t.getNum(i.minFileSize))return _=i.msgSizeTooSmall.replace("{name}",I).replace("{size}",k).replace("{minSize}",i.minFileSize),void(i.isError=C(_,P,O,e));if(!t.isEmpty(g)&&t.isArray(g)){for(T=0;T<g.length;T+=1)E=g[T],F+=(R=h[E])&&"function"==typeof R&&R(P.type,P.name)?1:0;if(0===F)return _=i.msgInvalidFileType.replace("{name}",I).replace("{types}",j),void(i.isError=C(_,P,O,e))}if(0===F&&!t.isEmpty(b)&&t.isArray(b)&&!t.isEmpty(L)&&(D=t.compare(I,L),0===(F+=t.isEmpty(D)?0:D.length)))return _=i.msgInvalidFileExtension.replace("{name}",I).replace("{extensions}",y),void(i.isError=C(_,P,O,e));if(!i.showPreview)return i.addToStack(P),setTimeout(function(){r(e+1)},100),void i._raise("fileloaded",[P,O,e,s]);if(!x&&M>w)return i.addToStack(P),l.addClass("file-thumb-loading"),i._previewDefault(P,O),i._initFileActions(),i._updateFileDetails(p),void r(e+1);a.length&&void 0!==FileReader?(c.html(u.replace("{index}",e+1).replace("{files}",p)),l.addClass("file-thumb-loading"),s.onerror=function(e){i._errorHandler(e,I)},s.onload=function(t){i._previewFile(e,P,t,O,B),i._initFileActions()},s.onloadend=function(){_=d.replace("{index}",e+1).replace("{files}",p).replace("{percent}",50).replace("{name}",I),setTimeout(function(){c.html(_),i._updateFileDetails(p),r(e+1)},100),i._raise("fileloaded",[P,O,e,s])},s.onprogress=function(t){if(t.lengthComputable){var n=t.loaded/t.total*100,r=Math.ceil(n);_=d.replace("{index}",e+1).replace("{files}",p).replace("{percent}",r).replace("{name}",I),setTimeout(function(){c.html(_)},100)}},$=h.text,S=h.image,$(P.type,I)?s.readAsText(P,i.textEncoding):S(P.type,I)?s.readAsDataURL(P):s.readAsArrayBuffer(P)):(i._previewDefault(P,O),setTimeout(function(){r(e+1),i._updateFileDetails(p)},100),i._raise("fileloaded",[P,O,e,s])),i.addToStack(P)}else r(e+1)})(0),i._updateFileDetails(p,!1)},_updateFileDetails:function(e){var n=this,r=n.$element,i=n.getFileStack(),o=t.isIE(9)&&t.findFileName(r.val())||r[0].files[0]&&r[0].files[0].name||i.length&&i[0].name||"",a=n.slug(o),s=n.isUploadable?i.length:e,l=n.previewCache.count()+s,c=s>1?n._getMsgSelected(l):a;n.isError?(n.$previewContainer.removeClass("file-thumb-loading"),n.$previewStatus.html(""),n.$captionContainer.find(".kv-caption-icon").hide()):n._showFileIcon(),n._setCaption(c,n.isError),n.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&n._raise("fileselect",[e,a]),n.previewCache.count()&&n._initPreviewActions()},_setThumbStatus:function(e,t){if(this.showPreview){var n="indicator"+t,r=n+"Title",i="file-preview-"+t.toLowerCase(),o=e.find(".file-upload-indicator"),a=this.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading"),"Error"===t&&e.find(".kv-file-upload").attr("disabled",!0),"Success"===t&&(e.find(".file-drag-handle").remove(),o.css("margin-left",0)),o.html(a[n]),o.attr("title",a[r]),e.addClass(i)}},_setProgressCancelled:function(){this._setProgress(101,this.$progress,this.msgCancelled)},_setProgress:function(e,n,r){var i,o,a=Math.min(e,100),s=this.progressUploadThreshold,l=e<=100?this.progressTemplate:this.progressCompleteTemplate,c=a<100?this.progressTemplate:r?this.progressErrorTemplate:l;n=n||this.$progress,t.isEmpty(c)||(s&&a>s&&e<=100?i=c.replace(/\{percent}/g,s).replace(/\{status}/g,this.msgUploadThreshold):(o=e>100?this.msgUploadEnd:a+"%",i=c.replace(/\{percent}/g,a).replace(/\{status}/g,o)),n.html(i),r&&n.find('[role="progressbar"]').html(r))},_setFileDropZoneTitle:function(){var e,n=this,r=n.$container.find(".file-drop-zone"),i=n.dropZoneTitle;n.isClickable&&(e=t.isEmpty(n.$element.attr("multiple"))?n.fileSingle:n.filePlural,i+=n.dropZoneClickTitle.replace("{files}",e)),r.find("."+n.dropZoneTitleClass).remove(),n.isUploadable&&n.showPreview&&0!==r.length&&!(n.getFileStack().length>0)&&n.dropZoneEnabled&&(0===r.find(t.FRAMES).length&&t.isEmpty(n.defaultPreviewContent)&&r.prepend('<div class="'+n.dropZoneTitleClass+'">'+i+"</div>"),n.$container.removeClass("file-input-new"),t.addCss(n.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(t,n,r){var i=0;this._setProgress(n,e("#"+t).find(".file-thumb-progress")),this.uploadStatus[t]=n,e.each(this.uploadStatus,function(e,t){i+=t}),this._setProgress(Math.floor(i/r))},_validateMinCount:function(){var e=this.isUploadable?this.getFileStack().length:this.$element.get(0).files.length;return!(this.validateInitialCount&&this.minFileCount>0&&this._getFileCount(e-1)<this.minFileCount)||(this._noFilesError({}),!1)},_getFileCount:function(e){return this.validateInitialCount&&!this.overwriteInitial&&(e+=this.previewCache.count()),e},_getFileName:function(e){return e&&e.name?this.slug(e.name):void 0},_getFileNames:function(e){return this.filenames.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},_setPreviewError:function(e,t,n){void 0!==t&&this.updateStack(t,n),this.removeFromPreviewOnError?e.remove():this._setThumbStatus(e,"Error")},_checkDimensions:function(e,n,r,i,o,a,s){var l,c,u,d=this[("Small"===n?"min":"max")+"Image"+a];!t.isEmpty(d)&&r.length&&(u=r[0],c="Width"===a?u.naturalWidth||u.width:u.naturalHeight||u.height,("Small"===n?c>=d:c<=d)||(l=this["msgImage"+a+n].replace("{name}",o).replace("{size}",d),this._showUploadError(l,s),this._setPreviewError(i,e,null)))},_validateImage:function(e,t,n){var r,i,o,a=this,s=a.$preview,l=s.find("#"+e),c=l.attr("data-fileindex"),u=l.find("img");t=t||"Untitled",u.length&&a._handler(u,"load",function(){i=l.width(),o=s.width(),i>o&&(u.css("width","100%"),l.css("width","97%")),r={ind:c,id:e},a._checkDimensions(c,"Small",u,l,t,"Width",r),a._checkDimensions(c,"Small",u,l,t,"Height",r),a.resizeImage||(a._checkDimensions(c,"Large",u,l,t,"Width",r),a._checkDimensions(c,"Large",u,l,t,"Height",r)),a._raise("fileimageloaded",[e]),a.loadedImages.push({ind:c,img:u,thumb:l,pid:e,typ:n}),a._validateAllImages()})},_validateAllImages:function(){var e,t={val:0},n=this.loadedImages.length;if(n===this.totalImagesCount&&(this._raise("fileimagesloaded"),this.resizeImage))for(e=0;e<this.loadedImages.length;e++)this._getResizedImage(this.loadedImages[e],t,n)},_getResizedImage:function(t,n,r){var i,o,a,s,l=this,c=e(t.img)[0],u=c.naturalWidth,d=c.naturalHeight,f=1,p=l.maxImageWidth||u,h=l.maxImageHeight||d,m=!(!u||!d),g=l.imageCanvas,v=l.imageCanvasContext,b=t.typ,y=t.pid,w=t.ind,x=t.thumb;if(a=function(e,t,n){l.isUploadable?l._showUploadError(e,t,n):l._showError(e,t,n),l._setPreviewError(x,w)},l.filestack[w]&&m&&!(u<=p&&d<=h)||(m&&l.filestack[w]&&l._raise("fileimageresized",[y,w]),n.val++,n.val===r&&l._raise("fileimagesresized"),m)){b=b||l.resizeDefaultImageType,i=u>p,o=d>h,f="width"===l.resizePreference?i?p/u:o?h/d:1:o?h/d:i?p/u:1,l._resetCanvas(),u*=f,d*=f,g.width=u,g.height=d;try{v.drawImage(c,0,0,u,d),g.toBlob(function(e){l.filestack[w]=e,l._raise("fileimageresized",[y,w]),n.val++,n.val===r&&l._raise("fileimagesresized",[void 0,void 0]),e instanceof Blob||a(l.msgImageResizeError,{id:y,index:w},"fileimageresizeerror")},b,l.resizeQuality)}catch(e){n.val++,n.val===r&&l._raise("fileimagesresized",[void 0,void 0]),s=l.msgImageResizeException.replace("{errors}",e.message),a(s,{id:y,index:w},"fileimageresizeexception")}}else a(l.msgImageResizeError,{id:y,index:w},"fileimageresizeerror")},_initBrowse:function(e){this.showBrowse?(this.$btnFile=e.find(".btn-file"),this.$btnFile.append(this.$element)):this.$element.hide()},_initCaption:function(){var e=this.initialCaption||"";return this.overwriteInitial||t.isEmpty(e)?(this.$caption.html(""),!1):(this._setCaption(e),!0)},_setCaption:function(n,r){var i,o,a,s,l=this,c=l.getFileStack();if(l.$caption.length){if(r)i=e("<div>"+l.msgValidationError+"</div>").text(),s=(a=c.length)?1===a&&c[0]?l._getFileNames()[0]:l._getMsgSelected(a):l._getMsgSelected(l.msgNo),o='<span class="'+l.msgValidationErrorClass+'">'+l.msgValidationErrorIcon+(t.isEmpty(n)?s:n)+"</span>";else{if(t.isEmpty(n))return;i=e("<div>"+n+"</div>").text(),o=l._getLayoutTemplate("fileIcon")+i}l.$caption.html(o),l.$caption.attr("title",i),l.$captionContainer.find(".file-caption-ellipsis").attr("title",i)}},_createContainer:function(){var t=e(document.createElement("div")).attr({class:"file-input file-input-new"}).html(this._renderMain());return this.$element.before(t),this._initBrowse(t),this.theme&&t.addClass("theme-"+this.theme),t},_refreshContainer:function(){var e=this.$container;e.before(this.$element),e.html(this._renderMain()),this._initBrowse(e)},_renderMain:function(){var e=this,t=e.isUploadable&&e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",n=e.showClose?e._getLayoutTemplate("close"):"",r=e.showPreview?e._getLayoutTemplate("preview").replace(/\{class}/g,e.previewClass).replace(/\{dropClass}/g,t):"",i=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,o=e.captionTemplate.replace(/\{class}/g,i+" kv-fileinput-caption");return e.mainTemplate.replace(/\{class}/g,e.mainClass+(!e.showBrowse&&e.showCaption?" no-browse":"")).replace(/\{preview}/g,r).replace(/\{close}/g,n).replace(/\{caption}/g,o).replace(/\{upload}/g,e._renderButton("upload")).replace(/\{remove}/g,e._renderButton("remove")).replace(/\{cancel}/g,e._renderButton("cancel")).replace(/\{browse}/g,e._renderButton("browse"))},_renderButton:function(e){var n=this,r=n._getLayoutTemplate("btnDefault"),i=n[e+"Class"],o=n[e+"Title"],a=n[e+"Icon"],s=n[e+"Label"],l=n.isDisabled?" disabled":"",c="button";switch(e){case"remove":if(!n.showRemove)return"";break;case"cancel":if(!n.showCancel)return"";i+=" hide";break;case"upload":if(!n.showUpload)return"";n.isUploadable&&!n.isDisabled?r=n._getLayoutTemplate("btnLink").replace("{href}",n.uploadUrl):c="submit";break;case"browse":if(!n.showBrowse)return"";r=n._getLayoutTemplate("btnBrowse");break;default:return""}return i+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",t.isEmpty(s)||(s=' <span class="'+n.buttonLabelClass+'">'+s+"</span>"),r.replace("{type}",c).replace("{css}",i).replace("{title}",o).replace("{status}",l).replace("{icon}",a).replace("{label}",s)},_renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0").replace(/\{status}/g,this.msgUploadBegin)+"</div>"},_renderFileFooter:function(e,n,r,i){var o,a=this.fileActionSettings,s=a.showRemove,l=a.showDrag,c=a.showUpload,u=a.showZoom,d=this._getLayoutTemplate("footer"),f=i?a.indicatorError:a.indicatorNew,p=i?a.indicatorErrorTitle:a.indicatorNewTitle;return n=this._getSize(n),o=this.isUploadable?d.replace(/\{actions}/g,this._renderFileActions(c,s,u,l,!1,!1,!1)).replace(/\{caption}/g,e).replace(/\{size}/g,n).replace(/\{width}/g,r).replace(/\{progress}/g,this._renderThumbProgress()).replace(/\{indicator}/g,f).replace(/\{indicatorTitle}/g,p):d.replace(/\{actions}/g,this._renderFileActions(!1,!1,u,l,!1,!1,!1)).replace(/\{caption}/g,e).replace(/\{size}/g,n).replace(/\{width}/g,r).replace(/\{progress}/g,"").replace(/\{indicator}/g,f).replace(/\{indicatorTitle}/g,p),o=t.replaceTags(o,this.previewThumbTags)},_renderFileActions:function(e,t,n,r,i,o,a,s){if(!(e||t||n||r))return"";var l,c=!1===o?"":' data-url="'+o+'"',u=!1===a?"":' data-key="'+a+'"',d="",f="",p="",h="",m=this._getLayoutTemplate("actions"),g=this.fileActionSettings,v=this.otherActionButtons.replace(/\{dataKey}/g,u),b=i?g.removeClass+" disabled":g.removeClass;return t&&(d=this._getLayoutTemplate("actionDelete").replace(/\{removeClass}/g,b).replace(/\{removeIcon}/g,g.removeIcon).replace(/\{removeTitle}/g,g.removeTitle).replace(/\{dataUrl}/g,c).replace(/\{dataKey}/g,u)),e&&(f=this._getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,g.uploadClass).replace(/\{uploadIcon}/g,g.uploadIcon).replace(/\{uploadTitle}/g,g.uploadTitle)),n&&(p=this._getLayoutTemplate("actionZoom").replace(/\{zoomClass}/g,g.zoomClass).replace(/\{zoomIcon}/g,g.zoomIcon).replace(/\{zoomTitle}/g,g.zoomTitle)),r&&s&&(l="drag-handle-init "+g.dragClass,h=this._getLayoutTemplate("actionDrag").replace(/\{dragClass}/g,l).replace(/\{dragTitle}/g,g.dragTitle).replace(/\{dragIcon}/g,g.dragIcon)),m.replace(/\{delete}/g,d).replace(/\{upload}/g,f).replace(/\{zoom}/g,p).replace(/\{drag}/g,h).replace(/\{other}/g,v)},_browse:function(e){this._raise("filebrowse"),e&&e.isDefaultPrevented()||(this.isError&&!this.isUploadable&&this.clear(),this.$captionContainer.focus())},_change:function(n){var r=this,i=r.$element;if(!r.isUploadable&&t.isEmpty(i.val())&&r.fileInputCleared)r.fileInputCleared=!1;else{r.fileInputCleared=!1;var o,a,s,l,c,u,d,f,p,h,m,g,v=arguments.length>1,b=r.isUploadable,y=0,w=v?n.originalEvent.dataTransfer.files:i.get(0).files,x=r.filestack.length,C=t.isEmpty(i.attr("multiple"))&&x>0,$=0;if(r.reader=null,r._resetUpload(),r._hideFileIcon(),r.isUploadable&&r.$container.find(".file-drop-zone ."+r.dropZoneTitleClass).remove(),v)for(o=[];w[y];)(l=w[y]).type||l.size%4096!=0?o.push(l):$++,y++;else o=void 0===n.target.files?n.target&&n.target.value?[{name:n.target.value.replace(/^.+\\/,"")}]:[]:n.target.files;if(t.isEmpty(o)||0===o.length)return b||r.clear(),r._showFolderError($),void r._raise("fileselectnone");if(r._resetErrors(),u=o.length,s=r._getFileCount(r.isUploadable?r.getFileStack().length+u:u),r.maxFileCount>0&&s>r.maxFileCount){if(!r.autoReplace||u>r.maxFileCount)return c=r.autoReplace&&u>r.maxFileCount?u:s,a=r.msgFilesTooMany.replace("{m}",r.maxFileCount).replace("{n}",c),r.isError=(d=a,f=null,p=null,h=null,m=e.extend(!0,{},r._getOutData({},{},w),{id:p,index:h}),g={id:p,index:h,file:f,files:w},r.isUploadable?r._showUploadError(d,m):r._showError(d,g)),r.$captionContainer.find(".kv-caption-icon").hide(),r._setCaption("",!0),void r.$container.removeClass("file-input-new file-input-ajax-new");s>r.maxFileCount&&r._resetPreviewThumbs(b)}else!b||C?(r._resetPreviewThumbs(!1),C&&r.clearStack()):!b||0!==x||r.previewCache.count()&&!r.overwriteInitial||r._resetPreviewThumbs(!0);r.isPreviewable?r._readFiles(o):r._updateFileDetails(1),r._showFolderError($)}},_abort:function(t){var n,r=this;return!(!r.ajaxAborted||"object"!=typeof r.ajaxAborted||void 0===r.ajaxAborted.message)&&((n=e.extend(!0,{},r._getOutData(),t)).abortData=r.ajaxAborted.data||{},n.abortMessage=r.ajaxAborted.message,r.cancel(),r._setProgress(101,r.$progress,r.msgCancelled),r._showUploadError(r.ajaxAborted.message,n,"filecustomerror"),!0)},_resetFileStack:function(){var t=this,n=0,r=[],i=[];t._getThumbs().each(function(){var o=e(this),a=o.attr("data-fileindex"),s=t.filestack[a];-1!==a&&(void 0!==s?(r[n]=s,i[n]=t._getFileName(s),o.attr({id:t.previewInitId+"-"+n,"data-fileindex":n}),n++):o.attr({"data-fileindex":"-1"}))}),t.filestack=r,t.filenames=i},clearStack:function(){return this.filestack=[],this.filenames=[],this.$element},updateStack:function(e,t){return this.filestack[e]=t,this.filenames[e]=this._getFileName(t),this.$element},addToStack:function(e){return this.filestack.push(e),this.filenames.push(this._getFileName(e)),this.$element},getFileStack:function(e){return this.filestack.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},getFilesCount:function(){var e=this.isUploadable?this.getFileStack().length:this.$element.get(0).files.length;return this._getFileCount(e)},lock:function(){var e=this;return e._resetErrors(),e.disable(),e.showRemove&&t.addCss(e.$container.find(".fileinput-remove"),"hide"),e.showCancel&&e.$container.find(".fileinput-cancel").removeClass("hide"),e._raise("filelock",[e.filestack,e._getExtraData()]),e.$element},unlock:function(e){var n=this;return void 0===e&&(e=!0),n.enable(),n.showCancel&&t.addCss(n.$container.find(".fileinput-cancel"),"hide"),n.showRemove&&n.$container.find(".fileinput-remove").removeClass("hide"),e&&n._resetFileStack(),n._raise("fileunlock",[n.filestack,n._getExtraData()]),n.$element},cancel:function(){var t,n=this,r=n.ajaxRequests,i=r.length;if(i>0)for(t=0;t<i;t+=1)n.cancelling=!0,r[t].abort();return n._setProgressCancelled(),n._getThumbs().each(function(){var t=e(this),r=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==n.filestack[r]&&(t.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),t.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),n.unlock()}),n.$element},clear:function(){var n,r=this;if(r._raise("fileclear"))return r.$btnUpload.removeAttr("disabled"),r._getThumbs().find("video,audio,img").each(function(){t.cleanMemory(e(this))}),r._resetUpload(),r.clearStack(),r._clearFileInput(),r._resetErrors(!0),r._hasInitialPreview()?(r._showFileIcon(),r._resetPreview(),r._initPreviewActions(),r.$container.removeClass("file-input-new")):(r._getThumbs().each(function(){r._clearObjects(e(this))}),r.isUploadable&&(r.previewCache.data={}),r.$preview.html(""),n=!r.overwriteInitial&&r.initialCaption.length>0?r.initialCaption:"",r.$caption.html(n),r.$caption.attr("title",""),t.addCss(r.$container,"file-input-new"),r._validateDefaultPreview()),0===r.$container.find(t.FRAMES).length&&(r._initCaption()||r.$captionContainer.find(".kv-caption-icon").hide()),r._hideFileIcon(),r._raise("filecleared"),r.$captionContainer.focus(),r._setFileDropZoneTitle(),r.$element},reset:function(){var e=this;if(e._raise("filereset"))return e._resetPreview(),e.$container.find(".fileinput-filename").text(""),t.addCss(e.$container,"file-input-new"),(e.$preview.find(t.FRAMES).length||e.isUploadable&&e.dropZoneEnabled)&&e.$container.removeClass("file-input-new"),e._setFileDropZoneTitle(),e.clearStack(),e.formdata={},e.$element},disable:function(){return this.isDisabled=!0,this._raise("filedisabled"),this.$element.attr("disabled","disabled"),this.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),this.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),this._initDragDrop(),this.$element},enable:function(){return this.isDisabled=!1,this._raise("fileenabled"),this.$element.removeAttr("disabled"),this.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),this.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),this._initDragDrop(),this.$element},upload:function(){var n,r,i,o=this,a=o.getFileStack().length,s=!e.isEmptyObject(o._getExtraData());if(o.isUploadable&&!o.isDisabled)if(o.minFileCount>0&&o._getFileCount(a)<o.minFileCount)o._noFilesError({});else if(o._resetUpload(),0!==a||s)if(o.$progress.removeClass("hide"),o.uploadCount=0,o.uploadStatus={},o.uploadLog=[],o.lock(),o._setProgress(2),0===a&&s)o._uploadExtraOnly();else{if(i=o.filestack.length,o.hasInitData=!1,!o.uploadAsync)return o._uploadBatch(),o.$element;for(r=o._getOutData(),o._raise("filebatchpreupload",[r]),o.fileBatchCompleted=!1,o.uploadCache={content:[],config:[],tags:[],append:!0},o.uploadAsyncCount=o.getFileStack().length,n=0;n<i;n++)o.uploadCache.content[n]=null,o.uploadCache.config[n]=null,o.uploadCache.tags[n]=null;for(o.$preview.find(".file-preview-initial").removeClass(t.SORT_CSS),o._initSortable(),o.cacheInitialPreview=o.getPreview(),n=0;n<i;n++)void 0!==o.filestack[n]&&o._uploadSingle(n,o.filestack,!0)}else o._showUploadError(o.msgUploadEmpty)},destroy:function(){var t=this.$form,n=this.$container,r=this.$element,i=this.namespace;return e(document).off(i),e(window).off(i),t&&t.length&&t.off(i),r.insertBefore(n).off(i).removeData(),n.off().remove(),r},refresh:function(t){var n=this.$element;return t=t?e.extend(!0,{},this.options,t):this.options,this.destroy(),n.fileinput(t),n.val()&&n.trigger("change.fileinput"),n},zoom:function(n){var r=e("#"+n),i=this.$modal;r.length?(t.initModal(i),i.html(this._getModalContent()),this._setZoomContent(r),i.modal("show"),this._initZoomButtons()):this._log('Cannot zoom to detailed preview! Invalid frame with id: "'+n+'".')},getPreview:function(){return{content:this.initialPreview,config:this.initialPreviewConfig,tags:this.initialPreviewThumbTags}}},e.fn.fileinput=function(r){if(t.hasFileAPISupport()||t.isIE(9)){var i=Array.apply(null,arguments),o=[];switch(i.shift(),this.each(function(){var a,s=e(this),l=s.data("fileinput"),c="object"==typeof r&&r,u=c.theme||s.data("theme"),d={},f={},p=c.language||s.data("language")||e.fn.fileinput.defaults.language||"en";l||(u&&(f=e.fn.fileinputThemes[u]||{}),"en"===p||t.isEmpty(e.fn.fileinputLocales[p])||(d=e.fn.fileinputLocales[p]||{}),a=e.extend(!0,{},e.fn.fileinput.defaults,f,e.fn.fileinputLocales.en,d,c,s.data()),l=new n(this,a),s.data("fileinput",l)),"string"==typeof r&&o.push(l[r].apply(l,i))}),o.length){case 0:return this;case 1:return o[0];default:return o}}},e.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-default btn-header-toggle",fullscreen:"btn btn-default",borderless:"btn btn-default",close:"btn btn-default"},preferIconicPreview:!1,preferIconicZoomPreview:!1,allowedPreviewTypes:void 0,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",progressErrorClass:"progress-bar progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;</span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0},e.fn.fileinputLocales.en={fileSingle:"archivo",filePlural:"archivos",browseLabel:"Examinar &hellip;",removeLabel:"Quitar",removeTitle:"Quitar archivos seleccionados",cancelLabel:"Cancelar",cancelTitle:"Abortar la subida en curso",uploadLabel:"Subir archivo",uploadTitle:"Subir archivos seleccionados",msgNo:"No",msgNoFilesSelected:"No hay archivos seleccionados",msgCancelled:"Cancelado",msgZoomModalHeading:"Vista previa detallada",msgSizeTooSmall:'El archivo "{name}" (<b>{size} KB</b>) es demasiado pequeo y debe ser mayor de <b>{minSize} KB</b>.',msgSizeTooLarge:'El archivo "{name}" (<b>{size} KB</b>) excede el tamao mximo permitido de <b>{maxSize} KB</b>.',msgFilesTooLess:"Debe seleccionar al menos <b>{n}</b> {files} a cargar.",msgFilesTooMany:"El nmero de archivos seleccionados a cargar <b>({n})</b> excede el lmite mximo permitido de <b>{m}</b>.",msgFileNotFound:'Archivo "{name}" no encontrado.',msgFileSecured:'No es posible acceder al archivo "{name}" porque estar siendo usado por otra aplicacin o no tengamos permisos de lectura.',msgFileNotReadable:'No es posible acceder al archivo "{name}".',msgFilePreviewAborted:'Previsualizacin del archivo "{name}" cancelada.',msgFilePreviewError:'Ocurri un error mientras se lea el archivo "{name}".',msgInvalidFileName:'Caracteres no vlidos o no soportados en el nombre de archivo "{name}".',msgInvalidFileType:'Tipo de archivo no vlido para "{name}". Slo se permiten archivos de tipo "{types}".',msgInvalidFileExtension:'Extensin de archivo no vlido para "{name}". Slo se permiten archivos "{extensions}".',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"La carga de archivos se ha cancelado",msgUploadThreshold:"Procesando...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"No existen datos vlidos para el envo.",msgValidationError:"Error de validacin",msgLoading:"Subiendo archivo {index} de {files} &hellip;",msgProgress:"Subiendo archivo {index} de {files} - {name} - {percent}% completado.",msgSelected:"{n} {files} seleccionado(s)",msgFoldersNotAllowed:"Arrastre y suelte nicamente archivos. Omitida(s) {n} carpeta(s).",msgImageWidthSmall:'El ancho de la imagen "{name}" debe ser de al menos {size} px.',msgImageHeightSmall:'La altura de la imagen "{name}" debe ser de al menos {size} px.',msgImageWidthLarge:'El ancho de la imagen "{name}" no puede exceder de {size} px.',msgImageHeightLarge:'La altura de la imagen "{name}" no puede exceder de {size} px.',msgImageResizeError:"No se pudieron obtener las dimensiones de la imagen para cambiar el tamao.",msgImageResizeException:"Error al cambiar el tamao de la imagen.<pre>{errors}</pre>",msgAjaxError:"Algo ha ido mal con la operacin {operation}. Por favor, intntelo de nuevo mas tarde.",msgAjaxProgressError:"La operacin {operation} ha fallado",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Arrastre y suelte aqu los archivos &hellip;",dropZoneClickTitle:"<br>(o haga clic para seleccionar {files})",fileActionSettings:{removeTitle:"Eliminar archivo",uploadTitle:"Subir archivo",zoomTitle:"Ver detalles",dragTitle:"Mover / Reordenar",indicatorNewTitle:"No subido todava",indicatorSuccessTitle:"Subido",indicatorErrorTitle:"Error al subir",indicatorLoadingTitle:"Subiendo..."},previewZoomButtonTitles:{prev:"Ver archivo anterior",next:"Ver archivo siguiente",toggleheader:"Mostrar encabezado",fullscreen:"Mostrar a pantalla completa",borderless:"Activar el modo sin bordes",close:"Cerrar vista detallada"}},e.fn.fileinput.Constructor=n,e(document).ready(function(){var t=e("input.file[type=file]");t.length&&t.fileinput()})});var dashboardApp=angular.module("dashboardApp",["ngRoute","ngAnimate","ui.bootstrap","ui.tinymce"]);function RUTAS(e,t){e.when("/",{templateUrl:CONST.URL("principal/view/resumen")}).when("/personas",{templateUrl:CONST.URL("principal/view/adm_persona"),controller:"personas_ctrl"}).when("/usuarios",{templateUrl:CONST.URL("principal/view/adm_usuario"),controller:"usuarios_ctrl"}).when("/divipol/pais",{templateUrl:CONST.URL("principal/view/adm_pais"),controller:"paises_ctrl"}).when("/divipol/departamento",{templateUrl:CONST.URL("principal/view/adm_depto"),controller:"deptos_ctrl"}).when("/divipol/municipio",{templateUrl:CONST.URL("principal/view/adm_mpio"),controller:"mpios_ctrl"}).when("/identificacion",{templateUrl:CONST.URL("principal/view/adm_tipo_doc"),controller:"tpdoc_ctrl"}).when("/sedes",{templateUrl:CONST.URL("principal/view/adm_sede"),controller:"sedes_ctrl"}).when("/ciclos",{templateUrl:CONST.URL("principal/view/adm_ciclo"),controller:"ciclos_ctrl"}).when("/programas",{templateUrl:CONST.URL("principal/view/adm_programa"),controller:"programas_ctrl"}).when("/modalidades",{templateUrl:CONST.URL("principal/view/adm_modalidad"),controller:"modalidades_ctrl"}).when("/calificaciones",{templateUrl:CONST.URL("principal/view/adm_calificacion"),controller:"calificaciones_ctrl"}).when("/lineas",{templateUrl:CONST.URL("principal/view/adm_lineas"),controller:"lineas_ctrl"}).when("/lineas/sublineas",{templateUrl:CONST.URL("principal/view/adm_sublineas"),controller:"sublineas_ctrl"}).when("/grupos",{templateUrl:CONST.URL("principal/view/adm_grupos"),controller:"grupos_ctrl"}).when("/grupos/semilleros",{templateUrl:CONST.URL("principal/view/adm_semilleros"),controller:"semilleros_ctrl"}).when("/works",{templateUrl:CONST.URL("principal/view/adm_works"),controller:"works_ctrl"}).otherwise({templateUrl:CONST.URL("principal/view/404")}),t.html5Mode(!0)}function calificaciones_ctrl(e,t,n,r){e.calificacion={};var i=$("#lista-calificacion").dataTable({processing:!0,serverSide:!0,responsive:!0,ajax:{url:CONST.URL("principal/calificacion_listar"),type:"POST"},columns:[{data:"calificacion",orderable:!1},{data:"min",orderable:!1,searchable:!1},{data:"max",orderable:!1,searchable:!1},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_calificacion"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_calificacion"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_calificacion").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.calificacion=Object.assign({},r),e.adm_calificacion()})}),$(t).find("button.drop_calificacion").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el rango de calificacion: "+r.calificacion+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_calificacion=function(t){e.calificacion=t||e.calificacion,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_calificacion"),size:"sm",controller:"calificacion_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("principal/calificacion_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_calificacion").unbind("click").on("click",function(e){i.fnDraw(!1)})}function calificacion_ctrl(e,t,n){e.calificacion=e.calificacion||{},e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.calificacion);t({url:CONST.URL("principal/calificacion_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.calificacion.id_escala=t.data.data,n.close(e.calificacion)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")}}function ciclos_ctrl(e,t,n,r){e.ciclo={};var i=$("#lista-ciclo").dataTable({processing:!0,serverSide:!0,responsive:!0,order:[[1,"asc"]],ajax:{url:CONST.URL("principal/ciclo_listar"),type:"POST"},columns:[{data:"abr"},{data:"des_nivel"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_ciclo"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_ciclo"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_ciclo").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.ciclo=Object.assign({},r),e.adm_ciclo()})}),$(t).find("button.drop_ciclo").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el tipo de documento: "+r.nom_doc+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_ciclo=function(t){e.ciclo=t||e.ciclo,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_ciclo"),size:"sm",controller:"ciclo_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("principal/ciclo_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_ciclo").unbind("click").on("click",function(e){i.fnDraw(!1)})}function ciclo_ctrl(e,t,n){e.ciclo=e.ciclo||{},e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.ciclo);t({url:CONST.URL("principal/ciclo_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.ciclo.id_nivel=t.data.data,n.close(e.ciclo)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")}}function paises(e,t,n,r){e.pais={};var i=$("#lista-pais").dataTable({processing:!0,serverSide:!0,responsive:!0,order:[[1,"asc"]],ajax:{url:CONST.URL("principal/pais_listar"),type:"POST"},columns:[{data:"abrev"},{data:"nom_pais"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_pais"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_pais"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_pais").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.pais=Object.assign({},r),e.adm_pais()})}),$(t).find("button.drop_pais").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el pais: "+r.nom_pais+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_pais=function(t){e.pais=t||e.pais,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_pais"),size:"sm",controller:"pais_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("principal/pais_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_pais").unbind("click").on("click",function(e){i.fnDraw(!1)})}function pais(e,t,n){e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.pais);t({url:CONST.URL("principal/pais_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.pais.cod_pais=t.data.data,n.close(e.pais)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")}}function deptos(e,t,n,r){e.depto={};var i=$("#lista-depto").dataTable({processing:!0,serverSide:!0,responsive:!0,order:[[0,"asc"],[1,"asc"]],ajax:{url:CONST.URL("principal/depto_listar"),type:"POST"},columns:[{data:"nom_pais"},{data:"nom_dep"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_depto"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_depto"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_depto").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.depto=Object.assign({},r),e.adm_depto()})}),$(t).find("button.drop_depto").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el departamento: "+r.nom_depto+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_depto=function(t){e.depto=t||e.depto,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_depto"),size:"sm",controller:"depto_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("principal/depto_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_depto").unbind("click").on("click",function(e){i.fnDraw(!1)})}function depto(e,t,n,r,i){e.depto=e.depto||{},e.ok=function(){e.SAVING=!0;var n=Object.assign({},e.depto);t({url:CONST.URL("principal/depto_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(n)}).then(function(t){Notify(t.data),t.data.error||(e.depto.cod_dep=t.data.data,r.close(e.depto)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){r.dismiss("cancel")},i(function(){$("#depto_cod_pais").select2({placeholder:"Buscar pais...",minimumInputLength:-1,multiple:!1,ajax:{url:CONST.URL("principal/buscar2pais"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("principal/buscar2pais"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid">'+e.nom_pais.capitalize()+"</div>"},formatSelection:function(t){return i(function(){console.log("Seleccionando: ",t),e.depto.cod_pais=t.id}),t.nom_pais}})}),e.$watch("depto.cod_pais",function(e,t){console.log("Waching depto.pais:",e),$("#depto_cod_pais").select2("val",e)}),e.crear_2_pais=function(t){e.pais=t||e.pais,modalInstance=n.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_pais"),size:"sm",controller:"pais_ctrl",scope:e}),modalInstance.result.then(function(t){console.log("Retorno",t),e.depto.cod_pais=t.cod_pais},function(){console.info("Modal dismissed at: "+new Date)})}}function mpios(e,t,n,r){e.mpio={};var i=$("#lista-mpio").dataTable({processing:!0,serverSide:!0,responsive:!0,order:[[0,"asc"],[1,"asc"],[2,"asc"]],ajax:{url:CONST.URL("principal/mpio_listar"),type:"POST"},columns:[{data:"nom_pais"},{data:"nom_dep"},{data:"nom_municipio"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_mpio"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_mpio"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_mpio").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.mpio=Object.assign({},r),e.adm_mpio()})}),$(t).find("button.drop_mpio").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el municipio: "+r.nom_municipio+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_mpio=function(t){e.mpio=t||e.mpio,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_mpio"),size:"sm",controller:"mpio_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("principal/mpio_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_mpio").unbind("click").on("click",function(e){i.fnDraw(!1)})}function mpio(e,t,n,r,i){e.mpio=e.mpio||{},e.ok=function(){e.SAVING=!0;var n=Object.assign({},e.mpio);t({url:CONST.URL("principal/mpio_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(n)}).then(function(t){Notify(t.data),t.data.error||(e.mpio.cod_municipio=t.data.data,r.close(e.mpio)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){r.dismiss("cancel")},i(function(){$("#mpio_cod_dep").select2({placeholder:"Buscar departamento...",minimumInputLength:-1,multiple:!1,ajax:{url:CONST.URL("principal/buscar2depto"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("principal/buscar2depto"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid">'+e.nom_dep.capitalize()+"</div>"},formatSelection:function(t){return i(function(){e.mpio.cod_dep=t.id}),t.nom_dep}})}),e.$watch("mpio.cod_dep",function(e,t){$("#mpio_cod_dep").select2("val",e)}),e.crear_2_depto=function(t){e.depto=t||e.depto,modalInstance=n.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_depto"),size:"sm",controller:"depto_ctrl",scope:e}),modalInstance.result.then(function(t){console.log("Retorno",t),e.mpio.cod_dep=t.cod_dep},function(){console.info("Modal dismissed at: "+new Date)})}}function grupos_ctrl(e,t,n,r){e.grupo={};var i=$("#lista-grupos").dataTable({processing:!0,serverSide:!0,order:[[0,"asc"]],ajax:{url:CONST.URL("investigacion/grupo_listar"),type:"POST"},columns:[{data:"sigla_grupo"},{data:"nom_grupo"},{data:"full_name"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_grupo"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_grupo"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_grupo").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.grupo=Object.assign({},r),e.adm_grupo()})}),$(t).find("button.drop_grupo").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el grupo: "+r.sigla_grupo+"?. Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_grupo=function(t){e.grupo=t||e.grupo,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_grupos"),size:"lg",controller:"grupo_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("investigacion/grupo_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_grupos").unbind("click").on("click",function(e){i.fnDraw(!1)})}function grupo_ctrl(e,t,n,r,i){e.tinymceOptions={plugins:"table lists link"},e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.grupo);t({url:CONST.URL("investigacion/grupo_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.grupo.id_grupo=t.data.data,n.close(e.grupo)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")},r(function(){$("#grupo_director_id").select2({placeholder:"Buscar persona...",minimumInputLength:2,multiple:!1,ajax:{url:CONST.URL("personas/buscar_persona"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("personas/buscar_persona"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid"><b>'+e.full_name.capitalize()+'</b></div><div class="row-fluid"><small><small>'+e.id+"</small></small></div>"},formatSelection:function(t){return r(function(){e.grupo.director_id=$("#grupo_director_id").val()}),t.full_name}})}),e.$watch("grupo.director_id",function(e,t){$("#grupo_director_id").select2("val",e)}),e.crear_persona=function(){e.persona={},modalInstance=i.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_persona"),controller:"persona_ctrl",scope:e}),modalInstance.result.then(function(t){e.grupo.director_id=t.ide_persona},function(){console.info("Modal dismissed at: "+new Date)})}}function lineas_ctrl(e,t,n,r){e.linea={};var i=$("#lista-linea").dataTable({processing:!0,serverSide:!0,responsive:!0,order:[[0,"asc"],[1,"asc"]],ajax:{url:CONST.URL("investigacion/linea_listar"),type:"POST"},columns:[{data:"nom_unidad"},{data:"abr"},{data:"nom_linea"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_linea"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_linea"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_linea").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.linea=Object.assign({},r),e.adm_linea()})}),$(t).find("button.drop_linea").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar la linea: "+r.nom_linea+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_linea=function(t){e.linea=t||e.linea,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_lineas"),size:"md",controller:"linea_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("investigacion/linea_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_linea").unbind("click").on("click",function(e){i.fnDraw(!1)})}function linea_ctrl(e,t,n,r){e.linea=e.linea||{},e.tinymceOptions={toolbar1:"alignleft aligncenter alignright alignjustify  | numlist bullist",plugins:"lists",menubar:"format edit"},e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.linea);t({url:CONST.URL("investigacion/linea_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.linea.id_linea=t.data.data,n.close(e.linea)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")},r(function(){$("#linea_programa_id").select2({placeholder:"Buscar programa...",minimumInputLength:0,multiple:!1,ajax:{url:CONST.URL("principal/find2programa"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("principal/find2programa"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid"><b>'+e.des_programa+'</b></div><div class="row-fluid"><small><small>'+e.des_nivel.capitalize()+"</small></small></div>"},formatSelection:function(t){return r(function(){e.linea.programa_id=t.id}),t.des_programa}})}),e.$watch("linea.programa_id",function(e,t){$("#linea_programa_id").select2("val",e)})}function menu(e,t,n,r,i){e.user=n.CONST.USER;$("body").toggleClass("oculto"),t.get(CONST.URL("principal/inet")).then(function(e){PNotify.removeAll()},function(e){PNotify.removeAll()}),new PNotify({title:"Un momento por favor",text:'<img src="'+CONST.URL("assets/img/secure_loading_en.gif")+'" class="img-responsive pull-left">Verificando conexin con servidor. Para poder continuar debe esperar a que se cierre esta notificacin.',styling:"bootstrap3",type:"success",addclass:"stack-bottomleft",delay:18e4}),e.cambioClave=function(){r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_clave"),size:"sm",controller:"clave_ctrl",scope:e}).result.then(function(e){console.log(e)},function(){console.info("Modal dismissed at: "+new Date)})}}function clave(e,t,n,r,i){var o={uploadUrl:CONST.URL("usuarios/avatar"),overwriteInitial:!0,maxFileSize:1024,showClose:!1,showRemove:!1,showCaption:!1,showBrowse:!1,showUpload:!1,showCancel:!1,browseOnZoneClick:!0,defaultPreviewContent:'<img src="'+CONST.URL("assets/img/avatars/"+e.user.avatar)+'" alt="Avatar" class="momo-avatar"><h6 class="text-muted">Click aqu para cambiar (1Mb Max)</h6>',allowedFileExtensions:["jpg","png","gif","jpeg"],fileActionSettings:{showUpload:!1,showZoom:!1,showRemove:!1},previewTemplates:{image:'<img src="{data}" class="kv-preview-data file-preview-image momo-avatar" title="{caption}" alt="{caption}" {style}>',other:"{footer}"}};i(function(){$("#input-user").fileinput(o),$("#input-user").on("fileuploaded",function(t,n,r,i){setTimeout(function(){$("#input-user").fileinput("reset"),$("#input-user").fileinput("refresh",{defaultPreviewContent:'<img src="'+CONST.URL("assets/img/avatars/"+e.user.avatar)+'" alt="Avatar" class="momo-avatar"><h6 class="text-muted">Click aqu para cambiar (1Mb Max)</h6>'})},1e3)}).on("fileuploaded",function(t,n,r,o){i(function(){e.user.avatar=n.response.data})}).on("fileloaded",function(e,t,n,r,i){$("#input-user").fileinput("upload")})}),e.ok=function(){e.SAVING=!0;var n=Object.assign({},e.usuario);t({url:CONST.URL("usuarios/clave"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(n)}).then(function(t){Notify(t.data),t.data.error||r.close(e.usuario),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){r.dismiss("cancel")}}function modalidades_ctrl(e,t,n,r){e.modalidad={};var i=$("#lista-modalidad").dataTable({processing:!0,serverSide:!0,responsive:!0,order:[[0,"asc"]],ajax:{url:CONST.URL("principal/modalidad_listar"),type:"POST"},columns:[{data:"descripcion"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_modalidad"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_modalidad"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_modalidad").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.modalidad=Object.assign({},r),e.adm_modalidad()})}),$(t).find("button.drop_modalidad").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar la modalidad: "+r.descripcion+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_modalidad=function(t){e.modalidad=t||e.modalidad,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_modalidad"),size:"sm",controller:"modalidad_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("principal/modalidad_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_modalidad").unbind("click").on("click",function(e){i.fnDraw(!1)})}function modalidad_ctrl(e,t,n){e.modalidad=e.modalidad||{},e.coleccion=[],e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.modalidad);t({url:CONST.URL("principal/modalidad_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.modalidad.id_clas=t.data.data,n.close(e.modalidad)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")},t({url:CONST.URL("principal/get_coleccion"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"}).then(function(t){t.data.error?Notify(t.data):e.coleccion=t.data.data},function(e){console.log(e)})}function personas(e,t,n,r){e.persona={};var i=$("#lista-personas").dataTable({processing:!0,serverSide:!0,order:[[1,"asc"]],ajax:{url:CONST.URL("personas/listar"),type:"POST"},columns:[{data:"ide_persona"},{data:"full_name"},{data:"cel_persona"},{data:"email_persona"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<button type="button" class="btn btn-primary btn-xs admin_persona"><li class="glyphicon glyphicon-edit"></li></button>'}],rowCallback:function(t,n){$(t).find("button.admin_persona").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),r(function(){e.persona=Object.assign({},n),e.persona.fec_expedicion_doc=e.persona.fec_expedicion_doc?e.persona.fec_expedicion_doc.toDate():null,e.persona.fech_nac_persona=e.persona.fech_nac_persona?e.persona.fech_nac_persona.toDate():null,e.adm_persona()})})}});e.adm_persona=function(t){e.persona=t||e.persona,n.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_persona"),controller:"persona_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},$(".actualizar_personas").unbind("click").on("click",function(e){i.fnDraw(!1)})}function persona(e,t,n,r){e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.persona);r.fec_expedicion_doc=r.fec_expedicion_doc?r.fec_expedicion_doc.getSimple():"",r.fech_nac_persona=r.fech_nac_persona?r.fech_nac_persona.getSimple():"",t({url:CONST.URL("personas/guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||n.close(e.persona),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")},e.findPersona=function(){if(e.persona.uid&&e.persona.ide_persona.length)return!0;e.SAVING=!0,t({url:CONST.URL("personas/find"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param({term:e.persona.ide_persona})}).then(function(t){console.log(t.data),e.persona=t.data.data?t.data.data:e.persona,e.persona.fec_expedicion_doc=e.persona.fec_expedicion_doc?e.persona.fec_expedicion_doc.toDate():null,e.persona.fech_nac_persona=e.persona.fech_nac_persona?e.persona.fech_nac_persona.toDate():null,e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},r(function(){$("#persona_cod_mun_exp, #persona_cod_mun_nacimiento").select2({placeholder:"Buscar Municipio...",minimumInputLength:2,multiple:!1,ajax:{url:CONST.URL("personas/ajax_buscar_mpio"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("personas/ajax_buscar_mpio"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid"><b>'+e.nom_municipio.capitalize()+'</b></div><div class="row-fluid"><small><small>'+e.ref.capitalize()+"</small></small></div>"},formatSelection:function(t){return $(this)[0].element[0].id.equals("persona_cod_mun_nacimiento")?r(function(){e.persona.cod_mun_nacimiento=$("#persona_cod_mun_nacimiento").val()}):r(function(){e.persona.cod_mun_exp=$("#persona_cod_mun_exp").val()}),t.nombre}})}),e.$watch("persona.cod_mun_nacimiento",function(e,t){$("#persona_cod_mun_nacimiento").select2("val",e)}),e.$watch("persona.cod_mun_exp",function(e,t){$("#persona_cod_mun_exp").select2("val",e)})}function programas_ctrl(e,t,n,r){e.programa={};var i=$("#lista-programa").dataTable({processing:!0,serverSide:!0,responsive:!0,order:[[0,"asc"],[1,"asc"]],ajax:{url:CONST.URL("principal/programa_listar"),type:"POST"},columns:[{data:"des_nivel"},{data:"des_programa"},{data:"abr"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_programa"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_programa"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_programa").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.programa=Object.assign({},r),e.adm_programa()})}),$(t).find("button.drop_programa").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el tipo de documento: "+r.nom_doc+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_programa=function(t){e.programa=t||e.programa,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_programa"),size:"sm",controller:"programa_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("principal/programa_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_programa").unbind("click").on("click",function(e){i.fnDraw(!1)})}function programa_ctrl(e,t,n){e.programa=e.programa||{},e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.programa);t({url:CONST.URL("principal/ciclo_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.programa.id_programa=t.data.data,n.close(e.programa)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")}}function sedes_ctrl(e,t,n,r){e.sede={};var i=$("#lista-sede").dataTable({processing:!0,serverSide:!0,responsive:!0,order:[[0,"asc"],[1,"asc"],[2,"asc"]],ajax:{url:CONST.URL("principal/sede_listar"),type:"POST"},columns:[{data:"nom_municipio"},{data:"nom_sede"},{data:"sigla_sede"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_sede"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_sede"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_sede").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.sede=Object.assign({},r),e.adm_sede()})}),$(t).find("button.drop_sede").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el tipo de documento: "+r.nom_doc+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_sede=function(t){e.sede=t||e.sede,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_sede"),size:"sm",controller:"sede_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("principal/sede_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_sede").unbind("click").on("click",function(e){i.fnDraw(!1)})}function sede_ctrl(e,t,n,r){e.sede=e.sede||{},e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.sede);t({url:CONST.URL("principal/sede_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.sede.id_sede=t.data.data,n.close(e.sede)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")},r(function(){$("#sede_municipio_id").select2({placeholder:"Buscar Municipio...",minimumInputLength:2,multiple:!1,ajax:{url:CONST.URL("principal/ajax_buscar_mpio"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("personas/ajax_buscar_mpio"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid"><b>'+e.nom_municipio.capitalize()+'</b></div><div class="row-fluid"><small><small>'+e.ref.capitalize()+"</small></small></div>"},formatSelection:function(t){return r(function(){e.municipio_id=t.id}),t.nombre}})}),e.$watch("sede.municipio_id",function(e,t){$("#sede_municipio_id").select2("val",e)})}function semilleros_ctrl(e,t,n,r){e.semillero={};var i=$("#lista-semillero").dataTable({processing:!0,serverSide:!0,order:[[0,"asc"]],ajax:{url:CONST.URL("investigacion/semillero_listar"),type:"POST"},columns:[{data:"nom_semillero"},{data:"sigla_semillero"},{data:"nom_grupo"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_semillero"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_semillero"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_semillero").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.semillero=Object.assign({},r),e.adm_semillero()})}),$(t).find("button.drop_semillero").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el semillero: "+r.sigla_semillero+"?. Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_semillero=function(t){e.semillero=t||e.semillero,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_semilleros"),size:"sm",controller:"semillero_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("investigacion/semillero_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_semillero").unbind("click").on("click",function(e){i.fnDraw(!1)})}function semillero_ctrl(e,t,n,r){e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.semillero);t({url:CONST.URL("investigacion/semillero_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.semillero.id_semillero=t.data.data,n.close(e.semillero)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")},r(function(){$("#semillero_grupo_id").select2({placeholder:"Buscar grupo...",minimumInputLength:0,multiple:!1,ajax:{url:CONST.URL("investigacion/find2grupo"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("investigacion/find2grupo"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid">'+e.nom_grupo+'</div><div class="row-fluid"><small><small>'+e.sigla_grupo+"</small></small></div>"},formatSelection:function(t){return r(function(){e.semillero.grupo_id=$("#semillero_grupo_id").val()}),t.nom_grupo}})}),e.$watch("semillero.grupo_id",function(e,t){$("#semillero_grupo_id").select2("val",e)})}function sublineas_ctrl(e,t,n,r){e.sublinea={};var i=$("#lista-sublinea").dataTable({processing:!0,serverSide:!0,responsive:!0,order:[[0,"asc"],[1,"asc"]],ajax:{url:CONST.URL("investigacion/sublinea_listar"),type:"POST"},columns:[{data:"nom_linea",visible:!1,orderable:!1},{data:"des_programa",orderable:!1},{data:"des_sublinea",orderable:!1},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_sublinea"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_sublinea"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_sublinea").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.sublinea=Object.assign({},r),e.adm_sublinea()})}),$(t).find("button.drop_sublinea").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar la sub-linea: "+r.des_sublinea+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})},drawCallback:function(e){var t=this.api(),n=t.rows({page:"current"}).nodes(),r=null;t.column(0,{page:"current"}).data().each(function(e,t){r!==e&&($(n).eq(t).before('<tr class="success"><td colspan="3"><strong>LINEA: '+e+"</strong></td></tr>"),r=e)})}});e.adm_sublinea=function(t){e.sublinea=t||e.sublinea,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_sublineas"),size:"md",controller:"sublinea_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("investigacion/sublinea_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_sublinea").unbind("click").on("click",function(e){i.fnDraw(!1)})}function sublinea_ctrl(e,t,n,r){e.sublinea=e.sublinea||{},e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.sublinea);t({url:CONST.URL("investigacion/sublinea_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.sublinea.id_sublinea=t.data.data,n.close(e.sublinea)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")},r(function(){$("#sublinea_linea_id").select2({placeholder:"Buscar linea...",minimumInputLength:0,multiple:!1,ajax:{url:CONST.URL("investigacion/find2linea"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("investigacion/find2linea"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid">'+e.nom_linea+'</div><div class="row-fluid"><small><small>'+e.abr+" - "+e.nom_unidad.capitalize()+"</small></small></div>"},formatSelection:function(t){return r(function(){e.sublinea.linea_id=t.id}),t.nom_linea}})}),e.$watch("linea.programa_id",function(e,t){$("#linea_programa_id").select2("val",e)})}function tpdoc_ctrl(e,t,n,r){e.documento={};var i=$("#lista-identificacion").dataTable({processing:!0,serverSide:!0,responsive:!0,order:[[1,"asc"]],ajax:{url:CONST.URL("principal/doc_listar"),type:"POST"},columns:[{data:"siglas"},{data:"nom_doc"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_documento"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_documento"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,r){$(t).find("button.admin_documento").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.documento=Object.assign({},r),e.adm_identificacion()})}),$(t).find("button.drop_documento").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el tipo de documento: "+r.nom_doc+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_identificacion=function(t){e.documento=t||e.documento,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_doc"),size:"sm",controller:"doc_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("principal/doc_eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_identificacion").unbind("click").on("click",function(e){i.fnDraw(!1)})}function doc_ctrl(e,t,n){e.documento=e.documento||{},e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.documento);t({url:CONST.URL("principal/doc_guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.documento.tipo_doc=t.data.data,n.close(e.documento)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")}}function usuarios(e,t,n,r){e.usuario={};var i=$("#lista-usuarios").dataTable({processing:!0,serverSide:!0,order:[[1,"asc"]],ajax:{url:CONST.URL("usuarios/listar"),type:"POST"},columns:[{data:"login"},{data:"full_name"},{data:"email_persona"},{data:"rol"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_usuario"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_usuario"><li class="glyphicon glyphicon-trash"></li></button></div>'}],rowCallback:function(t,n){$(t).find("button.admin_usuario").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),r(function(){e.usuario=Object.assign({},n),e.adm_usuario()})}),$(t).find("button.drop_usuario").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el usuario: "+n.login+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(n)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_usuario=function(t){e.usuario=t||e.usuario,n.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_usuario"),size:"sm",controller:"usuario_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("usuarios/eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_usuarios").unbind("click").on("click",function(e){i.fnDraw(!1)})}function usuario(e,t,n,r,i){e.usuario.clave=e.usuario.id_usuario?"A":"B",e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.usuario);r.fec_expedicion_doc=r.fec_expedicion_doc?r.fec_expedicion_doc.getSimple():"",r.fech_nac_Usuario=r.fech_nac_Usuario?r.fech_nac_persona.getSimple():"",t({url:CONST.URL("usuarios/guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||n.close(e.usuario),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")},r(function(){$("#usuario_persona_id").select2({placeholder:"Buscar persona...",minimumInputLength:2,multiple:!1,ajax:{url:CONST.URL("personas/buscar_persona"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("personas/buscar_persona"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid"><b>'+e.full_name.capitalize()+'</b></div><div class="row-fluid"><small><small>'+e.id+"</small></small></div>"},formatSelection:function(t){return r(function(){e.usuario.persona_id=$("#usuario_persona_id").val()}),t.full_name}})}),e.$watch("usuario.persona_id",function(e,t){$("#usuario_persona_id").select2("val",e)}),e.crear_persona=function(){e.persona={},modalInstance=i.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_persona"),controller:"persona_ctrl",scope:e}),modalInstance.result.then(function(t){e.usuario.persona_id=t.ide_persona},function(){console.info("Modal dismissed at: "+new Date)})}}function works_ctrl(e,t,n,r){e.work={};var i=$("#lista-work").dataTable({processing:!0,serverSide:!0,responsive:!0,order:[[0,"asc"]],ajax:{url:CONST.URL("investigacion/listar"),type:"POST"},columns:[{data:"titulo"},{class:"text-center",searchable:!1,orderable:!1,data:null,defaultContent:'<div class="btn-group" role="group"><button type="button" class="btn btn-primary btn-xs admin_work"><li class="glyphicon glyphicon-edit"></li></button><button type="button" class="btn btn-danger btn-xs drop_work"><li class="glyphicon glyphicon-trash"></li></button></div>'}],columnDefs:[{render:function(e,t,n){var r;for(var i in n)n[i]=n[i]||"";return"<div class='row'><div class='col-xs-12 text-center'><b>"+n.titulo.toUpperCase()+"</b></div><div class='col-xs-6 text-right'><b>Modalidad:</b> "+n.descripcion.toUpperCase()+"</div><div class='col-xs-6 text-left'><b>Programa:</b> "+n.des_programa.toUpperCase()+"</div></div>"+(n.des_sublinea.length?"<div class='row'><div class='col-xs-6 text-right'><b>Linea: </b>"+n.nom_linea.toUpperCase()+"</div><div class='col-xs-6 text-left'><b>Sub-linea: </b>"+n.des_sublinea.toUpperCase()+"</div></div><div class='row'><div class='col-xs-12 text-center'><b>"+n.nom_grupo.toUpperCase()+"</b></div><div class='col-xs-4 text-right'><b>Sede: </b>"+n.sigla_sede.toUpperCase()+"</div><div class='col-xs-4 text-center'><b>Fecha Inicio: </b>"+n.inicio+"</div><div class='col-xs-4 text-left'><b>Fecha Culminaci&oacute;n: </b>"+n.fin+"</div></div>":"")+"<div class='row'><div class='col-xs-6 text-right'><b>Mencion: </b>"+n.calificacion+" - "+n.mencion+"</div><div class='col-xs-6 text-left'><b>Estado: </b>"+("1"==(r=n.estado)?"<span class='label label-primary'>Propuesta</span>":"2"==r?"<span class='label label-primary'>Viabilizado</span>":"3"==r?"<span class='label label-primary'>Finalizado</span>":"4"==r?"<span class='label label-success'>Publicado</span>":void 0)+"</div></div>"},targets:0}],rowCallback:function(t,r){$(t).find("button.admin_work").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),n(function(){e.work=Object.assign({},r),e.work.inicio=e.work.inicio?e.work.inicio.toDate():null,e.work.fin=e.work.fin?e.work.fin.toDate():null,e.work.calificacion=e.work.calificacion?e.work.calificacion.toNum():null,e.adm_work()})}),$(t).find("button.drop_work").on("click",function(){$(t).parent().find("tr").removeClass("selected"),$(t).addClass("selected"),new PNotify({title:"Confirmacin necesaria",text:"Ests seguro en eliminar el trabajo: "+r.titulo+"?, Este proceso es irreversible.",icon:"glyphicon glyphicon-question-sign",hide:!1,styling:"bootstrap3",confirm:{confirm:!0,buttons:[{text:"Cancelar",addClass:"pull-left",click:function(e){e.remove()}},{text:"Eliminar",click:function(t){t.remove(),e.eliminar(r)}}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}})})}});e.adm_work=function(t){e.work=t||e.work,r.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_works"),size:"super-lg",controller:"work_ctrl",scope:e}).result.then(function(e){i.fnDraw(!1)},function(){console.info("Modal dismissed at: "+new Date)})},e.eliminar=function(e){t({url:CONST.URL("investigacion/eliminar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e)}).then(function(e){Notify(e.data),i.fnDraw(!1)},function(e){console.log(e)})},$(".actualizar_work").unbind("click").on("click",function(e){i.fnDraw(!1)})}function work_ctrl(e,t,n,r,i){e.work=e.work||{},e.tinymceOptions={plugins:"table lists link"},e.work.invest="1"==e.work.invest,e.work.integrantes=[],e.ok=function(){e.SAVING=!0;var r=Object.assign({},e.work);r.inicio=r.inicio?r.inicio.getSimple():null,r.fin=r.fin?r.fin.getSimple():null,t({url:CONST.URL("investigacion/guardar"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(r)}).then(function(t){Notify(t.data),t.data.error||(e.work.id_trabajo=t.data.data,n.close(e.work)),e.SAVING=!1},function(t){console.log(t),e.SAVING=!1})},e.cancel=function(){n.dismiss("cancel")},r(function(){$("#work_director_id").select2({placeholder:"Buscar persona...",minimumInputLength:2,multiple:!1,ajax:{url:CONST.URL("personas/buscar_persona"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("personas/buscar_persona"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid"><b>'+e.full_name.capitalize()+'</b></div><div class="row-fluid"><small><small>'+e.id+"</small></small></div>"},formatSelection:function(t){return r(function(){e.work.director_id=t.id}),t.full_name}}),$("#work_programa_id").select2({placeholder:"Buscar programa...",minimumInputLength:0,multiple:!1,ajax:{url:CONST.URL("principal/find2programa"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("principal/find2programa"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid"><b>'+e.des_programa+'</b></div><div class="row-fluid"><small><small>'+e.des_nivel.capitalize()+"</small></small></div>"},formatSelection:function(t){return r(function(){e.work.programa_id=t.id}),t.des_programa}}),$("#work_grupo_id").select2({placeholder:"Buscar grupo...",minimumInputLength:0,multiple:!1,ajax:{url:CONST.URL("investigacion/find2grupo"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("investigacion/find2grupo"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid">'+e.nom_grupo+'</div><div class="row-fluid"><small><small>'+e.sigla_grupo+"</small></small></div>"},formatSelection:function(t){return r(function(){e.work.grupo_id=t.id}),t.nom_grupo}}).on("change",function(t){r(function(){e.work.semillero_id=null})}),$("#work_semillero_id").select2({placeholder:"Buscar semillero...",minimumInputLength:0,multiple:!1,ajax:{url:CONST.URL("investigacion/find2semillero"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t,grupo_id:$("#work_grupo_id").val()}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("investigacion/find2semillero"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid">'+e.nom_semillero+'</div><div class="row-fluid"><small>'+e.sigla_semillero+"</small></div>"},formatSelection:function(t){return r(function(){e.work.semillero_id=$("#work_semillero_id").val()}),t.nom_semillero}}),$("#work_linea_id").select2({placeholder:"Buscar linea...",minimumInputLength:0,multiple:!1,ajax:{url:CONST.URL("investigacion/find2linea"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("investigacion/find2linea"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid">'+e.nom_linea+'</div><div class="row-fluid"><small><small>'+e.abr+" - "+e.nom_unidad.capitalize()+"</small></small></div>"},formatSelection:function(t){return r(function(){e.work.linea_id=t.id}),t.nom_linea}}),$("#work_sublinea_id").select2({placeholder:"Buscar sub-linea...",minimumInputLength:0,multiple:!1,ajax:{url:CONST.URL("investigacion/find2sublinea"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t,linea_id:$("#work_linea_id").val()}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("investigacion/find2sublinea"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid"><small>'+e.des_sublinea+"</small></div>"},formatSelection:function(t){return r(function(){e.work.sublinea_id=t.id}),t.des_sublinea}})}),e.$watch("work.director_id",function(e,t){$("#work_director_id").select2("val",e)}),e.$watch("work.programa_id",function(e,t){$("#work_programa_id").select2("val",e)}),e.$watch("work.grupo_id",function(e,t){$("#work_grupo_id").select2("val",e)}),e.$watch("work.semillero_id",function(e,t){$("#work_semillero_id").select2("val",e)}),e.$watch("work.linea_id",function(e,t){$("#work_linea_id").select2("val",e)}),e.$watch("work.sublinea_id",function(e,t){$("#work_sublinea_id").select2("val",e)}),e.crear_director=function(){e.persona={},modalInstance=i.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_persona"),controller:"persona_ctrl",scope:e}),modalInstance.result.then(function(t){e.work.director_id=t.ide_persona},function(){console.info("Modal dismissed at: "+new Date)})},e.add_integrante=function(){e.integrante={},modalInstance=i.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_works_integrator"),controller:"integrante_ctrl",size:"sm",scope:e}),modalInstance.result.then(function(t){e.work.integrantes.push(t)},function(){console.info("Modal dismissed at: "+new Date)})},e.drop_integrante=function(n){e.work.integrantes[n].id_integrante?t({url:CONST.URL("investigacion/integrante_delete"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param(e.work.integrantes[n])}).then(function(t){Notify(t.data),t.data.error||e.work.integrantes.splice(n,1)},function(t){console.log(t),e.SAVING=!1}):e.work.integrantes.splice(n,1)},t({url:CONST.URL("investigacion/getModalidades"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"}).then(function(t){e.MDS=t.data,$("#work_clas_id").select2({data:t.data,placeholder:"Seleccionar modalidad..."}).on("change",function(t){r(function(){e.work.clas_id=$("#work_clas_id").select2("data").id,e.work.invest="1"==$("#work_clas_id").select2("data").invest})})},function(t){console.log(t),e.SAVING=!1}),e.work.id_trabajo&&t({url:CONST.URL("investigacion/integrantes"),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:$.param({trabajo_id:e.work.id_trabajo})}).then(function(t){e.work.integrantes=t.data},function(t){console.log(t),e.SAVING=!1})}function integrante_ctrl(e,t,n,r,i){e.integrante=e.integrante||{},e.ok=function(){n.close(e.integrante)},e.cancel=function(){n.dismiss("cancel")},e.crear_investigador=function(){e.persona={},modalInstance=i.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:CONST.URL("principal/view/form_persona"),controller:"persona_ctrl",scope:e}),modalInstance.result.then(function(e){$("#integrante_persona_id").select2("val",e.ide_persona)},function(){console.info("Modal dismissed at: "+new Date)})},r(function(){$("#integrante_persona_id").select2({placeholder:"Buscar persona...",minimumInputLength:2,multiple:!1,ajax:{url:CONST.URL("personas/buscar_persona"),dataType:"json",type:"POST",quietMillis:500,data:function(e,t){return{q:e,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.data,more:n}}},initSelection:function(e,t){var n=$(e).val();""!==n&&$.ajax(CONST.URL("personas/buscar_persona"),{dataType:"json",type:"POST",data:"id="+n}).done(function(e){t(e.data[0])})},formatResult:function(e){return'<div class="row-fluid"><b>'+e.full_name.capitalize()+'</b></div><div class="row-fluid"><small><small>'+e.id+"</small></small></div>"},formatSelection:function(t){return r(function(){e.integrante.persona_id=$("#integrante_persona_id").val(),e.integrante.full_name=$("#integrante_persona_id").select2("data").full_name}),t.full_name}})})}dashboardApp.config(["$routeProvider","$locationProvider",RUTAS]),dashboardApp.filter("fristCap",function(){return function(e,t){return null!=e?(e=e.toLowerCase()).substring(0,1).toUpperCase()+e.substring(1):""}}),dashboardApp.controller("calificaciones_ctrl",["$scope","$http","$timeout","$uibModal",calificaciones_ctrl]),dashboardApp.controller("calificacion_ctrl",["$scope","$http","$uibModalInstance",calificacion_ctrl]),dashboardApp.controller("ciclos_ctrl",["$scope","$http","$timeout","$uibModal",ciclos_ctrl]),dashboardApp.controller("ciclo_ctrl",["$scope","$http","$uibModalInstance",ciclo_ctrl]),dashboardApp.controller("paises_ctrl",["$scope","$http","$timeout","$uibModal",paises]),dashboardApp.controller("pais_ctrl",["$scope","$http","$uibModalInstance",pais]),dashboardApp.controller("deptos_ctrl",["$scope","$http","$timeout","$uibModal",deptos]),dashboardApp.controller("depto_ctrl",["$scope","$http","$uibModal","$uibModalInstance","$timeout",depto]),dashboardApp.controller("mpios_ctrl",["$scope","$http","$timeout","$uibModal",mpios]),dashboardApp.controller("mpio_ctrl",["$scope","$http","$uibModal","$uibModalInstance","$timeout",mpio]),dashboardApp.controller("grupos_ctrl",["$scope","$http","$timeout","$uibModal",grupos_ctrl]),dashboardApp.controller("grupo_ctrl",["$scope","$http","$uibModalInstance","$timeout","$uibModal",grupo_ctrl]),dashboardApp.controller("lineas_ctrl",["$scope","$http","$timeout","$uibModal",lineas_ctrl]),dashboardApp.controller("linea_ctrl",["$scope","$http","$uibModalInstance","$timeout",linea_ctrl]),dashboardApp.controller("menu_ctrl",["$scope","$http","$window","$uibModal","$timeout",menu]),dashboardApp.controller("clave_ctrl",["$scope","$http","$window","$uibModalInstance","$timeout",clave]),dashboardApp.controller("modalidades_ctrl",["$scope","$http","$timeout","$uibModal",modalidades_ctrl]),dashboardApp.controller("modalidad_ctrl",["$scope","$http","$uibModalInstance",modalidad_ctrl]),dashboardApp.controller("personas_ctrl",["$scope","$http","$uibModal","$timeout",personas]),dashboardApp.controller("persona_ctrl",["$scope","$http","$uibModalInstance","$timeout",persona]),dashboardApp.controller("programas_ctrl",["$scope","$http","$timeout","$uibModal",programas_ctrl]),dashboardApp.controller("programa_ctrl",["$scope","$http","$uibModalInstance",programa_ctrl]),dashboardApp.controller("sedes_ctrl",["$scope","$http","$timeout","$uibModal",sedes_ctrl]),dashboardApp.controller("sede_ctrl",["$scope","$http","$uibModalInstance","$timeout",sede_ctrl]),dashboardApp.controller("semilleros_ctrl",["$scope","$http","$timeout","$uibModal",semilleros_ctrl]),dashboardApp.controller("semillero_ctrl",["$scope","$http","$uibModalInstance","$timeout",semillero_ctrl]),dashboardApp.controller("sublineas_ctrl",["$scope","$http","$timeout","$uibModal",sublineas_ctrl]),dashboardApp.controller("sublinea_ctrl",["$scope","$http","$uibModalInstance","$timeout",sublinea_ctrl]),dashboardApp.controller("tpdoc_ctrl",["$scope","$http","$timeout","$uibModal",tpdoc_ctrl]),dashboardApp.controller("doc_ctrl",["$scope","$http","$uibModalInstance",doc_ctrl]),dashboardApp.controller("usuarios_ctrl",["$scope","$http","$uibModal","$timeout",usuarios]),dashboardApp.controller("usuario_ctrl",["$scope","$http","$uibModalInstance","$timeout","$uibModal",usuario]),dashboardApp.controller("works_ctrl",["$scope","$http","$timeout","$uibModal",works_ctrl]),dashboardApp.controller("work_ctrl",["$scope","$http","$uibModalInstance","$timeout","$uibModal",work_ctrl]),dashboardApp.controller("integrante_ctrl",["$scope","$http","$uibModalInstance","$timeout","$uibModal",integrante_ctrl]);